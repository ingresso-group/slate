<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Ingresso API docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/ingresso-logo.png" alt="Ingresso logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#how-to-get-access-to-the-api'>Sign up for a developer key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <!---
# TODOs / Questions

* Improve test events
* Purchase
* Explain why you sometimes get unreserved_orders
* GET for Status?
* Note re similarity of trolley object across calls
* Matt to add docs for cities and categories
* Need to document the disallowed discount codes - need a test event with this data
* Matt to add a test meta event, and refer to this in the test intro section and wherever meta events are mentioned.
* avail_details needs a link to the bitmask explanation (and needs the fields updated)
* benchmark old vs new API
* Error codes need to be added everywhere by Pete.

* Amazon suggested we return a 429 - TOO MANY REQUESTS when we return backend_call_failed or backend_call_throttling_failed. Should we use http status codes in this type of case? These cases are an exception where they don't really look like errors (initially by design...)

* There are a number of places where the JSON object nesting isn't as simple as it could be. Eg instead of "event_upsell_list": ["6IE","MH0"] we have:
  "event_upsell_list": {
    "event_id": [
      "6IE",
      "MH0"
    ]
  }

  Similarly can this:
  "class": [
    {
      "class_desc": "Arts & Culture"
    }
  ]

  be simplified to this:
  "class": ["Arts & Culture"]

* We should remove user_review_percent until we actually have some reviews in the core
* Use a single req_media rather than requesting individual items. Merge images and video into media. Simplify the attributes returned eg just return the URL and is_secure rather than splitting up the URL into components and listing http and https variants.

Possible V2 functionality:
* A test API server or some form of rate limiting for particular users would help. Would allow us to give open access without worrying about someone hammering our main API server.
* A reporting API would be useful - our internal reporting apps should also use this
* Can we be more restful eg /events/25DR to get detail by event ID?
* Should we have the concept of a venue with an ID? (when the venue is enforced)
-->

<h1 id="important-note">IMPORTANT NOTE</h1>

<p>This API is currently a work in progress - until this message is removed v1 of
the API is subject to change.</p>

<h1 id="introduction">Introduction</h1>

<p>The Ingresso API is designed to allow you to sell from Ingresso&rsquo;s inventory of
event tickets.  Ingresso has connected to a large number of ticketing system
APIs, allowing us to transact directly on the venue&rsquo;s system.  By integrating
with the Ingresso API you are able to view and purchase live ticketing inventory 
from a number of different venues. </p>

<p>Example partners that have integrated with the Ingresso API are 
<a href="https://tickets.amazon.co.uk/">Amazon</a> and 
<a href="http://www.lastminute.com/theatre/">lastminute.com</a>. We also build our own 
ticketing websites entirely on top of our API (for example 
<a href="https://www.disneytickets.co.uk">Disney Tickets</a> and
<a href="https://www.fromtheboxoffice.com">From The Box Office</a>). </p>

<p>The Ingresso API is a fully transactional API, loosely based on REST. You format
GET or POST requests in <a href="http://www.json.org/">JSON</a> and you will receive either
a JSON-formatted response or an HTTP error. The API is known as F13, which
is why you see /f13 in the endpoint.</p>

<p>We describe objects in a consistent way across different resources (for example
the output of <a href="#events">events</a> and <a href="#performances">performances</a> includes a
cost_range object and this is described in the same format. The idea of this is
that standard code can be used on the client side to read all parts of the
output.</p>

<p>This API replaces the <a href="http://www.ingresso.co.uk/apidocs/">the Ingresso XML API</a>. 
The XML API relies on temporary tokens from each call being passed in
to the next call; these has been removed in favour of permanent IDs. One
benefit of this change is that a call near the end of the booking process, such
as <a href="#reserve">reserve</a>, can be called without needing to remake the preceeding
calls (such as <a href="#availability">requesting availability</a>), opening up additional
potential solutions.</p>

<h2 id="postman-examples">Postman examples</h2>

<p><img src="https://d1wx4w35ubmdix.cloudfront.net/wl-media/images/postman.png" alt="Postman screenshot"></p>

<p>We have a public library available for <a href="https://www.getpostman.com/">Postman</a> 
that closely matches the examples included in this documentation.</p>

<p>Click below to import our collection of API examples.</p>

<p><a href="https://www.getpostman.com/collections/7c834c45808672b158a7"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></p>

<h2 id="basic-booking-flow">Basic booking flow</h2>

<blockquote>
<p><strong>List events including from prices and a single image</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_one"</span> <span class="se">\</span>
    -G
</code></pre>
<blockquote>
<p><strong>List performances for event ID 6IF</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/performances.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"page_len=200"</span> <span class="se">\</span>
    -G
</code></pre>
<blockquote>
<p><strong>Display availability for the 9th May performance</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0T"</span> <span class="se">\</span>
    -G
</code></pre>
<blockquote>
<p><strong>Reserve 2 tickets in price band A in the Circle</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/reserve.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0T"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=CIRCLE"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=A/pool"</span> <span class="se">\</span>
    -d <span class="s2">"no_of_seats=2"</span> <span class="se">\</span>
    -G
</code></pre>
<blockquote>
<p><strong>Purchase the tickets</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/purchase.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"transaction_uuid=XXXXXXXX"</span> <span class="se">\</span>
    -G
</code></pre>
<p>The Ingresso API supports multiple use cases and variations, but below is a 
typical workflow:</p>

<ul>
<li><p>Retrieve a list of <a href="#events">events</a>.</p></li>
<li><p>Retrieve a list of <a href="#performances">performances</a> for an event.</p></li>
<li><p>Retrieve <a href="#availability">availability</a> for a performance, including seat
numbers if the event is seated.</p></li>
<li><p><em>Optionally you can request <a href="#discounts">discounts</a> for the selected tickets,
and purchase multiple items at once by adding them to a <a href="#trolley">trolley</a>.</em></p></li>
<li><p><a href="#reserve">reserve</a> tickets for a set period of time.</p></li>
<li><p><a href="#purchase">purchase</a> the reserved tickets.</p></li>
</ul>

<h2 id="philosophy">Philosophy</h2>

<ul>
<li>Returned data is as simple as possible for the task in-hand</li>
<li>Transaction flow is as simple as possible for the task in hand</li>
<li>Default missing parameters sensibly instead of erroring</li>
<li>Always try and complete a call in some way instead of erroring</li>
</ul>

<h2 id="types-of-api-integration">Types of API integration</h2>

<p>The Ingresso API supports a variety of different integration types. The most
common is a <strong>full integration</strong> - this is where our partner uses all
functionality of the Ingresso API to retrieve listings of events and
performances (often in advance to populate their own database) then to request
availability and reserve and purchase tickets in real-time.</p>

<p>Ingresso also offer partners an individually branded &ldquo;white label&rdquo; ticketing
website - for example <a href="https://www.disneytickets.co.uk">Disney Tickets</a> and
<a href="https://www.fromtheboxoffice.com">From The Box Office</a> are fully developed by
Ingresso. It is possible to use the API in conjunction with a white label
website as a <strong>partial integration</strong>. Some examples of partial integrations:</p>

<ul>
<li><p>Maintain a listing of events on your own site, and use Ingresso&rsquo;s white label
website for booking the tickets. In this case the Ingresso API can be used to 
<a href="#events-list">list events</a>.</p></li>
<li><p>Ingresso have invested in a high-converting booking app (where the user
selects their performance and seats). This page is often where most development
time is spent. It is possible to link to our booking page and we will
automatically redirect back to your checkout page once the customer has
successfully reserved their seats. You can link to our full booking page or just
embed our seat selection widget within your site.</p></li>
<li><p>Use the Ingresso API to display events, performances and availability, then
send your customer to our white label website for checkout. It is possible for
Ingresso to then redirect the customer back to your confirmation page if the
purchase is successful.</p></li>
</ul>

<h2 id="payment-options">Payment Options</h2>

<p>If you use the checkout page of Ingresso&rsquo;s white label website, then Ingresso
will take care of collecting payment from the customer. However if you wish to
develop your own checkout page these are the options for taking payment:</p>

<ol>
<li><p><strong>On-credit</strong>: you purchase tickets from Ingresso on-credit and take payment
from the customer yourself. You will be invoiced regularly by Ingresso.</p></li>
<li><p><strong>Stripe</strong>: you use <a href="https://stripe.com">Stripe</a> to take payment for all
Ingresso tickets, either into your own Stripe account (you will then be invoiced
by Ingresso) or directly into Ingresso&rsquo;s Stripe account. Stripe is a developer-
friendly payment provider that is simple to integrate with. Our API provides
integration support for Stripe - this is explained in more detail in
<a href="#reserve">reserve</a>.</p></li>
<li><p><strong>Venue or other payment provider</strong>: you either pass the customer&rsquo;s card
details to the supplier or redirect the customer to a payment provider specified
by Ingresso. This is not typically offered to partners - if you think this is
required you need to contact us first: api@ingresso.co.uk.</p></li>
</ol>

<h2 id="how-to-get-access-to-the-api">How to get access to the API</h2>

<p>All examples shown in this documentation are for the <code class="prettyprint">demo</code> user. This user has
access to test product only - you can make purchases with this  user without any
impact on live tickets, or any need to contact us first.</p>

<p>If you would like your own API credentials in order to start selling please 
email us: api@ingresso.co.uk</p>

<h2 id="authentication">Authentication</h2>

<blockquote>
<p>Example request with authentication</p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"s_keys=matthew"</span> <span class="se">\</span>
    -d <span class="s2">"s_coco=uk"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'demopass'</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>Connect as the <code class="prettyprint">demosub</code> subuser with Dutch as the preferred language</p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events.v1/demo/demosub/nl <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"s_keys=matthew"</span> <span class="se">\</span>
    -d <span class="s2">"req_extra_info"</span> <span class="se">\</span>
    -G
</code></pre>
<p>Authenticate when using the API by including your username and password in the 
request. Authentication to the API is performed via 
<a href="https://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>. </p>

<aside class="notice">Please ensure you keep your username and password secret - do not share 
these in publicly accessible areas such GitHub, client-side code, etc.</aside>

<blockquote class="lang-specific shell">
curl uses the -u flag to pass basic auth credentials in the format user:password.
</blockquote>

<p>This is all you need, but there are two additional optional parameters that can 
be included:</p>

<ol>
<li><p>Some of our partners require sub users for particular use cases such as running 
their own affiliate programme.</p></li>
<li><p>It is possible to pass in a preferred language code, overriding the language
code/s in the HTTP header. </p></li>
</ol>

<p>These parameters are included in the URL after the version number:</p>

<p><code class="prettyprint">/f13/events.v1/USER/SUBUSER/LANG_CODE</code></p>

<p>Using a &rsquo;-&rsquo; for the subuser or language code will cause it to be ignored, so to
ignore the subuser:</p>

<p><code class="prettyprint">/f13/events.v1/USER/-/LANG_CODE</code></p>

<h2 id="errors">Errors</h2>

<p>(TODO include a list of error codes here, HTTP status codes or otherwise.)</p>

<p>Note that HTTP error codes are not returned as part of expected API usage - such
things as no  availability are indicated by an empty list in a successful
response, rather than a 404 which is, arguably, the correct REST response. Even
when an HTTP error <em>is</em> returned, however, there will be a JSON block
acocmpanying it which contains human readable error text so that the caller has
some idea of what they have done wrong.</p>

<p>To check whether there is a problem with the Ingresso API or the supplier
systems we connect to, you can check the <a href="https://status.ingresso.co.uk/">Ingresso status
page</a>.</p>

<h2 id="variables-controlling-output">Variables controlling output</h2>

<p>The output from a given resource may be augmented beyond the
basic result in one of two ways. Firstly there are extra functions
which may be availble for a given resource, which are specific to
that resource. These are triggered using variables with the prefix <code class="prettyprint">add_</code> 
such as <code class="prettyprint">add_discount_codes</code> on the availability resource which
is used to control whether or not discount codes are also retrieved and
returned.</p>

<p>The second type of augmentation is specific to the returned objects themselves
and is thus applicable to the output of any resource which returns one of these
objects. The most obvious example is an event object, which can be described
with many extra pieces of information about it. These varaibles are all prefixed
with <code class="prettyprint">req_</code> as they are requests to the objects to output something extra or
different about themselves, for example <code class="prettyprint">req_cost_range</code>.</p>

<p>Note that the <code class="prettyprint">req_</code> and <code class="prettyprint">add_</code> variables all result in extra
processing to retrieve the requested data, which will slow down the resource,
sometimes substantially. They should therefore only be used where necessary.</p>

<h2 id="api-libraries-sdks">API libraries / SDKs</h2>

<p>Our API libraries implement a thin client over the API. Where the API 
will return JSON, the API wrappers return language-specific objects. We 
have developed a <a href="https://github.com/ingresso-group/pyticketswitch">Python API library</a> 
(TODO replace URL).</p>

<blockquote class="lang-specific python">
<p>
<strong>Definition</strong>
</p>
</blockquote>
<pre class="highlight python"><code><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Core</span><span class="p">()</span>
</code></pre>
<blockquote class="lang-specific python">
<p>
<strong>Example</strong>
</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">pyticketswitch</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Core</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="s">'https://demo.ticketswitch.com/tickets/xml_core.exe'</span><span class="p">,</span>
        <span class="n">username</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s">'demopass'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre>
<p class="lang-specific python">
The first step in most situations will be to instantiate a client. (TODO these code examples refer to XML wrappers)
<br/><br/>
<strong>Required Parameters</strong>
</p>

<table class="lang-specific python">
<thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>url</code></td><td>string</td><td>API end point that the client will communicate with</td></tr>
<tr class="lang-specific python"><td><code>username</code></td><td>string</td><td>Ticketswitch <code>user_id</code></td></tr>
<tr class="lang-specific python"><td><code>password</code></td><td>string</td><td>Ticketswitch <code>user_passwd</code></td></tr>
</tbody>
</table>

<p>(TODO also include how to install eg with pip install?)</p>

<h2 id="testing">Testing</h2>

<p>We have a number of test events that you can use to view test availability and
make test purchases.</p>

<p>For testing best available events, use &ldquo;Matthew Bourne&rsquo;s Nutcracker TEST&rdquo; (event
ID = 6IF) and &ldquo;Matthew Bourne&rsquo;s Swan Lake test&rdquo; (6IE).</p>

<p>For testing events that allow you to select specific seats, use any of these
events: 3CVA, 3CVB, 3CVC, 3CVD, 3CVE, 3CVF or 3CVG. 
Note that we have a seat selection seating plan available for 3CVE - this will
be helpful if you decide to implement seat selection on your front end (please
email  api@ingresso.co.uk and we can talk you through this). The availability on
these seat selection events is limited, so please limit test purchasing to manual
purchases only, do not use automated purchasing for these events.</p>

<p>It may be useful to use our <a href="https://b2b.ingresso.co.uk/b2b/">B2B website</a> as a
working example during your development.
You can sign in using your own credentials or with affiliate ID: <code class="prettyprint">demo</code> and
password: <code class="prettyprint">demopass</code></p>

<p>We have a number of other events for different types of events such as
attractions and hotels - you will see these if you <a href="#events">list all events</a>.</p>

<p>It can be useful to test different despatch methods:</p>

<ul>
<li>The Nutcracker (6IF) has &ldquo;collect from the venue&rdquo; and &ldquo;post&rdquo;</li>
<li>Test Event - Type 1 (3CVA) has &ldquo;self-print voucher&rdquo; (also known as eticket)</li>
</ul>

<p>Some of the test events have specific conditions that you can check:</p>

<ul>
<li>Swan Lake (6IE) has default discounts only</li>
<li>Swan Lake (6IE) reserves will fail for Tuesday performances</li>
<li>Swan Lake (6IE) has restricted view seats on ticket 2 and 3 on thursdays</li>
<li>The Nutcracker (6IF) has a maximum of 3 mixed discounts</li>
<li>The Nutcracker (6IF) has no availability on saturday nights</li>
<li>The Nutcracker (6IF) has no discounts in the stalls on the 1st of the month</li>
<li>The Nutcracker (6IF) has no OPA or STUDENT discounts in price band B</li>
<li>La Femme (6L9) has blanket discounts</li>
<li>La Femme (6L9) has a special offer</li>
<li>V&amp;A memberships (6KF) only allow a single seat to be selected and have a type of use_last_perf</li>
<li>California Disney (9XY) is post only (can be used to generate &lsquo;no sends&rsquo; if you select a performance date within the next few days)</li>
<li>Flamingoland family passes (6KU) are not valid on Mondays</li>
</ul>

<h2 id="versioning">Versioning</h2>

<p>The API version number forms part of the URL, for example
https://demo.ticketswitch.com/f13/events.v1 uses version 1. We will always
endeavour to add functionality and make changes in a backward-compatible manner,
but when that is not possible we will implement a new version. We will then
introduce a deprecation schedule for the replaced version and notify all
partners that have integrated.</p>

<h2 id="api-support">API Support</h2>

<p>We only provide support to partners that we have provided a test account to. 
If you have a test or live account and you encounter problems with the API:</p>

<ol>
<li><p>Check the <a href="https://status.ingresso.co.uk/">Ingresso status page</a>. If there is 
an issue reported on the status page this indicates we are already aware.</p></li>
<li><p>If your issue does not fit the description of the current issue, or we have
not reported an issue you should contact us under the SLAs and with the contact 
details we have previously agreed.</p></li>
</ol>

          <h1 id="events">Events</h1>

<p>An event describes a product within the Ingresso system such as a theatre show,
a theme park, or a sporting event. The event will also include information about
the venue and its geographic location. An event will normally have one or more
<a href="#performances">performances</a>. An event without available performances will be
considered <code class="prettyprint">dead</code> and won&rsquo;t be turn up in searches unless explicitly requested.</p>

<p>Each event has a unique <code class="prettyprint">event_id</code> that identifies the event to other parts of
the API.</p>

<p>There are two event-related resources:</p>

<ol>
<li><p><a href="#events-list">Events list</a>: list all events or search for events.</p></li>
<li><p><a href="#events-by-id">Events by ID</a>: return detail for one or more events by 
their ID.</p></li>
</ol>

<p>These two resources are described below, followed by detail of the 
<a href="#additional-parameters">additional parameters</a> that can be passed to each.</p>

<h2 id="events-list">Events list</h2>

<p>This resource lists events. It accepts a number of search parameters to
filter the list returned. The list is paged to avoid large volumes of data being
accidentally returned.</p>

<aside class="notice">Searching is not case sensitive.</aside>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/events.v1
</code></pre>
<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"keywords=matthew"</span> <span class="se">\</span>
    -d <span class="s2">"country_code=uk"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_events</span><span class="p">(</span><span class="n">keywords</span><span class="o">=</span><span class="p">[</span><span class="s">'matthew'</span><span class="p">],</span> <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">)</span>
</code></pre>
<p>These are the available search / filter parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">keywords</code></td>
<td>Space separated list of search keywords, e.g. <code class="prettyprint">lion king new york</code> or <code class="prettyprint">paris tours</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">date_range</code></td>
<td>Date range in the form <code class="prettyprint">yyyymmdd:yyyymmdd</code> (both are optional) to filter events to those with performances within the date range.</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>2-digit country code (using <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>).</td>
</tr>
<tr>
<td><code class="prettyprint">city_code</code></td>
<td>Return events in a particular city. The list of city codes can be retrieved using the <a href="#cities">cities</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">circle</code></td>
<td>Return events within in a circular geographical area. Three colon-separated values are needed for <strong>latitude</strong>, <strong>longitude</strong>, and <strong>radius in kilometres</strong>.  Example: <code class="prettyprint">51.52961137:-0.10601562:10</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">airport_code</code></td>
<td>Return events near an airport (specified using an <a href="https://en.wikipedia.org/wiki/International_Air_Transport_Association_airport_code">IATA airport code</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">include_dead</code></td>
<td>Include dead events in the results. This could be useful if you dynamically retrieve the list of events from Ingresso and want to continue to display an event page after an event dies, for example to help with search engine optimisation.</td>
</tr>
</tbody></table>

<p>These parameters are used to control the output if more than one event is returned:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">page_len</code></td>
<td>Length of a page, default 50.</td>
</tr>
<tr>
<td><code class="prettyprint">page_no</code></td>
<td>Page number, default 0, ignored if page_len is not present.</td>
</tr>
<tr>
<td><code class="prettyprint">sort_order</code></td>
<td>Valid values are <code class="prettyprint">most_popular</code> (based on sales across all partners over the last 48 hours), <code class="prettyprint">alphabetic</code>, <code class="prettyprint">cost_ascending</code> (lowest price first, based on the minimum total price [seatprice + surcharge] for the event), <code class="prettyprint">cost_descending</code> (highest price first, based on the <em>maximum</em> total price for the event), <code class="prettyprint">critic_rating</code> (average critic rating, highest to lowest), <code class="prettyprint">recent</code>, <code class="prettyprint">last_sale</code>. When there is a tie alphabetic ordering is used to break the tie. <strong>Note: there is a slight performance impact to using <code class="prettyprint">cost_ascending</code> or <code class="prettyprint">cost_descending</code> if you are not also using the <code class="prettyprint">req_cost_range</code> parameter.</strong></td>
</tr>
</tbody></table>

<p>These parameters can be passed in to request additional data for each event, and 
are described in more detail in the 
<a href="#additional-parameters">additional parameters</a> section below:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-details">availability details</a> - a cached list of unique ticket types and price bands available for this event across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_avail_details_with_perfs</code></td>
<td>This will add the list of available performance dates to each avail detail object. <em>Only valid if used alongside req_avail_details</em>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-range">cost ranges</a> - a from price and offer detail for each event. <em>Most partners include this parameter.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. <em>This is the most commonly used offer cost range.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
<tr>
<td><code class="prettyprint">req_extra_info</code></td>
<td>Returns the <a href="#extra-info">descriptive info</a> for the event, returned as individual sections (<code class="prettyprint">structured_info</code>) or as a single summary (<code class="prettyprint">event_info</code> / <code class="prettyprint">event_info_html</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_one</code></td>
<td>Triplet one (jpg/png 520x390). <a href="#media">See further detail on media</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_two</code></td>
<td>Triplet two if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_three</code></td>
<td>Triplet three if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_four</code></td>
<td>Triplet four if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_five</code></td>
<td>Triplet five if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_seating_plan</code></td>
<td>Graphical seating plan of the venue if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_square</code></td>
<td>Small square image suitable for search or event avatar (jpg/png 140x140).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_landscape</code></td>
<td>Small landscape banner suitable for search (jpg/png 220x115).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_marquee</code></td>
<td>Large landscape banner suitable for a page heading, if available (jpg/png 700x300).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_supplier</code></td>
<td>Logo of the supplier/producer, if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_reviews</code></td>
<td>Returns <a href="#reviews">event reviews</a> if available.</td>
</tr>
<tr>
<td><code class="prettyprint">req_video_iframe</code></td>
<td>Returns video iframe information if available.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"results"</span>: <span class="o">{</span>
    <span class="s2">"event"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"class"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"class_desc"</span>: <span class="s2">"Ballet &amp; Dance"</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"class"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"class_desc"</span>: <span class="s2">"Ballet &amp; Dance"</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Swan Lake test"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IE"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IE-matthew-bourne-s-swan-lake-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IF"</span>,
            <span class="s2">"6KU"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 90,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">[</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker TEST'</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
        <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
        <span class="n">venue</span><span class="o">=</span><span class="s">'Sadler</span><span class="se">\'</span><span class="s">s Wells'</span><span class="p">,</span>

        <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Arts &amp; Culture'</span><span class="p">],</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">[],</span>

        <span class="n">postcode</span><span class="o">=</span><span class="s">'EC1R 4TN'</span><span class="p">,</span>
        <span class="n">city</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span>
        <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
        <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
        <span class="n">latitude</span><span class="o">=</span><span class="mf">51.52961137</span><span class="p">,</span>
        <span class="n">longditude</span><span class="o">=-</span><span class="mf">0.10601562</span><span class="p">,</span>

        <span class="n">max_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
        <span class="n">min_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>

        <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

        <span class="n">upsell_list</span><span class="o">=</span><span class="p">[</span><span class="s">'6IE'</span><span class="p">,</span> <span class="s">'MH0'</span><span class="p">],</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IE'</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s Swan Lake TEST'</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
        <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
        <span class="n">venue</span><span class="o">=</span><span class="s">'Sadler</span><span class="se">\'</span><span class="s">s Wells'</span><span class="p">,</span>

        <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Ballet &amp; Dance'</span><span class="p">],</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">[],</span>

        <span class="n">postcode</span><span class="o">=</span><span class="s">'EC1R 4TN'</span><span class="p">,</span>
        <span class="n">city</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span>
        <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
        <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
        <span class="n">latitude</span><span class="o">=</span><span class="mf">51.52961137</span><span class="p">,</span>
        <span class="n">longditude</span><span class="o">=-</span><span class="mf">0.10601562</span><span class="p">,</span>

        <span class="n">max_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
        <span class="n">min_running_time</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>

        <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

        <span class="n">upsell_list</span><span class="o">=</span><span class="p">[</span><span class="s">'6IF'</span><span class="p">,</span> <span class="s">'6KU'</span> <span class="s">'MH0'</span><span class="p">],</span>
    <span class="p">),</span>
<span class="p">]</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">city_desc</code></td>
<td>Name of the city where the event is taking place.</td>
</tr>
<tr>
<td><code class="prettyprint">class</code></td>
<td>Array of class or category objects.</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>2-digit country code (using <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>)</td>
</tr>
<tr>
<td><code class="prettyprint">country_desc</code></td>
<td>Name of the country where the event is taking place.</td>
</tr>
<tr>
<td><code class="prettyprint">critic_review_percent</code></td>
<td>The aggregate critic review score, e.g. <code class="prettyprint">80</code> for 80%.</td>
</tr>
<tr>
<td><code class="prettyprint">custom_filter</code></td>
<td>Array of custom filter codes. (TODO can we remove this?).</td>
</tr>
<tr>
<td><code class="prettyprint">date_range_start</code></td>
<td>A <a href="#date-time-object">date/time object</a> for the start of the run.</td>
</tr>
<tr>
<td><code class="prettyprint">date_range_end</code></td>
<td>A <a href="#date-time-object">date/time object</a> for the end of the run.</td>
</tr>
<tr>
<td><code class="prettyprint">event_desc</code></td>
<td>Name of the show or event e.g. <code class="prettyprint">The Lion King</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Unique identifier for the event.</td>
</tr>
<tr>
<td><code class="prettyprint">event_path</code></td>
<td>If you also use a white label website this can be used to navigate to the event page, e.g. <code class="prettyprint">/2J5V-la-pedrera-skip-the-line/</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_status</code></td>
<td>Will be <code class="prettyprint">live</code> for a normal event search. Other values are <code class="prettyprint">dead</code> and <code class="prettyprint">pending</code> but these will only be displayed when using the <code class="prettyprint">include_dead</code> or <code class="prettyprint">include_non_live</code> parameters.</td>
</tr>
<tr>
<td><code class="prettyprint">event_type</code></td>
<td>Currently all events are of type <code class="prettyprint">simple_ticket</code>. In future we may add <code class="prettyprint">hotel_room</code> and <code class="prettyprint">misc_item</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_upsell_list</code></td>
<td>A list of event IDs that can be presented as an upsell option to customers (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data</code></td>
<td>A block containing the following geo co-ordinates:</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data.latitude</code></td>
<td>Latitude of the event.</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data.longitude</code></td>
<td>Longitude of the event.</td>
</tr>
<tr>
<td><code class="prettyprint">has_no_perfs</code></td>
<td><code class="prettyprint">true</code> if the event has no performances. For example some attraction tickets are valid for any date, so we do not present a list of performances to select.</td>
</tr>
<tr>
<td><code class="prettyprint">is_seated</code></td>
<td><code class="prettyprint">true</code> for seated events.</td>
</tr>
<tr>
<td><code class="prettyprint">min_running_time</code></td>
<td>Minimum length / duration in minutes (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">max_running_time</code></td>
<td>Maximum length / duration in minutes (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">need_departure_date</code></td>
<td>Flag indicating whether the event needs a departure date specified. This is <code class="prettyprint">false</code> for most events. (TODO more detail needed)</td>
</tr>
<tr>
<td><code class="prettyprint">need_duration</code></td>
<td>Flag indicating whether the event needs duration (specific to <code class="prettyprint">hotel_room</code> events only).</td>
</tr>
<tr>
<td><code class="prettyprint">need_performance</code></td>
<td>Flag indicating if a performance must be selected in order to retrieve availability.</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code></td>
<td>Postcode of the event location.</td>
</tr>
<tr>
<td><code class="prettyprint">show_perf_time</code></td>
<td><code class="prettyprint">false</code> if the performance time is not relevant, for example some events use a performance description rather than specific times.</td>
</tr>
<tr>
<td><code class="prettyprint">source_desc</code></td>
<td>Despription of the source supplier e.g. <code class="prettyprint">Nimax</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">user_review_percent</code></td>
<td>The aggregate user review score, e.g. <code class="prettyprint">80</code> for 80%.</td>
</tr>
<tr>
<td><code class="prettyprint">venue_desc</code></td>
<td>Name of the venue e.g. <code class="prettyprint">Sadler&#39;s Wells</code>.</td>
</tr>
</tbody></table>

<h2 id="events-by-id">Events by ID</h2>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/events_by_id.v1?event_id_list={eventidlist}
</code></pre>
<p>This resource returns detail for one or more specific events by their ID. It
returns a dictionary of events keyed on the event&rsquo;s <code class="prettyprint">event_id</code>. </p>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF,6IE"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s">'demo'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">(</span><span class="n">event_ids</span><span class="o">=</span><span class="p">[</span><span class="s">'6IF'</span><span class="p">])</span>
</code></pre>
<h3 id="request">Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">event_id_list</code></td>
<td>A comma separated list of event IDs e.g. <code class="prettyprint">25DR</code> for a single event; <code class="prettyprint">1VLG,1YYO,25DR</code> for multiple events.</td>
</tr>
</tbody></table>

<p>These parameters can be passed in to request additional data for each event, and are described in more detail in the <a href="#additional-parameters">additional parameters</a> section below:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-details">availability details</a> - a cached list of unique ticket types and price bands available for this event across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_avail_details_with_perfs</code></td>
<td>This will add the list of available performance dates to each avail detail object. <em>Only valid if used alongside req_avail_details</em>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-range">cost ranges</a> - a from price and offer detail for each event. <em>Most partners include this parameter.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. <em>This is the most commonly used offer cost range.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
<tr>
<td><code class="prettyprint">req_extra_info</code></td>
<td>Returns the <a href="#extra-info">descriptive info</a> for the event, returned as individual sections (<code class="prettyprint">structured_info</code>) or as a single summary (<code class="prettyprint">event_info</code> / <code class="prettyprint">event_info_html</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_one</code></td>
<td>Triplet one (jpg/png 520x390). <a href="#media">See further detail on media</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_two</code></td>
<td>Triplet two if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_three</code></td>
<td>Triplet three if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_four</code></td>
<td>Triplet four if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_five</code></td>
<td>Triplet five if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_seating_plan</code></td>
<td>Graphical seating plan of the venue if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_square</code></td>
<td>Small square image suitable for search or event avatar (jpg/png 140x140).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_landscape</code></td>
<td>Small landscape banner suitable for search (jpg/png 220x115).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_marquee</code></td>
<td>Large landscape banner suitable for a page heading, if available (jpg/png 700x300).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_supplier</code></td>
<td>Logo of the supplier/producer, if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_reviews</code></td>
<td>Returns <a href="#reviews">event reviews</a> if available.</td>
</tr>
<tr>
<td><code class="prettyprint">req_video_iframe</code></td>
<td>Returns video iframe information if available.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IE"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Swan Lake test"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IE"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IE-matthew-bourne-s-swan-lake-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IF"</span>,
            <span class="s2">"6KU"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Swan-Lake-test"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 90,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IE'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IE'</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s Swan Lake TEST'</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
        <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
        <span class="n">venue</span><span class="o">=</span><span class="s">'Sadler</span><span class="se">\'</span><span class="s">s Wells'</span><span class="p">,</span>

        <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Ballet &amp; Dance'</span><span class="p">],</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">[],</span>

        <span class="n">postcode</span><span class="o">=</span><span class="s">'EC1R 4TN'</span><span class="p">,</span>
        <span class="n">city</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span>
        <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
        <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
        <span class="n">latitude</span><span class="o">=</span><span class="mf">51.52961137</span><span class="p">,</span>
        <span class="n">longditude</span><span class="o">=-</span><span class="mf">0.10601562</span><span class="p">,</span>

        <span class="n">max_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
        <span class="n">min_running_time</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>

        <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

        <span class="n">upsell_list</span><span class="o">=</span><span class="p">[</span><span class="s">'6IF'</span><span class="p">,</span> <span class="s">'6KU'</span> <span class="s">'MH0'</span><span class="p">],</span>
    <span class="p">),</span>
    <span class="s">'6IF'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker TEST'</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
        <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
        <span class="n">venue</span><span class="o">=</span><span class="s">'Sadler</span><span class="se">\'</span><span class="s">s Wells'</span><span class="p">,</span>

        <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Arts &amp; Culture'</span><span class="p">],</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">[],</span>

        <span class="n">postcode</span><span class="o">=</span><span class="s">'EC1R 4TN'</span><span class="p">,</span>
        <span class="n">city</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span>
        <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
        <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
        <span class="n">latitude</span><span class="o">=</span><span class="mf">51.52961137</span><span class="p">,</span>
        <span class="n">longditude</span><span class="o">=-</span><span class="mf">0.10601562</span><span class="p">,</span>

        <span class="n">max_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
        <span class="n">min_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>

        <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

        <span class="n">upsell_list</span><span class="o">=</span><span class="p">[</span><span class="s">'6IE'</span><span class="p">,</span> <span class="s">'MH0'</span><span class="p">],</span>
    <span class="p">),</span>
<span class="p">}</span>

</code></pre>
<p><strong>Attributes</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">city_desc</code></td>
<td>Name of the city where the event is taking place.</td>
</tr>
<tr>
<td><code class="prettyprint">class</code></td>
<td>Array of class or category objects.</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>2-digit country code (using <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>).</td>
</tr>
<tr>
<td><code class="prettyprint">country_desc</code></td>
<td>Name of the country where the event is taking place.</td>
</tr>
<tr>
<td><code class="prettyprint">critic_review_percent</code></td>
<td>The aggregate critic review score, e.g. <code class="prettyprint">80</code> for 80%.</td>
</tr>
<tr>
<td><code class="prettyprint">custom_filter</code></td>
<td>Array of custom filter codes. (TODO can we remove this?).</td>
</tr>
<tr>
<td><code class="prettyprint">date_range_start</code></td>
<td>A <a href="#date-time-object">date/time object</a> for the start of the run.</td>
</tr>
<tr>
<td><code class="prettyprint">date_range_end</code></td>
<td>A <a href="#date-time-object">date/time object</a> for the end of the run.</td>
</tr>
<tr>
<td><code class="prettyprint">event_desc</code></td>
<td>Name of the show or event e.g. <code class="prettyprint">The Lion King</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Unique identifier for the event.</td>
</tr>
<tr>
<td><code class="prettyprint">event_path</code></td>
<td>If you also use a white label website this can be used to navigate to the event page, e.g. <code class="prettyprint">/2J5V-la-pedrera-skip-the-line/</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_status</code></td>
<td>Will be <code class="prettyprint">live</code> for a normal event search. Other values are <code class="prettyprint">dead</code> and <code class="prettyprint">pending</code> but these will only be displayed when using the <code class="prettyprint">include_dead</code> or <code class="prettyprint">include_non_live</code> parameters.</td>
</tr>
<tr>
<td><code class="prettyprint">event_type</code></td>
<td>Currently all events are of type <code class="prettyprint">simple_ticket</code>. In future we may add <code class="prettyprint">hotel_room</code> and <code class="prettyprint">misc_item</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">event_upsell_list</code></td>
<td>A list of event IDs that can be presented as an upsell option to customers (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data</code></td>
<td>A block containing the following geo co-ordinates:</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data.latitude</code></td>
<td>Latitude of the event.</td>
</tr>
<tr>
<td><code class="prettyprint">geo_data.longitude</code></td>
<td>Longitude of the event.</td>
</tr>
<tr>
<td><code class="prettyprint">has_no_perfs</code></td>
<td><code class="prettyprint">true</code> if the event has no performances. For example some attraction tickets are valid for any date, so we do not present a list of performances to select.</td>
</tr>
<tr>
<td><code class="prettyprint">is_seated</code></td>
<td><code class="prettyprint">true</code> for seated events.</td>
</tr>
<tr>
<td><code class="prettyprint">min_running_time</code></td>
<td>Minimum length / duration in minutes (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">max_running_time</code></td>
<td>Maximum length / duration in minutes (not always present).</td>
</tr>
<tr>
<td><code class="prettyprint">need_departure_date</code></td>
<td>Flag indicating whether the event needs a departure date specified. This is <code class="prettyprint">false</code> for most events. (TODO more detail needed)</td>
</tr>
<tr>
<td><code class="prettyprint">need_duration</code></td>
<td>Flag indicating whether the event needs duration (specific to <code class="prettyprint">hotel_room</code> events only).</td>
</tr>
<tr>
<td><code class="prettyprint">need_performance</code></td>
<td>Flag indicating if a performance must be selected in order to retrieve availability.</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code></td>
<td>Postcode of the event location.</td>
</tr>
<tr>
<td><code class="prettyprint">show_perf_time</code></td>
<td><code class="prettyprint">false</code> if the performance time is not relevant, for example some events use a performance description rather than specific times.</td>
</tr>
<tr>
<td><code class="prettyprint">source_desc</code></td>
<td>Despription of the source supplier e.g. <code class="prettyprint">Nimax</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">user_review_percent</code></td>
<td>The aggregate user review score, e.g. <code class="prettyprint">80</code> for 80%.</td>
</tr>
<tr>
<td><code class="prettyprint">venue_desc</code></td>
<td>Name of the venue e.g. <code class="prettyprint">Sadler&#39;s Wells</code>.</td>
</tr>
</tbody></table>

<h2 id="additional-parameters">&mdash; Additional parameters &mdash;</h2>

<p>There are several additional parameters described below that can be provided to
return additional data for each event.</p>

<p>These additional parameters require extra processing to retrieve the requested
data, which will slow down the resource, sometimes substantially. They should
therefore only be used where necessary.</p>

<h2 id="media">Media</h2>

<p>Most events include image URLs and a YouTube video. Almost all events will
include the triplet_one, square and landscape images. In most cases the 
seating_plan, triplet_two and triplet_three images are also provided, along with 
a video_iframe (typically YouTube).</p>

<h3 id="request">Request</h3>

<p>There are several different types of media and they all need to be requested
independently when using the API. When using one of the language wrappers
all media requests are consolidated.</p>

<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_one"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_two"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_three"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_four"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_triplet_five"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_seating_plan"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_square"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_landscape"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_marquee"</span> <span class="se">\</span>
    -d <span class="s2">"req_media_supplier"</span> <span class="se">\</span>
    -d <span class="s2">"req_video_iframe"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">media</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_media_triplet_one</code></td>
<td>Triplet one (jpg/png 520x390) - this is our most commonly used event image (ignore the &ldquo;triplet&rdquo; in the name which no longer makes sense&hellip;)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_two</code></td>
<td>Triplet two if available (jpg/png 520x390)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_three</code></td>
<td>Triplet three if available (jpg/png 520x390)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_four</code></td>
<td>Triplet four if available (jpg/png 520x390)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_five</code></td>
<td>Triplet five if available (jpg/png 520x390)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_seating_plan</code></td>
<td>Graphical seating plan of the venue if available (jpg/png varying size)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_square</code></td>
<td>Small square image suitable for search or event avatar (jpg/png 140x140)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_landscape</code></td>
<td>Small landscape banner suitable for search (jpg/png 220x115)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_marquee</code></td>
<td>Large landscape banner suitable for a page heading, if available (jpg/png 700x300)</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_supplier</code></td>
<td>Logo of the supplier/producer, if available (jpg/png varying size)</td>
</tr>
<tr>
<td><code class="prettyprint">req_video_iframe</code></td>
<td>Returns video iframe information if available</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"media"</span>: <span class="o">{</span>
          <span class="s2">"media_asset"</span>: <span class="o">[</span>
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/93/93c04bf0d24ef3d05e8fef4ba7709df0434ea13c.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"landscape"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper/93/93c04bf0d24ef3d05e8fef4ba7709df0434ea13c.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/93/93c04bf0d24ef3d05e8fef4ba7709df0434ea13c.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">false</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/7e/7e048c655f79d1ae01419c92420861df156b83fc.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"marquee"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper/7e/7e048c655f79d1ae01419c92420861df156b83fc.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/7e/7e048c655f79d1ae01419c92420861df156b83fc.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">false</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/29/2974e58797af0d91752b73da390ae6f8fa6e4862.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"seating_plan"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper_cloud/29/2974e58797af0d91752b73da390ae6f8fa6e4862.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/29/2974e58797af0d91752b73da390ae6f8fa6e4862.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">true</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/5e/5e004f25b5aab6f432cd7e6839b70942d8a5f17b.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"square"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper/5e/5e004f25b5aab6f432cd7e6839b70942d8a5f17b.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/5e/5e004f25b5aab6f432cd7e6839b70942d8a5f17b.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">false</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/ext_test0/+system_ext_test0/supplier.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"supplier"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/ext_test0/+system_ext_test0/supplier.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/ext_test0/+system_ext_test0/supplier.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">true</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"triplet_five"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">false</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"triplet_four"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">false</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/0e/0e255d4f96bd02baa7bfd22fd2cab90c8f6ced34.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"triplet_one"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper_cloud/0e/0e255d4f96bd02baa7bfd22fd2cab90c8f6ced34.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/0e/0e255d4f96bd02baa7bfd22fd2cab90c8f6ced34.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">true</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"caption"</span>: <span class="s2">""</span>,
              <span class="s2">"caption_html"</span>: <span class="s2">""</span>,
              <span class="s2">"host"</span>: <span class="s2">"d1wx4w35ubmdix.cloudfront.net"</span>,
              <span class="s2">"insecure_complete_url"</span>: <span class="s2">"http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/ca/ca2d4589a89480514f0db6fcec8a982652280093.jpg"</span>,
              <span class="s2">"name"</span>: <span class="s2">"triplet_two"</span>,
              <span class="s2">"path"</span>: <span class="s2">"/shared/event_media/cropper_cloud/ca/ca2d4589a89480514f0db6fcec8a982652280093.jpg"</span>,
              <span class="s2">"secure_complete_url"</span>: <span class="s2">"https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/ca/ca2d4589a89480514f0db6fcec8a982652280093.jpg"</span>,
              <span class="s2">"supports_http"</span>: <span class="nb">true</span>,
              <span class="s2">"supports_https"</span>: <span class="nb">true</span>
            <span class="o">}</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>,
        <span class="s2">"video_iframe"</span>: <span class="o">{</span>
          <span class="s2">"video_iframe_caption"</span>: <span class="s2">""</span>,
          <span class="s2">"video_iframe_caption_html"</span>: <span class="s2">""</span>,
          <span class="s2">"video_iframe_height"</span>: 315,
          <span class="s2">"video_iframe_host"</span>: <span class="s2">"www.youtube.com"</span>,
          <span class="s2">"video_iframe_path"</span>: <span class="s2">"/embed/G1JpEHGizk4?rel=0"</span>,
          <span class="s2">"video_iframe_supports_http"</span>: <span class="nb">false</span>,
          <span class="s2">"video_iframe_supports_https"</span>: <span class="nb">true</span>,
          <span class="s2">"video_iframe_url_when_insecure"</span>: <span class="s2">"https://www.youtube.com/embed/G1JpEHGizk4?rel=0"</span>,
          <span class="s2">"video_iframe_url_when_secure"</span>: <span class="s2">"https://www.youtube.com/embed/G1JpEHGizk4?rel=0"</span>,
          <span class="s2">"video_iframe_width"</span>: 420
        <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
    <span class="n">media</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'landscape'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/93/93c04bf0d24ef3d05e8fef4ba7709df0434ea13c.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'marquee'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/7e/7e048c655f79d1ae01419c92420861df156b83fc.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'seating_plan'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/29/2974e58797af0d91752b73da390ae6f8fa6e4862.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'square'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/5e/5e004f25b5aab6f432cd7e6839b70942d8a5f17b.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'supplier'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/ext_test0/+system_ext_test0/supplier.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'triplet_five'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'triplet_four'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper/f9/f9aaf4bc04477c303d78bc5107cc0754df846ac8.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'triplet_one'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/0e/0e255d4f96bd02baa7bfd22fd2cab90c8f6ced34.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'triplet_two'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'http://d1wx4w35ubmdix.cloudfront.net/shared/event_media/cropper_cloud/ca/ca2d4589a89480514f0db6fcec8a982652280093.jpg'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Media</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'video'</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">caption_html</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="s">'https://www.youtube.com/embed/G1JpEHGizk4'</span><span class="p">,</span>
            <span class="n">secure</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>

</code></pre>
<h3 id="media-asset">Media Asset</h3>

<p>Media assets provide both secure and insecure URLs where possible when either a
secure or and insecure URL is not available, the other URL will be substituted.
Generally speaking all our media assets at this point will be https with no http
option, however this is not a universal rule.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>The name of the image, default names are `triple_{one</td>
</tr>
<tr>
<td><code class="prettyprint">caption</code></td>
<td>any text related to the image in plain text</td>
</tr>
<tr>
<td><code class="prettyprint">caption_html</code></td>
<td>any text related to the image in html</td>
</tr>
<tr>
<td><code class="prettyprint">host</code></td>
<td>the hostname of server on which the image is hosted</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>the absolute path of the file on the host</td>
</tr>
<tr>
<td><code class="prettyprint">insecure_complete_url</code></td>
<td>a complete http address</td>
</tr>
<tr>
<td><code class="prettyprint">secure_complete_url</code></td>
<td>a complete https address</td>
</tr>
<tr>
<td><code class="prettyprint">supports_http</code></td>
<td>indicates that the asset is accessible via http</td>
</tr>
<tr>
<td><code class="prettyprint">supports_https</code></td>
<td>indicates that the asset is accessible via https</td>
</tr>
</tbody></table>

<h3 id="video-iframe">Video iframe</h3>

<p>The video iframe is a slightly different media asset that contains information
about an embeddable video related to the event. It shares the same attributes
with a regular media asset but also contains hints for iframe sizing.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">video_iframe_height</code></td>
<td>the suggested height of the iframe</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_width</code></td>
<td>the suggested width of the iframe</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_caption</code></td>
<td>any text related to the image in plain text</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_caption_html</code></td>
<td>any text related to the image in html</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_host</code></td>
<td>the hostname of server on which the image is hosted</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_path</code></td>
<td>the absolute path of the file on the host</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_insecure_complete_url</code></td>
<td>a complete http address</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_secure_complete_url</code></td>
<td>a complete https address</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_supports_http</code></td>
<td>indicates that the asset is accessible via http</td>
</tr>
<tr>
<td><code class="prettyprint">video_iframe_supports_https</code></td>
<td>indicates that the asset is accessible via https</td>
</tr>
</tbody></table>

<h2 id="extra-info">Extra info</h2>

<p>Most events will have additional information and content available. This data is
not returned by default because it can slow down response time, especially when
many events are being returned.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>
curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"req_extra_info"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">extra_info</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_extra_info</code></td>
<td>Returns the descriptive info for the event, returned as individual sections (<code class="prettyprint">structured_info</code>) and as a single summary (<code class="prettyprint">event_info</code> / <code class="prettyprint">event_info_html</code>)</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_info"</span>: <span class="s2">"Matthew Bourne's stunning production of Nutcracker! returns in 2008 to Sadler's Wells having broken all box office records during last year's sell-out season.</span><span class="se">\n\n</span><span class="s2">This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara's journey from a bleak Christmas Eve at Dr.Dross' Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.</span><span class="se">\n\n</span><span class="s2">Oliver award-winning designer Anthony Ward and Tchaikovsky's much-loved score combined with sizzling choreography guarantee that Matthew Bourne's Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.</span><span class="se">\n\n</span><span class="s2">Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.</span><span class="se">\n\n</span><span class="s2">Duration</span><span class="se">\n\n</span><span class="s2">A Goldilocks duration - not too long, not too short, just the right amount of time.</span><span class="se">\n\n\n</span><span class="s2">Performance Times</span><span class="se">\n\n</span><span class="s2">Anytime you like! As long as there's a show on...</span><span class="se">\n\n\n</span><span class="s2">Where Do I Go</span><span class="se">\n\n</span><span class="s2">To Sadler's Wells of course!</span><span class="se">\n\n\n</span><span class="s2">What's Included</span><span class="se">\n\n</span><span class="s2">Everything you need.</span><span class="se">\n\n\n</span><span class="s2">Good To Know</span><span class="se">\n\n</span><span class="s2">Warning! Men in very tight tights.</span><span class="se">\n\n\n</span><span class="s2">Suitable For Children</span><span class="se">\n\n</span><span class="s2">Sure, just be aware of the aforementioned tights.</span><span class="se">\n\n\n</span><span class="s2">Offers Information</span><span class="se">\n\n</span><span class="s2">This is some offers information</span><span class="se">\n\n</span><span class="s2">"</span>,
        <span class="s2">"event_info_html"</span>: <span class="s2">"&lt;div&gt;&lt;p&gt;Matthew Bourne's stunning production of Nutcracker! returns in 2008 to Sadler's Wells having broken all box office records during last year's sell-out season.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara's journey from a bleak Christmas Eve at Dr.Dross' Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;Oliver award-winning designer Anthony Ward and Tchaikovsky's much-loved score combined with sizzling choreography guarantee that Matthew Bourne's Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Duration&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;A Goldilocks duration - not &lt;em&gt;too&lt;/em&gt; long, not &lt;em&gt;too&lt;/em&gt; short, just the right amount of time.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Performance Times&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;Anytime you like! As long as there's a show on...&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Where Do I Go&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;To Sadler's Wells of course!&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;What&amp;#39;s Included&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;Everything you need.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Good To Know&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;Warning! Men in very tight tights.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Suitable For Children&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;Sure, just be aware of the aforementioned tights.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&lt;h4&gt;Offers Information&lt;/h4&gt;</span><span class="se">\n</span><span class="s2">&lt;div&gt;&lt;p&gt;This is some offers information&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n</span><span class="s2">"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"structured_info"</span>: <span class="o">{</span>
          <span class="s2">"address"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Address"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Roseberry Avenue</span><span class="se">\r\n</span><span class="s2">Islington</span><span class="se">\r\n</span><span class="s2">London</span><span class="se">\r\n</span><span class="s2">UK"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Roseberry Avenue</span><span class="se">\r\n</span><span class="s2">Islington</span><span class="se">\r\n</span><span class="s2">London</span><span class="se">\r\n</span><span class="s2">UK&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"duration"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Duration"</span>,
            <span class="s2">"value"</span>: <span class="s2">"A Goldilocks duration - not too long, not too short, just the right amount of time.</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;A Goldilocks duration - not &lt;em&gt;too&lt;/em&gt; long, not &lt;em&gt;too&lt;/em&gt; short, just the right amount of time.&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"good_to_know"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Good To Know"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Warning! Men in very tight tights.</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Warning! Men in very tight tights.&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"offers"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Offers Information"</span>,
            <span class="s2">"value"</span>: <span class="s2">"This is some offers information</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;This is some offers information&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"overview"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Overview"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Matthew Bourne's stunning production of Nutcracker! returns in 2008 to Sadler's Wells having broken all box office records during last year's sell-out season.</span><span class="se">\n\n</span><span class="s2">This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara's journey from a bleak Christmas Eve at Dr.Dross' Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.</span><span class="se">\n\n</span><span class="s2">Oliver award-winning designer Anthony Ward and Tchaikovsky's much-loved score combined with sizzling choreography guarantee that Matthew Bourne's Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.</span><span class="se">\n\n</span><span class="s2">Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Matthew Bourne's stunning production of Nutcracker! returns in 2008 to Sadler's Wells having broken all box office records during last year's sell-out season.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara's journey from a bleak Christmas Eve at Dr.Dross' Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;Oliver award-winning designer Anthony Ward and Tchaikovsky's much-loved score combined with sizzling choreography guarantee that Matthew Bourne's Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">&lt;p&gt;Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"pricing_details_info"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Pricing details information"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Book by 30th April for performances from 10 July - 10 August and pay no booking fee on this show</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Book by 30th April for performances from 10 July - 10 August and pay no booking fee on this show&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"suitable_for_children"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Suitable For Children"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Sure, just be aware of the aforementioned tights.</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Sure, just be aware of the aforementioned tights.&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"whats_included"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"What's Included"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Everything you need.</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Everything you need.&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"when_can_i_go"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Performance Times"</span>,
            <span class="s2">"value"</span>: <span class="s2">"Anytime you like! As long as there's a show on...</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;Anytime you like! As long as there's a show on...&lt;/p&gt;"</span>
          <span class="o">}</span>,
          <span class="s2">"where_do_i_go"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Where Do I Go"</span>,
            <span class="s2">"value"</span>: <span class="s2">"To Sadler's Wells of course!</span><span class="se">\n</span><span class="s2">"</span>,
            <span class="s2">"value_html"</span>: <span class="s2">"&lt;p&gt;To Sadler's Wells of course!&lt;/p&gt;"</span>
          <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_addr"</span>: <span class="s2">"Roseberry Avenue</span><span class="se">\r\n</span><span class="s2">Islington</span><span class="se">\r\n</span><span class="s2">London</span><span class="se">\r\n</span><span class="s2">UK"</span>,
        <span class="s2">"venue_addr_html"</span>: <span class="s2">"&lt;div&gt;&lt;p&gt;Roseberry Avenue</span><span class="se">\r\n</span><span class="s2">Islington</span><span class="se">\r\n</span><span class="s2">London</span><span class="se">\r\n</span><span class="s2">UK&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n</span><span class="s2">"</span>,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IF'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">content</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">'address'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Address'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Roseberry Avenue</span><span class="se">\r\n</span><span class="s">Islington</span><span class="se">\r\n</span><span class="s">London</span><span class="se">\r\n</span><span class="s">UK'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Roseberry Avenue</span><span class="se">\r\n</span><span class="s">Islington</span><span class="se">\r\n</span><span class="s">London</span><span class="se">\r\n</span><span class="s">UK&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'duration'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Duration'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'A Goldilocks duration - not too long, not too short, just the right amount of time.</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;A Goldilocks duration - not &lt;em&gt;too&lt;/em&gt; long, not &lt;em&gt;too&lt;/em&gt; short, just the right amount of time.&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'good_to_know'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Good To Know'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Warning! Men in very tight tights.</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Warning! Men in very tight tights.&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'overview'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Overview'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s stunning production of Nutcracker! returns in 2008 to Sadler</span><span class="se">\'</span><span class="s">s Wells having broken all box office records during last year</span><span class="se">\'</span><span class="s">s sell-out season.</span><span class="se">\n\n</span><span class="s">This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara</span><span class="se">\'</span><span class="s">s journey from a bleak Christmas Eve at Dr.Dross</span><span class="se">\'</span><span class="s"> Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.</span><span class="se">\n\n</span><span class="s">Oliver award-winning designer Anthony Ward and Tchaikovsky</span><span class="se">\'</span><span class="s">s much-loved score combined with sizzling choreography guarantee that Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.</span><span class="se">\n\n</span><span class="s">Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Matthew Bourne</span><span class="se">\'</span><span class="s">s stunning production of Nutcracker! returns in 2008 to Sadler</span><span class="se">\'</span><span class="s">s Wells having broken all box office records during last year</span><span class="se">\'</span><span class="s">s sell-out season.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara</span><span class="se">\'</span><span class="s">s journey from a bleak Christmas Eve at Dr.Dross</span><span class="se">\'</span><span class="s"> Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;Oliver award-winning designer Anthony Ward and Tchaikovsky</span><span class="se">\'</span><span class="s">s much-loved score combined with sizzling choreography guarantee that Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'pricing_details_info'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Pricing details information'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Book by 30th April for performances from 10 July - 10 August and pay no booking fee on this show</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Book by 30th April for performances from 10 July - 10 August and pay no booking fee on this show&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'suitable_for_children'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Suitable For Children'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Sure, just be aware of the aforementioned tights.</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Sure, just be aware of the aforementioned tights.&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'whats_included'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'What</span><span class="se">\'</span><span class="s">s Included'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Everything you need.</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Everything you need.&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'when_can_i_go'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Performance Times'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'Anytime you like! As long as there</span><span class="se">\'</span><span class="s">s a show on...</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;Anytime you like! As long as there</span><span class="se">\'</span><span class="s">s a show on...&lt;/p&gt;'</span>
            <span class="p">),</span>
            <span class="s">'where_do_i_go'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Content</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s">'Where Do I Go'</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s">'To Sadler</span><span class="se">\'</span><span class="s">s Wells of course!</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
                <span class="n">value_html</span><span class="o">=</span><span class="s">'&lt;p&gt;To Sadler</span><span class="se">\'</span><span class="s">s Wells of course!&lt;/p&gt;'</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="n">event_info</span> <span class="o">=</span> <span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s stunning production of Nutcracker! returns in 2008 to Sadler</span><span class="se">\'</span><span class="s">s Wells having broken all box office records during last year</span><span class="se">\'</span><span class="s">s sell-out season.</span><span class="se">\n\n</span><span class="s">This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara</span><span class="se">\'</span><span class="s">s journey from a bleak Christmas Eve at Dr.Dross</span><span class="se">\'</span><span class="s"> Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.</span><span class="se">\n\n</span><span class="s">Oliver award-winning designer Anthony Ward and Tchaikovsky</span><span class="se">\'</span><span class="s">s much-loved score combined with sizzling choreography guarantee that Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.</span><span class="se">\n\n</span><span class="s">Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.</span><span class="se">\n\n</span><span class="s">Duration</span><span class="se">\n\n</span><span class="s">A Goldilocks duration - not too long, not too short, just the right amount of time.</span><span class="se">\n\n\n</span><span class="s">Performance Times</span><span class="se">\n\n</span><span class="s">Anytime you like! As long as there</span><span class="se">\'</span><span class="s">s a show on...</span><span class="se">\n\n\n</span><span class="s">Where Do I Go</span><span class="se">\n\n</span><span class="s">To Sadler</span><span class="se">\'</span><span class="s">s Wells of course!</span><span class="se">\n\n\n</span><span class="s">What</span><span class="se">\'</span><span class="s">s Included</span><span class="se">\n\n</span><span class="s">Everything you need.</span><span class="se">\n\n\n</span><span class="s">Good To Know</span><span class="se">\n\n</span><span class="s">Warning! Men in very tight tights.</span><span class="se">\n\n\n</span><span class="s">Suitable For Children</span><span class="se">\n\n</span><span class="s">Sure, just be aware of the aforementioned tights.</span><span class="se">\n\n</span><span class="s">'</span><span class="p">,</span>
        <span class="n">event_info_html</span> <span class="o">=</span> <span class="s">'&lt;div&gt;&lt;p&gt;Matthew Bourne</span><span class="se">\'</span><span class="s">s stunning production of Nutcracker! returns in 2008 to Sadler</span><span class="se">\'</span><span class="s">s Wells having broken all box office records during last year</span><span class="se">\'</span><span class="s">s sell-out season.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;This festive treat is full of his trademark style of wit, pathos and theatrical magic. Nutcracker! follows Clara</span><span class="se">\'</span><span class="s">s journey from a bleak Christmas Eve at Dr.Dross</span><span class="se">\'</span><span class="s"> Orphanage, through a shimmering ice-skating wonderland and to the spectacular candy folk of Sweetieland.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;Oliver award-winning designer Anthony Ward and Tchaikovsky</span><span class="se">\'</span><span class="s">s much-loved score combined with sizzling choreography guarantee that Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker! is a fresh, lip-smacking, serving of traditional Christmas fare.&lt;/p&gt;</span><span class="se">\r\n</span><span class="s">&lt;p&gt;Matthew Bourne has achieved both artistic and commercial success with his imaginative new versions of classical ballets. Last year his Play Without Words made for the Royal National Theatre, received two Olivier Awards and is shortly to be revived.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;Duration&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;A Goldilocks duration - not &lt;em&gt;too&lt;/em&gt; long, not &lt;em&gt;too&lt;/em&gt; short, just the right amount of time.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;Performance Times&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;Anytime you like! As long as there</span><span class="se">\'</span><span class="s">s a show on...&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;Where Do I Go&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;To Sadler</span><span class="se">\'</span><span class="s">s Wells of course!&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;What&amp;#39;s Included&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;Everything you need.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;Good To Know&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;Warning! Men in very tight tights.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n\n</span><span class="s">&lt;h4&gt;Suitable For Children&lt;/h4&gt;</span><span class="se">\n</span><span class="s">&lt;div&gt;&lt;p&gt;Sure, just be aware of the aforementioned tights.&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
        <span class="n">venue_addr</span> <span class="o">=</span> <span class="s">'Roseberry Avenue</span><span class="se">\r\n</span><span class="s">Islington</span><span class="se">\r\n</span><span class="s">London</span><span class="se">\r\n</span><span class="s">UK'</span><span class="p">,</span>
        <span class="n">venue_addr_html</span> <span class="o">=</span> <span class="s">'&lt;div&gt;&lt;p&gt;Roseberry Avenue</span><span class="se">\r\n</span><span class="s">Islington</span><span class="se">\r\n</span><span class="s">London</span><span class="se">\r\n</span><span class="s">UK&lt;/p&gt;&lt;/div&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">,</span>
        <span class="n">venue_info</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">venue_info_html</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">content</code></td>
<td>this is miscellaneous textual content that can be used to populate an event page.</td>
</tr>
<tr>
<td><code class="prettyprint">event_info</code></td>
<td>summary description of the event as plain text</td>
</tr>
<tr>
<td><code class="prettyprint">event_info_html</code></td>
<td>summary description of the event as html</td>
</tr>
<tr>
<td><code class="prettyprint">venue_info</code></td>
<td>summary description of the venue as plain text</td>
</tr>
<tr>
<td><code class="prettyprint">venue_info_html</code></td>
<td>summary description of the venue as html</td>
</tr>
<tr>
<td><code class="prettyprint">venue_addr</code></td>
<td>the address of the venue as plain text</td>
</tr>
<tr>
<td><code class="prettyprint">venue_addr_html</code></td>
<td>the address of the venue as html</td>
</tr>
</tbody></table>

<h2 id="reviews">Reviews</h2>

<p>A lot of events have user and critic reviews. At the moment only our critic
reviews are available via the API, but in the near future we will look to expose
our user reviews as well.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"req_reviews"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">reviews</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_reviews</code></td>
<td>Returns event reviews if available</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"reviews"</span>: <span class="o">{</span>
          <span class="s2">"review"</span>: <span class="o">[</span>
            <span class="o">{</span>
              <span class="s2">"is_user_review"</span>: <span class="nb">false</span>,
              <span class="s2">"review_author"</span>: <span class="s2">"The Times"</span>,
              <span class="s2">"review_body"</span>: <span class="s2">"Cannot recommend this show enough!"</span>,
              <span class="s2">"review_date_desc"</span>: <span class="s2">"Tue, 17th November 2015"</span>,
              <span class="s2">"review_iso8601_date_and_time"</span>: <span class="s2">"2015-11-17T10:00:00Z"</span>,
              <span class="s2">"review_lang"</span>: <span class="s2">"en"</span>,
              <span class="s2">"review_original_url"</span>: <span class="s2">""</span>,
              <span class="s2">"review_time_desc"</span>: <span class="s2">"10.00 AM"</span>,
              <span class="s2">"review_title"</span>: <span class="s2">"Unmissable!"</span>,
              <span class="s2">"star_rating"</span>: 5
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"is_user_review"</span>: <span class="nb">true</span>,
              <span class="s2">"review_author"</span>: <span class="s2">"Matt Allpress"</span>,
              <span class="s2">"review_body"</span>: <span class="s2">"What a show! The mise-en-scène is magical, the choreography is wonderful, the story is magnificent and those tights... incredible. I'll be buying tickets for this show again and again"</span>,
              <span class="s2">"review_date_desc"</span>: <span class="s2">"Thu, 28th August 2014"</span>,
              <span class="s2">"review_iso8601_date_and_time"</span>: <span class="s2">"2014-08-28T10:00:00Z"</span>,
              <span class="s2">"review_lang"</span>: <span class="s2">"en"</span>,
              <span class="s2">"review_original_url"</span>: <span class="s2">""</span>,
              <span class="s2">"review_time_desc"</span>: <span class="s2">"10.00 AM"</span>,
              <span class="s2">"review_title"</span>: <span class="s2">"Can't get enough!"</span>,
              <span class="s2">"star_rating"</span>: 5
            <span class="o">}</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IF'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">reviews</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Review</span><span class="p">(</span>
                <span class="n">body</span><span class="o">=</span><span class="s">'Cannot recommend this show enough!'</span><span class="p">,</span>
                <span class="n">date_and_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">rating</span><span class="o">=</span><span class="mi">5</span>
                <span class="n">language</span><span class="o">=</span><span class="s">'en'</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s">'Unmissable!'</span><span class="p">,</span>
                <span class="n">is_user</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                <span class="n">author</span><span class="o">=</span><span class="s">'The Times'</span><span class="p">,</span>
                <span class="n">url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Review</span><span class="p">(</span>
                <span class="n">body</span><span class="o">=</span><span class="s">'What a show! The mise-en-scène is magical, the choreography is wonderful, the story is magnificent and those tights... incredible. I</span><span class="se">\'</span><span class="s">ll be buying tickets for this show again and again'</span><span class="p">,</span>
                <span class="n">date_and_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">rating</span><span class="o">=</span><span class="mi">5</span>
                <span class="n">language</span><span class="o">=</span><span class="s">'en'</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s">'Can</span><span class="se">\'</span><span class="s">t get enough!'</span><span class="p">,</span>
                <span class="n">is_user</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                <span class="n">author</span><span class="o">=</span><span class="s">'Matt Allpress'</span><span class="p">,</span>
                <span class="n">url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_user_review</code></td>
<td><code class="prettyprint">false</code> for critic reviews; <code class="prettyprint">true</code> for user reviews</td>
</tr>
<tr>
<td><code class="prettyprint">review_author</code></td>
<td>The reviewer - for critic reviews this is normally the name of a newspaper e.g. <code class="prettyprint">The Evening Standard</code></td>
</tr>
<tr>
<td><code class="prettyprint">review_body</code></td>
<td>The main review content - for critic reviews this is typically a quote from the review</td>
</tr>
<tr>
<td><code class="prettyprint">review_date_desc</code></td>
<td>Review date</td>
</tr>
<tr>
<td><code class="prettyprint">review_iso8601_date_and_time</code></td>
<td>review date and time in ISO 8601 format</td>
</tr>
<tr>
<td><code class="prettyprint">review_lang</code></td>
<td>Language code of the review (TODO what ISO etc is this?)</td>
</tr>
<tr>
<td><code class="prettyprint">review_original_url</code></td>
<td>For critic reviews we sometimes record the original source of the review quote</td>
</tr>
<tr>
<td><code class="prettyprint">review_time_desc</code></td>
<td>Review time</td>
</tr>
<tr>
<td><code class="prettyprint">review_title</code></td>
<td>Review title, not always present</td>
</tr>
<tr>
<td><code class="prettyprint">star_rating</code></td>
<td>A rating between 1 and 5 (5 is best)</td>
</tr>
</tbody></table>

<h2 id="cost-range">Cost range</h2>

<p>Cost ranges are a cached summary of the pricing that has been seen for your
username. They are primarily used to retrieve the minimum (or &ldquo;from&rdquo;) price for
the event, along with detail of any offers or discounts. They allow you to
display a from price and details of offers for your event, so most
partners request cost ranges.</p>

<p>Cost ranges are generated from availability requests made either by end-users or
by scheduled processes that Ingresso use to update cost range data. You should
not attempt to make multiple availability requests in order to keep this data up
to date - please contact us instead to discuss options api@ingresso.co.uk.  Cost
ranges are only ever returned as part of a parent object (such as event). </p>

<aside class="notice"> Cost ranges (and avail details) are not guaranteed to be
present (nor accurate) so you should design your application with this in mind,
for example by still displaying events even if they are missing a from
price.</aside>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6L9"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_best_value_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_max_saving_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_min_cost_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_top_price_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_no_singles_data"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">(</span>
    <span class="n">event_ids</span><span class="o">=</span><span class="p">[</span><span class="s">'6IF'</span><span class="p">],</span>
    <span class="n">cost_range</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">best_value_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">max_saving_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">min_cost_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">top_price_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">no_singles_data</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</code></pre>
<p>On its own, <code class="prettyprint">req_cost_range</code> will add min and max prices only, however by
adding one of the other 5 parameters below you can receive additional data
(multiple parameters are provided because different partners can have different 
definitions of the &ldquo;best&rdquo; offer). Most API users request cost ranges.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns cost ranges for each event.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only one consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6L9"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"las_vegas-us"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"Las Vegas"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"circuscabaret"</span>: <span class="s2">"Circus, Cabaret &amp; Variety"</span>
        <span class="o">}</span>,
        <span class="s2">"cost_range"</span>: <span class="o">{</span>
          <span class="s2">"best_value_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"max_saving_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"max_seatprice"</span>: 68,
          <span class="s2">"max_surcharge"</span>: 3,
          <span class="s2">"min_cost_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"min_seatprice"</span>: 68,
          <span class="s2">"min_surcharge"</span>: 3,
          <span class="s2">"no_singles_cost_range"</span>: <span class="o">{</span>
            <span class="s2">"best_value_offer"</span>: <span class="o">{</span>
              <span class="s2">"absolute_saving"</span>: 9,
              <span class="s2">"full_seatprice"</span>: 75,
              <span class="s2">"full_surcharge"</span>: 5,
              <span class="s2">"offer_seatprice"</span>: 68,
              <span class="s2">"offer_surcharge"</span>: 3,
              <span class="s2">"percentage_saving"</span>: 11
            <span class="o">}</span>,
            <span class="s2">"max_saving_offer"</span>: <span class="o">{</span>
              <span class="s2">"absolute_saving"</span>: 9,
              <span class="s2">"full_seatprice"</span>: 75,
              <span class="s2">"full_surcharge"</span>: 5,
              <span class="s2">"offer_seatprice"</span>: 68,
              <span class="s2">"offer_surcharge"</span>: 3,
              <span class="s2">"percentage_saving"</span>: 11
            <span class="o">}</span>,
            <span class="s2">"max_seatprice"</span>: 68,
            <span class="s2">"max_surcharge"</span>: 3,
            <span class="s2">"min_cost_offer"</span>: <span class="o">{</span>
              <span class="s2">"absolute_saving"</span>: 9,
              <span class="s2">"full_seatprice"</span>: 75,
              <span class="s2">"full_surcharge"</span>: 5,
              <span class="s2">"offer_seatprice"</span>: 68,
              <span class="s2">"offer_surcharge"</span>: 3,
              <span class="s2">"percentage_saving"</span>: 11
            <span class="o">}</span>,
            <span class="s2">"min_seatprice"</span>: 68,
            <span class="s2">"min_surcharge"</span>: 3,
            <span class="s2">"range_currency"</span>: <span class="o">{</span>
              <span class="s2">"currency_code"</span>: <span class="s2">"usd"</span>,
              <span class="s2">"currency_factor"</span>: 100,
              <span class="s2">"currency_number"</span>: 840,
              <span class="s2">"currency_places"</span>: 2,
              <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
              <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"$"</span>
            <span class="o">}</span>,
            <span class="s2">"top_price_offer"</span>: <span class="o">{</span>
              <span class="s2">"absolute_saving"</span>: 9,
              <span class="s2">"full_seatprice"</span>: 75,
              <span class="s2">"full_surcharge"</span>: 5,
              <span class="s2">"offer_seatprice"</span>: 68,
              <span class="s2">"offer_surcharge"</span>: 3,
              <span class="s2">"percentage_saving"</span>: 11
            <span class="o">}</span>,
            <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
              1,
              2,
              3,
              4
            <span class="o">]</span>
          <span class="o">}</span>,
          <span class="s2">"range_currency"</span>: <span class="o">{</span>
            <span class="s2">"currency_code"</span>: <span class="s2">"usd"</span>,
            <span class="s2">"currency_factor"</span>: 100,
            <span class="s2">"currency_number"</span>: 840,
            <span class="s2">"currency_places"</span>: 2,
            <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
            <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"$"</span>
          <span class="o">}</span>,
          <span class="s2">"top_price_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
            1,
            2,
            3,
            4
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"us"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United States of America"</span>,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"La Femme"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6L9"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6L9-la-femme/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"La-Femme"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 36.1034,
          <span class="s2">"longitude"</span>: -115.1721
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 90,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"NV89109"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test1"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 1"</span>,
        <span class="s2">"venue_desc"</span>: <span class="s2">"MGM Grand Las Vegas"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"MGM-Grand-Las-Vegas"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
    <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
        <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
        <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
        <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
            <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
            <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
            <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
            <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="n">no_singles_cost_range</span> <span class="o">=</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
        <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
        <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
        <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
            <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
            <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
            <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
            <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre>
<aside class="notice">In the UK market, offers are typically classified as 
either &ldquo;discounted face value&rdquo; or &ldquo;no booking fee&rdquo;. Discounted face value 
offers have an offer seatprice that is lower than the full price seatprice (and
normally they have an offer surcharge of zero). No booking fee offers have
an offer seatprice equal to the full price seatprice, and an offer surcharge
equal to zero. The standard is to not display a saving percentage for no booking
fee offers (some suppliers do not like their offers to show as percentage 
discounts), and instead display &ldquo;No fees&rdquo; or similar.</aside>

<p>Each event returned includes a <code class="prettyprint">cost_range</code> object with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">best_value_offer</code></td>
<td>The offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">max_saving_offer</code></td>
<td>The offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">max_seatprice</code></td>
<td>The per-ticket face value for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">max_surcharge</code></td>
<td>The per-ticket booking fee for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_cost_offer</code></td>
<td>The offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">min_seatprice</code></td>
<td>The per-ticket face value for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_surcharge</code></td>
<td>The per-ticket booking fee for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">no_singles_cost_range</code></td>
<td>This returns another cost range object that excludes availability with only one consecutive seat available. The prices in this cost range will therefore be the same as or higher than the outer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">quantity_options</code></td>
<td>The ticket quantities that have availability.</td>
</tr>
<tr>
<td><code class="prettyprint">range_currency</code></td>
<td>The currency for the cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">top_price_offer</code></td>
<td>The offer with the highest cost. This is the least used offer cost range.</td>
</tr>
</tbody></table>

<p>The <strong>offer</strong> objects contain the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">absolute_saving</code></td>
<td>Defined as (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) - (<code class="prettyprint">offer_seatprice</code> + <code class="prettyprint">offer_surcharge</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">full_seatprice</code></td>
<td>The non-offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">full_surcharge</code></td>
<td>The non-offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_seatprice</code></td>
<td>The offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_surcharge</code></td>
<td>The offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">percentage_saving</code></td>
<td>Defined as <code class="prettyprint">absolute_saving</code> / (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) * 100.</td>
</tr>
</tbody></table>

<h2 id="cost-range-details">Cost range details</h2>

<p>Cost range details presents a cost range for every available price band. They
allow you for example display a list of price bands on a show page, before the
customer begins to choose their tickets. This is not a commonly used feature.</p>

<p>A list of ticket types are returned; nested within each ticket type are the
available price bands; nested within each price band is a 
<a href="#cost-range">cost range</a>. Cost range details are only ever returned as part of 
the parent event object.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_details"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketickswitch</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">cost_range_details</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<p><code class="prettyprint">req_cost_range_details</code> is the main parameter that switches on cost range details.
The other parameters listed can also be included to return additional cost 
range data.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only one consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"cost_range_details"</span>: <span class="o">{</span>
          <span class="s2">"ticket_type"</span>: <span class="o">[</span>
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 47,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 47,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4,
                      5,
                      6
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"BALCONY"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 35,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 35,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4,
                      5,
                      6
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 30,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 30,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4,
                      5,
                      6
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 25,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 25,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4,
                      5,
                      6
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 21,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 21,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4,
                      5,
                      6
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"cost_range"</span>: <span class="o">{</span>
                    <span class="s2">"max_seatprice"</span>: 18,
                    <span class="s2">"max_surcharge"</span>: 0,
                    <span class="s2">"min_seatprice"</span>: 18,
                    <span class="s2">"min_surcharge"</span>: 0,
                    <span class="s2">"range_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 826,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                    <span class="o">}</span>,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"STALLS"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
            <span class="o">}</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IF'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">cost_range_details</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'BALCONY'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Balcony'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>

            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper Circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper Circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper Circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'C'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRangeDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">cost_range_no_singles</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
                    <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
                    <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
                    <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
                    <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                    <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                        <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                        <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                        <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                        <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                        <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">),</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p>The <code class="prettyprint">cost_range_details</code> object includes an array of <strong>ticket types</strong> that 
describe a part of house or location within the venue.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>the identifier of the ticket type, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>A human readable description of the price band if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">price_band</code></td>
<td>an array of price bands</td>
</tr>
</tbody></table>

<p><strong>Price bands</strong> describe the different levels of pricing that are available within a
ticket type. It&rsquo;s important to note that a price band may not have a long term
set price, and as such ticket prices and surcharges might change on a performance to
performance basis. </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>the identifier of the price band, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_desc</code></td>
<td>A human readable description of the price band if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">cost_range</code></td>
<td>The cost range for this price band.</td>
</tr>
</tbody></table>

<p>The <strong>cost range</strong> has the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">best_value_offer</code></td>
<td>The offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">max_saving_offer</code></td>
<td>The offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">max_seatprice</code></td>
<td>The per-ticket face value for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">max_surcharge</code></td>
<td>The per-ticket booking fee for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_cost_offer</code></td>
<td>The offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">min_seatprice</code></td>
<td>The per-ticket face value for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_surcharge</code></td>
<td>The per-ticket booking fee for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">no_singles_cost_range</code></td>
<td>This returns another cost range object that excludes availability with only one consecutive seat available. The prices in this cost range will therefore be the same as or higher than the outer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">quantity_options</code></td>
<td>The ticket quantities that have availability.</td>
</tr>
<tr>
<td><code class="prettyprint">range_currency</code></td>
<td>The <a href="#currency-object">currency</a> for the cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">top_price_offer</code></td>
<td>The offer with the highest cost. This is the least used offer cost range.</td>
</tr>
</tbody></table>

<p>The <strong>offer</strong> objects contain the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">absolute_saving</code></td>
<td>Defined as (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) - (<code class="prettyprint">offer_seatprice</code> + <code class="prettyprint">offer_surcharge</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">full_seatprice</code></td>
<td>The non-offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">full_surcharge</code></td>
<td>The non-offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_seatprice</code></td>
<td>The offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_surcharge</code></td>
<td>The offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">percentage_saving</code></td>
<td>Defined as <code class="prettyprint">absolute_saving</code> / (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) * 100.</td>
</tr>
</tbody></table>

<h2 id="availability-details">Availability details</h2>

<p>Availability details are a cached list of the price bands available for an
event across all performances. They are cached from previous availability
requests made via your username. This data can be useful for example if you wish
to display a separate page with pricing detail for all price bands on sale.</p>

<p>Availability details are generated from availability requests made either by
end-users or by scheduled processes that Ingresso use to update this data. You
should not attempt to make multiple availability requests in order to keep this
data up to date - please contact us instead to discuss options
<a href="mailto:api@ingresso.co.uk">api@ingresso.co.uk</a>.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/events_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id_list=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"req_avail_details"</span> <span class="se">\</span>
    -d <span class="s2">"req_avail_details_with_perfs"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketickswitch</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">availability</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">availability_with_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns a list of unique ticket types and price bands that are available for this event across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_avail_details_with_perfs</code></td>
<td>This will add the list of available performance dates to each avail detail object. <strong>Only valid if used alongside req_avail_details</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"events_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF"</span>: <span class="o">{</span>
      <span class="s2">"event"</span>: <span class="o">{</span>
        <span class="s2">"avail_details"</span>: <span class="o">{</span>
          <span class="s2">"ticket_type"</span>: <span class="o">[</span>
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 47,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3,
                        4,
                        5,
                        6
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"BALCONY"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 35,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3,
                        4,
                        5,
                        6
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 30,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3,
                        4,
                        5,
                        6
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 25,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3,
                        4,
                        5,
                        6
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"price_band"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 21,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3,
                        4,
                        5,
                        6
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                        <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                        <span class="s2">"currency_factor"</span>: 100,
                        <span class="s2">"currency_number"</span>: 826,
                        <span class="s2">"currency_places"</span>: 2,
                        <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                        <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_dates"</span>: <span class="o">{</span>
                        <span class="s2">"first_yyyymmdd"</span>: <span class="s2">"20170119"</span>,
                        <span class="s2">"last_yyyymmdd"</span>: <span class="s2">"20170518"</span>,
                        <span class="s2">"year_2017"</span>: <span class="o">{</span>
                          <span class="s2">"apr_bitmask"</span>: 803192702,
                          <span class="s2">"feb_bitmask"</span>: 251526135,
                          <span class="s2">"jan_bitmask"</span>: 2011955200,
                          <span class="s2">"mar_bitmask"</span>: 2130574327,
                          <span class="s2">"may_bitmask"</span>: 258015
                        <span class="o">}</span>
                      <span class="o">}</span>,
                      <span class="s2">"available_weekdays_bitmask"</span>: 63,
                      <span class="s2">"seatprice"</span>: 18,
                      <span class="s2">"surcharge"</span>: 0,
                      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                        1,
                        2,
                        3
                      <span class="o">]</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"ticket_type_code"</span>: <span class="s2">"STALLS"</span>,
              <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
            <span class="o">}</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
        <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
        <span class="s2">"classes"</span>: <span class="o">{</span>
          <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
        <span class="o">}</span>,
        <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
        <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
        <span class="s2">"critic_review_percent"</span>: 100,
        <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
        <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
        <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
        <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
        <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
          <span class="s2">"event_id"</span>: <span class="o">[</span>
            <span class="s2">"6IE"</span>,
            <span class="s2">"MH0"</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
        <span class="s2">"geo_data"</span>: <span class="o">{</span>
          <span class="s2">"latitude"</span>: 51.52961137,
          <span class="s2">"longitude"</span>: -0.10601562
        <span class="o">}</span>,
        <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
        <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
        <span class="s2">"max_running_time"</span>: 120,
        <span class="s2">"min_running_time"</span>: 120,
        <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
        <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
        <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
        <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
        <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
        <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"user_review_percent"</span>: 100,
        <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
        <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
      <span class="o">}</span>,
      <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
        1,
        2,
        3,
        4,
        5,
        6
      <span class="o">]</span>,
      <span class="s2">"venue_is_enforced"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>

    <span class="n">availability_details</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'BALCONY'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Balcony'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'C'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
        <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
            <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
            <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
            <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
            <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
            <span class="n">seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
            <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="n">number</span><span class="o">=</span><span class="mi">826</span><span class="p">,</span>
                <span class="n">factor</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                <span class="n">places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">pre_symbol</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
                <span class="n">post_symbol</span><span class="o">=</span><span class="s">"£"</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">first_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">29</span><span class="p">),</span>
            <span class="n">last_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span>
            <span class="n">calendar_masks</span><span class="o">=</span><span class="p">{</span>
                <span class="mi">2016</span><span class="p">:</span> <span class="p">{</span><span class="mi">11</span><span class="p">:</span> <span class="mi">805306368</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">1065289163</span><span class="p">},</span>
                <span class="mi">2017</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2012209087</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">251526135</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">117308407</span><span class="p">},</span>
            <span class="p">},</span>
            <span class="n">weekday_mask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
            <span class="n">valid_quanities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>

</code></pre>
<p><strong>Ticket types</strong> describe a part of house or location within the venue.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The identifier of the ticket type, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>A human readable description of the price band if applicable.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band</code></td>
<td>A list of price bands.</td>
</tr>
</tbody></table>

<p><strong>Price bands</strong> describe the different levels of pricing that are available within a
ticket type. It&rsquo;s important to note that a price band may not have a long term
set price, and as such ticket prices and surcharges might change on a performance to
performance basis. </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The identifier of the price band, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_desc</code></td>
<td>A human readable description of the price band if applicable.</td>
</tr>
<tr>
<td><code class="prettyprint">avail_details</code></td>
<td>A list of the prices in this price band and when they are available.</td>
</tr>
</tbody></table>

<p>The <strong>avail details</strong> indicate which prices we have seen and when they are
expected to be available. If the <code class="prettyprint">req_avail_details_with_perfs</code> parameter was
included  then the availability details will include information on what
performances where available with that price.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">avail_currency</code></td>
<td>The price <a href="#currency-object">currency</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">available_dates</code></td>
<td><code class="prettyprint">first_yyyymmdd</code> and <code class="prettyprint">last_yyyymmdd</code> for the range, and year_YYYY includes a bitmask for each month of the year (if, for example, the <code class="prettyprint">jan_bitmask</code> is 1959 (i.e. &ldquo;11110100111&rdquo;) this means there is availability on the following days of the month only: 1,2,3,6,8,9,10,11).</td>
</tr>
<tr>
<td><code class="prettyprint">available_weekdays_bitmask</code></td>
<td>The days of the week where we have seen availability - see the example in the <a href="#bitmask-fields">bitmask fields</a> explanation.</td>
</tr>
<tr>
<td><code class="prettyprint">seatprice</code></td>
<td>The per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">surcharge</code></td>
<td>The per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">valid_quantities</code></td>
<td>An array of available quantities we have seen for this price band.</td>
</tr>
</tbody></table>

          <h1 id="performances">Performances</h1>

<p>A performance describes an instance of an event, for example the Saturday 21st
January 7.30pm showing of The Lion King. This is the case for the majority of
our product, however since not all events (and the systems we connect to) are
the same, there are some exceptions:</p>

<ul>
<li>Some events have performances that do not have a time component - they are
valid for the entire day</li>
<li>Some events have performances with a performance name rather than a time
(TODO: add more detail)</li>
<li>Some events do not have performances - they are valid on all dates (TODO: add
more detail)</li>
<li>Departure and usage dates, (TODO do we need these?)</li>
</ul>

<p>An event is considered live when it has one or more future performances. The API
will not return performances that are more than 2 years in the future by
calendar date.</p>

<p>There are two performance-related resources:</p>

<ol>
<li><p><a href="#performances-list">Performances list</a>: list performances for an event.</p></li>
<li><p><a href="#performances-by-id">Performances by ID</a>: return detail for one or more 
performances by their ID.</p></li>
</ol>

<p>These two resources are described below, followed by detail of the 
<a href="#extra-parameters">extra parameters</a> that can be passed in to each resource.</p>

<h2 id="performances-list">Performances list</h2>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/performances.v1?event_id={eventid}
</code></pre>
<p>This call returns a list of performances for a particular event. The list is
paged to avoid large volumes of data being accidentally returned.</p>

<p>Typical use cases:</p>

<ul>
<li>Request a list of performances to dynamically populate the calendar on your
website</li>
<li>Request performances on a regular basis (e.g. hourly) to add them to your
system. Note that this is not necessary or recommended - performances is one
of our faster calls and if you cache the list of performances in your own system
pricing and offers can be out of date. This is a particular problem when an
offer or price change goes live at a particular time - you then need to worry
about refreshing your cache. Our own websites dynamically request performances
when a user needs to select on a calendar.</li>
</ul>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/performances.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id=6IF"</span> <span class="se">\</span>
    -d <span class="s2">"page_len=10"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">performances</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_performances</span><span class="p">(</span><span class="s">'6IF'</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Identifier of the event you want to see performances for.</td>
</tr>
<tr>
<td><code class="prettyprint">page_len</code></td>
<td>Length of a page, default 50.</td>
</tr>
<tr>
<td><code class="prettyprint">page_no</code></td>
<td>Page number, default 0, ignored if page_len is not present.</td>
</tr>
<tr>
<td><code class="prettyprint">date_range</code></td>
<td>Date range in the form <code class="prettyprint">yyyymmdd:yyyymmdd</code> (both are optional)</td>
</tr>
</tbody></table>

<p>These parameters can be passed in to request additional data for each 
performance, and are described in more detail in the 
<a href="#extra-parameters">extra parameters</a> section below:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-detail">availability details</a> - a cached list of unique ticket types and price bands available for this performance. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-ranges">cost ranges</a> - a from price and offer detail for each event. <em>Most partners include this parameter.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. <em>This is the most commonly used offer cost range.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code>
<span class="o">{</span>
  <span class="s2">"results"</span>: <span class="o">{</span>
    <span class="s2">"has_perf_names"</span>: <span class="nb">true</span>,
    <span class="s2">"performance"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Thu, 22nd December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-22T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A6Z"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Fri, 23rd December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-23T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A70"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Sun, 25th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-25T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A72"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Mon, 26th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-26T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A73"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Tue, 27th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-27T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A74"</span>,
        <span class="s2">"perf_name"</span>: <span class="s2">"Including back stage pass"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Wed, 28th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-28T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A75"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Thu, 29th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-29T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A76"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Fri, 30th December 2016"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2016-12-30T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A77"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Sun, 1st January 2017"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-01-01T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A79"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"cached_max_seats"</span>: 6,
        <span class="s2">"date_desc"</span>: <span class="s2">"Mon, 2nd January 2017"</span>,
        <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
        <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
        <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
        <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
        <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-01-02T19:30:00Z"</span>,
        <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A7A"</span>,
        <span class="s2">"running_time"</span>: 120,
        <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">[</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A6Z'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A70'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A72'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A73'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A74'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A75'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A76'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A77'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A79'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A7A'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>
</code></pre>
<h3 id="results">Results</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">events_by_id</code></td>
<td>A list of events related to the performances returned. This is only present for meta events (events that are made up of multiple component events, for example a touring show).</td>
</tr>
<tr>
<td><code class="prettyprint">has_perf_names</code></td>
<td>Whether the performances returned have performance names (human readable descriptions of the performance). Performance names are not always present but must be displayed when they are. Performance names are typically used where performances of an event differ significantly in more than just date and time (sometimes the supplier system will not return the time to us in a structured format but it will instead be included as part of the performance name). An example performance with a performance name is 6IF-A5R.</td>
</tr>
<tr>
<td><code class="prettyprint">performance</code></td>
<td>An array of performance objects, described below.</td>
</tr>
</tbody></table>

<p><strong>Performance</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>Unique identifier for the performance</td>
</tr>
<tr>
<td><code class="prettyprint">perf_name</code></td>
<td>A human readable description of the performance. Performance names are not always present but must be displayed when they are. Performance names are typically used where performances of an event differ significantly in more than just date and time (sometimes the supplier system will not return the time to us in a structured format but it will instead be included as part of the performance name). An example performance with a performance name is 6IF-A5R.</td>
</tr>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Unique identifier for the event that this performance is an instance of</td>
</tr>
<tr>
<td><code class="prettyprint">iso8601_date_and_time</code></td>
<td>ISO 8601 date and time</td>
</tr>
<tr>
<td><code class="prettyprint">date_desc</code></td>
<td>human readable date description</td>
</tr>
<tr>
<td><code class="prettyprint">time_desc</code></td>
<td>human readable time description</td>
</tr>
<tr>
<td><code class="prettyprint">is_limited</code></td>
<td>Indicates whether the supply of tickets is known to be extremely limited. This is usually taken to be fewer than four remaining, though not all ticket sources provide this information. Where the information is not available the flag will always be set to <code class="prettyprint">false</code></td>
</tr>
<tr>
<td><code class="prettyprint">has_pool_seats</code></td>
<td>(TODO: Pete what does this mean exactly?)</td>
</tr>
<tr>
<td><code class="prettyprint">is_ghost</code></td>
<td>(TODO: Pete in what scenario would you return perfs with is_ghost = true?)</td>
</tr>
<tr>
<td><code class="prettyprint">cached_max_seats</code></td>
<td>This is the maximum number of contiguous seats that can be booked for this performance, based on Ingresso&rsquo;s cached data. Note that if the event supports seat selection you are not limited by the number of contiguous seats, so this value should be used in the context of best available only. (TODO is this optional?)</td>
</tr>
<tr>
<td><code class="prettyprint">running_time</code></td>
<td>The length / duration of the performance in minutes</td>
</tr>
</tbody></table>

<h2 id="performances-by-id">Performances by ID</h2>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/performances_by_id.v1?perf_id_list={perfidlist}
</code></pre>
<p>This resource is used to return detail for one or more performances by their ID.
It returns a dictionary of performances.</p>

<p>If you have a need to request availability for a subset of performances in a
guaranteed fast response time then one way to achieve it is to use this call
with the <code class="prettyprint">req_avail_details</code> parameter - this will return the list of available
price bands from Ingresso&rsquo;s cached data. Note that the cached data can be out of
date or not present, and doesn&rsquo;t return seating data, so we do not recommend
this in most cases.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/performances_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id_list=6IF-A8J,6IF-A8K"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">performances</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_performances</span><span class="p">([</span><span class="s">'6IF-A5R'</span><span class="p">])</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id_list</code></td>
<td>A comma separated list of performance IDs e.g. <code class="prettyprint">6IF-A5R</code> for a single performance; <code class="prettyprint">6IF-A5R,6IF-A5S</code> for multiple performances.</td>
</tr>
</tbody></table>

<p>These parameters can be passed in to request additional data for each 
performance, and are described in more detail in the 
<a href="#extra-parameters">extra parameters</a> section below:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-detail">availability details</a> - a cached list of unique ticket types and price bands available for this performance. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-ranges">cost ranges</a> - a from price and offer detail for each event. <em>Most partners include this parameter.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. <em>This is the most commonly used offer cost range.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"performances_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6IF-A8J"</span>: <span class="o">{</span>
      <span class="s2">"date_desc"</span>: <span class="s2">"Thu, 16th February 2017"</span>,
      <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
      <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
      <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
      <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
      <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-02-16T19:30:00Z"</span>,
      <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A8J"</span>,
      <span class="s2">"running_time"</span>: 120,
      <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>,
      <span class="s2">"cached_max_seats"</span>: 123
    <span class="o">}</span>,
    <span class="s2">"6IF-A8K"</span>: <span class="o">{</span>
      <span class="s2">"date_desc"</span>: <span class="s2">"Fri, 17th February 2017"</span>,
      <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
      <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
      <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
      <span class="s2">"is_limited"</span>: <span class="nb">true</span>,
      <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-02-17T19:30:00Z"</span>,
      <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A8K"</span>,
      <span class="s2">"running_time"</span>: 120,
      <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>,
      <span class="s2">"cached_max_seats"</span>: 456
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IF-A8J'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A8J'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s">'6IF-A8J'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A8K'</span><span class="p">,</span>
        <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
        <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">is_limited</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">cached_max_seats</span><span class="o">=</span><span class="mi">456</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>Unique identifier for the performance.</td>
</tr>
<tr>
<td><code class="prettyprint">perf_name</code></td>
<td>A human readable description of the performance. Performance names are not always present but must be displayed when they are. Performance names are typically used where performances of an event differ significantly in more than just date and time (sometimes the supplier system will not return the time to us in a structured format but it will instead be included as part of the performance name). An example performance with a performance name is 6IF-A5R.</td>
</tr>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Unique identifier for the event that this performance is an instance of.</td>
</tr>
<tr>
<td><code class="prettyprint">iso8601_date_and_time</code></td>
<td>ISO 8601 date and time.</td>
</tr>
<tr>
<td><code class="prettyprint">date_desc</code></td>
<td>Human readable date description.</td>
</tr>
<tr>
<td><code class="prettyprint">time_desc</code></td>
<td>Human readable time description.</td>
</tr>
<tr>
<td><code class="prettyprint">is_limited</code></td>
<td>Indicates whether the supply of tickets is known to be extremely limited. This is usually taken to be fewer than four remaining, though not all ticket sources provide this information. Where the information is not available the flag will always be set to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">has_pool_seats</code></td>
<td>(TODO: Pete what does this mean exactly?)</td>
</tr>
<tr>
<td><code class="prettyprint">is_ghost</code></td>
<td>(TODO: Pete in what scenario would you return perfs with is_ghost = true?)</td>
</tr>
<tr>
<td><code class="prettyprint">cached_max_seats</code></td>
<td>This is the maximum number of contiguous seats that can be booked for this performance, based on Ingresso&rsquo;s cached data. Note that if the event supports seat selection you are not limited by the number of contiguous seats, so this value should be used in the context of best available only. (TODO is this optional?)</td>
</tr>
<tr>
<td><code class="prettyprint">running_time</code></td>
<td>The length / duration of the performance in minutes.</td>
</tr>
</tbody></table>

<h2 id="extra-parameters">&mdash; Extra parameters &mdash;</h2>

<p>There are several additional parameters described below that can be provided to
return additional data for each performance.</p>

<p>These additional parameters require extra processing to retrieve the requested
data, which will slow down the resource, sometimes substantially. They should
therefore only be used where necessary.</p>

<h2 id="cost-ranges">Cost ranges</h2>

<p>Cost ranges are a cached summary of the pricing that has been seen for your
username. They are used to retrieve the minimum (or &ldquo;from&rdquo;) price for
the performance, along with detail of any offers or discounts. They allow you to
display a from price and whether there is an offer for each performance, so most
partners request cost ranges.</p>

<p>Cost ranges are generated from availability requests made either by end-users or
by scheduled processes that Ingresso use to update cost range data. You should
not attempt to make multiple availability requests in order to keep this data up
to date - please contact us instead to discuss options api@ingresso.co.uk.  Cost
ranges are only ever returned as part of a parent object. </p>

<aside class="notice"> Cost ranges (and avail details) are not guaranteed to be
present (nor accurate) so you should design your application with this in mind,
for example by still displaying a performance even if it is missing a from
price.</aside>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/performancess_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id_list=6L9-M2R"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_best_value_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_max_saving_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_min_cost_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_top_price_offer"</span> <span class="se">\</span>
    -d <span class="s2">"req_cost_range_no_singles_data"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>


<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_performances</span><span class="p">(</span>
    <span class="n">event_ids</span><span class="o">=</span><span class="p">[</span><span class="s">'6IF-A8K'</span><span class="p">],</span>
    <span class="n">cost_range</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">best_value_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">max_saving_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">min_cost_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">top_price_offer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">no_singles_data</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</code></pre>
<p>On its own, <code class="prettyprint">req_cost_range</code> will add min and max prices only, however by
adding one of the other 5 parameters below you can receive additional data
(multiple parameters are provided because there can be multiple definitions of
the &ldquo;best&rdquo; offer). Most API users request cost ranges.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns cost ranges for each performance.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"performances_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6L9-M2R"</span>: <span class="o">{</span>
      <span class="s2">"cached_max_seats"</span>: 15,
      <span class="s2">"cost_range"</span>: <span class="o">{</span>
        <span class="s2">"best_value_offer"</span>: <span class="o">{</span>
          <span class="s2">"absolute_saving"</span>: 9,
          <span class="s2">"full_seatprice"</span>: 75,
          <span class="s2">"full_surcharge"</span>: 5,
          <span class="s2">"offer_seatprice"</span>: 68,
          <span class="s2">"offer_surcharge"</span>: 3,
          <span class="s2">"percentage_saving"</span>: 11
        <span class="o">}</span>,
        <span class="s2">"max_saving_offer"</span>: <span class="o">{</span>
          <span class="s2">"absolute_saving"</span>: 9,
          <span class="s2">"full_seatprice"</span>: 75,
          <span class="s2">"full_surcharge"</span>: 5,
          <span class="s2">"offer_seatprice"</span>: 68,
          <span class="s2">"offer_surcharge"</span>: 3,
          <span class="s2">"percentage_saving"</span>: 11
        <span class="o">}</span>,
        <span class="s2">"max_seatprice"</span>: 68,
        <span class="s2">"max_surcharge"</span>: 3,
        <span class="s2">"min_cost_offer"</span>: <span class="o">{</span>
          <span class="s2">"absolute_saving"</span>: 9,
          <span class="s2">"full_seatprice"</span>: 75,
          <span class="s2">"full_surcharge"</span>: 5,
          <span class="s2">"offer_seatprice"</span>: 68,
          <span class="s2">"offer_surcharge"</span>: 3,
          <span class="s2">"percentage_saving"</span>: 11
        <span class="o">}</span>,
        <span class="s2">"min_seatprice"</span>: 68,
        <span class="s2">"min_surcharge"</span>: 3,
        <span class="s2">"no_singles_cost_range"</span>: <span class="o">{</span>
          <span class="s2">"best_value_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"max_saving_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"max_seatprice"</span>: 68,
          <span class="s2">"max_surcharge"</span>: 3,
          <span class="s2">"min_cost_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"min_seatprice"</span>: 68,
          <span class="s2">"min_surcharge"</span>: 3,
          <span class="s2">"range_currency"</span>: <span class="o">{</span>
            <span class="s2">"currency_code"</span>: <span class="s2">"usd"</span>,
            <span class="s2">"currency_factor"</span>: 100,
            <span class="s2">"currency_number"</span>: 840,
            <span class="s2">"currency_places"</span>: 2,
            <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
            <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"$"</span>
          <span class="o">}</span>,
          <span class="s2">"top_price_offer"</span>: <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 9,
            <span class="s2">"full_seatprice"</span>: 75,
            <span class="s2">"full_surcharge"</span>: 5,
            <span class="s2">"offer_seatprice"</span>: 68,
            <span class="s2">"offer_surcharge"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 11
          <span class="o">}</span>,
          <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
            1,
            2,
            3,
            4
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"range_currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"usd"</span>,
          <span class="s2">"currency_factor"</span>: 100,
          <span class="s2">"currency_number"</span>: 840,
          <span class="s2">"currency_places"</span>: 2,
          <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
          <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"$"</span>
        <span class="o">}</span>,
        <span class="s2">"top_price_offer"</span>: <span class="o">{</span>
          <span class="s2">"absolute_saving"</span>: 9,
          <span class="s2">"full_seatprice"</span>: 75,
          <span class="s2">"full_surcharge"</span>: 5,
          <span class="s2">"offer_seatprice"</span>: 68,
          <span class="s2">"offer_surcharge"</span>: 3,
          <span class="s2">"percentage_saving"</span>: 11
        <span class="o">}</span>,
        <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
          1,
          2,
          3,
          4
        <span class="o">]</span>
      <span class="o">}</span>,
      <span class="s2">"date_desc"</span>: <span class="s2">"Wed, 5th April 2017"</span>,
      <span class="s2">"event_id"</span>: <span class="s2">"6L9"</span>,
      <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
      <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
      <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
      <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-04-05T22:30:00-07:00"</span>,
      <span class="s2">"perf_id"</span>: <span class="s2">"6L9-M2R"</span>,
      <span class="s2">"running_time"</span>: 120,
      <span class="s2">"time_desc"</span>: <span class="s2">"10.30 PM"</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A8K'</span><span class="p">,</span>
    <span class="n">cost_range</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
        <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
        <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
        <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
    <span class="n">no_singles_cost_range</span> <span class="o">=</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">CostRange</span><span class="p">(</span>
        <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="n">max_seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
        <span class="n">max_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">min_seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
        <span class="n">min_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
            <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre>
<aside class="notice">In the UK market, offers are typically classified as
either &ldquo;discounted face value&rdquo; or &ldquo;no booking fee&rdquo;. Discounted face value
offers have an offer seatprice that is lower than the full price seatprice (and
normally they have an offer surcharge of zero). No booking fee offers have an
offer seatprice equal to the full price seatprice, and an offer surcharge equal
to zero. The standard is to not display a saving percentage for no booking fee
offers (some suppliers do not like their offers to show as percentage
discounts), and instead display &ldquo;No fees&rdquo; or similar.</aside>

<p>Each performance returned includes a <code class="prettyprint">cost_range</code> object with the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">best_value_offer</code></td>
<td>The offer with the highest percentage saving. This is the most commonly used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">max_saving_offer</code></td>
<td>The offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">max_seatprice</code></td>
<td>The per-ticket face value for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">max_surcharge</code></td>
<td>The per-ticket booking fee for the highest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_cost_offer</code></td>
<td>The offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">min_seatprice</code></td>
<td>The per-ticket face value for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">min_surcharge</code></td>
<td>The per-ticket booking fee for the lowest price (seatprice + surcharge)</td>
</tr>
<tr>
<td><code class="prettyprint">no_singles_cost_range</code></td>
<td>This returns another cost range object that excludes availability with only one consecutive seat available. The prices in this cost range will therefore be the same as or higher than the outer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">quantity_options</code></td>
<td>The ticket quantities that have availability.</td>
</tr>
<tr>
<td><code class="prettyprint">range_currency</code></td>
<td>The currency for the cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">top_price_offer</code></td>
<td>The offer with the highest cost. This is the least used offer cost range.</td>
</tr>
</tbody></table>

<p>The <strong>offer</strong> objects contain the following attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">absolute_saving</code></td>
<td>Defined as (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) - (<code class="prettyprint">offer_seatprice</code> + <code class="prettyprint">offer_surcharge</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">full_seatprice</code></td>
<td>The non-offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">full_surcharge</code></td>
<td>The non-offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_seatprice</code></td>
<td>The offer per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">offer_surcharge</code></td>
<td>The offer per-ticket booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">percentage_saving</code></td>
<td>Defined as <code class="prettyprint">absolute_saving</code> / (<code class="prettyprint">full_seatprice</code> + <code class="prettyprint">full_surcharge</code>) * 100.</td>
</tr>
</tbody></table>

<h2 id="availability-detail">Availability detail</h2>

<p>Availability details are a cached list of the price bands for each performance.
They are cached from previous availability requests made via your username. This
data can be useful for example if you wish to display a separate page with
pricing detail for all price bands on sale.</p>

<p>Availability details are generated from availability requests made either by
end-users or by scheduled processes that Ingresso use to update this data. You
should not attempt to make multiple availability requests in order to keep this
data up to date - please contact us instead to discuss options
<a href="mailto:api@ingresso.co.uk">api@ingresso.co.uk</a>.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/performances_by_id.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id_list=6IF-A8K"</span> <span class="se">\</span>
    -d <span class="s2">"req_avail_details"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketickswitch</span> <span class="kn">import</span> <span class="n">client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_events</span><span class="p">([</span><span class="s">'6IF'</span><span class="p">],</span> <span class="n">availability</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">availability_with_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns a list of unique ticket types and price bands that are available for this performance. <strong>This parameter is not commonly used.</strong></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"performances_by_id"</span>: <span class="o">{</span>
    <span class="s2">"6L9-M2R"</span>: <span class="o">{</span>
      <span class="s2">"avail_details"</span>: <span class="o">{</span>
        <span class="s2">"ticket_type"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"price_band"</span>: <span class="o">[</span>
              <span class="o">{</span>
                <span class="s2">"avail_detail"</span>: <span class="o">[</span>
                  <span class="o">{</span>
                    <span class="s2">"absolute_saving"</span>: 9,
                    <span class="s2">"avail_currency"</span>: <span class="o">{</span>
                      <span class="s2">"currency_code"</span>: <span class="s2">"usd"</span>,
                      <span class="s2">"currency_factor"</span>: 100,
                      <span class="s2">"currency_number"</span>: 840,
                      <span class="s2">"currency_places"</span>: 2,
                      <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                      <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"$"</span>
                    <span class="o">}</span>,
                    <span class="s2">"cached_number_available"</span>: 4,
                    <span class="s2">"full_seatprice"</span>: 75,
                    <span class="s2">"full_surcharge"</span>: 5,
                    <span class="s2">"percentage_saving"</span>: 11,
                    <span class="s2">"seatprice"</span>: 68,
                    <span class="s2">"surcharge"</span>: 3,
                    <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
                      1,
                      2,
                      3,
                      4
                    <span class="o">]</span>
                  <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"price_band_code"</span>: <span class="s2">"A"</span>,
                <span class="s2">"price_band_desc"</span>: <span class="s2">""</span>
              <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"PREF"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Preferred seating"</span>
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>,
      <span class="s2">"date_desc"</span>: <span class="s2">"Wed, 5th April 2017"</span>,
      <span class="s2">"event_id"</span>: <span class="s2">"6L9"</span>,
      <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
      <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
      <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
      <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-04-05T22:30:00-07:00"</span>,
      <span class="s2">"perf_id"</span>: <span class="s2">"6L9-M2R"</span>,
      <span class="s2">"running_time"</span>: 120,
      <span class="s2">"time_desc"</span>: <span class="s2">"10.30 PM"</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">{</span>
    <span class="s">'6IF-A8K'</span><span class="p">:</span> <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Performance</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A8K'</span><span class="p">,</span>
        <span class="n">availabilty_details</span><span class="o">=</span><span class="p">[</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'BALCONY'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Balcony'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">47.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">35.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">30.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper circle'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'C'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'A'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">21.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">AvailabilityDetails</span><span class="p">(</span>
                <span class="n">ticket_type</span><span class="o">=</span><span class="s">'STALLS'</span><span class="p">,</span>
                <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Stalls'</span><span class="p">,</span>
                <span class="n">price_band</span><span class="o">=</span><span class="s">'B'</span><span class="p">,</span>
                <span class="n">price_band_description</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
                <span class="n">seatprice</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span>
                <span class="n">surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Currency</span><span class="p">(</span>
                    <span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">valid_quantities</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="p">),</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p><strong>Ticket types</strong> describe a part of house or location within the venue.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The identifier of the ticket type, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>A human readable description of the price band if applicable.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band</code></td>
<td>A list of price bands.</td>
</tr>
</tbody></table>

<p><strong>Price bands</strong> describe the different levels of pricing that are available within a
ticket type. </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The identifier of the price band, this can be used later in the <a href="#trolley">trolley</a> or <a href="#reserve">reserve</a> resource.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_desc</code></td>
<td>A human readable description of the price band if applicable.</td>
</tr>
<tr>
<td><code class="prettyprint">avail_details</code></td>
<td>A list of the prices in this price band and when they are available.</td>
</tr>
</tbody></table>

<p>The <strong>avail details</strong> indicate what prices we have seen for this performance.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">avail_currency</code></td>
<td>The price <a href="#currency-object">currency</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">cached_number_available</code></td>
<td>The maximum number of consecutive tickets available.</td>
</tr>
<tr>
<td><code class="prettyprint">valid_quantities</code></td>
<td>An array of available quantities we have seen for this price band.</td>
</tr>
<tr>
<td><code class="prettyprint">seatprice</code></td>
<td>The per-ticket face value.</td>
</tr>
<tr>
<td><code class="prettyprint">surcharge</code></td>
<td>The per-ticket booking fee.</td>
</tr>
</tbody></table>

          <h1 id="months">Months</h1>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/months.v1?event_id={eventid}
</code></pre>
<p>This resource gives a summary of the availability across calendar months</p>

<p><code class="prettyprint">months</code> is provided for those who wish to display month-level summary data; for 
example listing the available months in tabs above a calendar. This resource can 
remove the need to summarise performance-level data in your application.</p>

<p>It is an optional resource that not all partners choose to use.</p>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/months.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"event_id=6IF"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_months</span><span class="p">(</span><span class="s">'6IF'</span><span class="p">)</span>
</code></pre>
<h3 id="request">Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">event_id</code></td>
<td>Identifier of the event to summarise</td>
</tr>
</tbody></table>

<p>These parameters can be passed in to request additional data for each 
performance, and are described in more detail in the 
<a href="#extra-parameters">extra parameters</a> section above for performances.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-detail">availability details</a> - a cached list of unique ticket types and price bands available for this event across all performances in the month. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-ranges">cost ranges</a> - a from price and offer detail for each event. <em>Most partners include this parameter.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving. <em>This is the most commonly used offer cost range.</em></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"results"</span>: <span class="o">{</span>
    <span class="s2">"month"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"month"</span>: <span class="s2">"dec"</span>,
        <span class="s2">"month_dates_bitmask"</span>: 1065254912,
        <span class="s2">"month_desc"</span>: <span class="s2">"December"</span>,
        <span class="s2">"month_weekdays_bitmask"</span>: 63,
        <span class="s2">"year"</span>: 2016
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"month"</span>: <span class="s2">"jan"</span>,
        <span class="s2">"month_dates_bitmask"</span>: 2012209087,
        <span class="s2">"month_desc"</span>: <span class="s2">"January"</span>,
        <span class="s2">"month_weekdays_bitmask"</span>: 63,
        <span class="s2">"year"</span>: 2017
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"month"</span>: <span class="s2">"feb"</span>,
        <span class="s2">"month_dates_bitmask"</span>: 251526135,
        <span class="s2">"month_desc"</span>: <span class="s2">"February"</span>,
        <span class="s2">"month_weekdays_bitmask"</span>: 63,
        <span class="s2">"year"</span>: 2017
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"month"</span>: <span class="s2">"mar"</span>,
        <span class="s2">"month_dates_bitmask"</span>: 2130574327,
        <span class="s2">"month_desc"</span>: <span class="s2">"March"</span>,
        <span class="s2">"month_weekdays_bitmask"</span>: 63,
        <span class="s2">"year"</span>: 2017
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"month"</span>: <span class="s2">"apr"</span>,
        <span class="s2">"month_dates_bitmask"</span>: 16254,
        <span class="s2">"month_desc"</span>: <span class="s2">"April"</span>,
        <span class="s2">"month_weekdays_bitmask"</span>: 63,
        <span class="s2">"year"</span>: 2017
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">[</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Month</span><span class="p">(</span>
        <span class="n">month</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
        <span class="n">year</span><span class="o">=</span><span class="mi">2016</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'December'</span><span class="p">,</span>
        <span class="n">month_bitmask</span><span class="o">=</span><span class="mi">1065254912</span><span class="p">,</span>
        <span class="n">weekdays_bitmask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Month</span><span class="p">(</span>
        <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'January'</span><span class="p">,</span>
        <span class="n">month_bitmask</span><span class="o">=</span><span class="mi">2012209087</span><span class="p">,</span>
        <span class="n">weekdays_bitmask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Month</span><span class="p">(</span>
        <span class="n">month</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Febuary'</span><span class="p">,</span>
        <span class="n">month_bitmask</span><span class="o">=</span><span class="mi">251526135</span><span class="p">,</span>
        <span class="n">weekdays_bitmask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Month</span><span class="p">(</span>
        <span class="n">month</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'March'</span><span class="p">,</span>
        <span class="n">month_bitmask</span><span class="o">=</span><span class="mi">2130574327</span><span class="p">,</span>
        <span class="n">weekdays_bitmask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Month</span><span class="p">(</span>
        <span class="n">month</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
        <span class="n">year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'April'</span><span class="p">,</span>
        <span class="n">month_bitmask</span><span class="o">=</span><span class="mi">16254</span><span class="p">,</span>
        <span class="n">weekdays_bitmask</span><span class="o">=</span><span class="mi">63</span><span class="p">,</span>
   <span class="p">)</span>
<span class="p">]</span>
</code></pre>
<h3 id="response">Response</h3>

<aside class="language-specific shell notice">
    This resource returns bitmasks in some fields, for more information on how
    to decode this data see the <a href="#bitmask-fields">Bitmask Fields</a> 
    section.
</aside>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">month</code></td>
<td>Three-character code for the month.</td>
</tr>
<tr>
<td><code class="prettyprint">month_dates_bitmask</code></td>
<td>Indicates which dates in the month have valid performances.</td>
</tr>
<tr>
<td><code class="prettyprint">month_desc</code></td>
<td>Full month name.</td>
</tr>
<tr>
<td><code class="prettyprint">month_weekdays_bitmask</code></td>
<td>Indicates which weekdays have valid performances for the month.</td>
</tr>
<tr>
<td><code class="prettyprint">year</code></td>
<td>The year.</td>
</tr>
</tbody></table>

          <h1 id="availability">Availability</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/availability.v1?perf_id={performanceid}
</code></pre>
<p>TODO:</p>

<ul>
<li>Are send methods returned by availability? If so how?  &ldquo;A list of possible methods of despatching the tickets to the customer is also provided. Depending on the particular product, a ticket may be held for collection, or posted to the customer (subject to a number of restrictions on timing and postal areas). Each method in the list has an associated cost which will be added to the overall ticket charge.&rdquo;</li>
<li>What other parameters am I missing?</li>
<li>Promo codes?</li>
<li>Do we need to include anything on allocation modes now that we have price bands with /pool?</li>
</ul>

<p><strong><code class="prettyprint">availability</code></strong> lists the tickets that are currently available for a performance.
In most cases the availability provided is in real time (although we do
sometimes <a href="#caching">cache</a> availability) and represents the tickets available
at the time the request was made. There is therefore no guarantee that the
tickets will still be available to purchase at some future time. Tickets are
only guaranteed to be held after you have <a href="#reserve">reserved tickets</a>.</p>

<p>Availability is divided into a set of ticket types, and each ticket type is
subdivided into price bands. If you request individual seats for a seated event
then each price band includes seat blocks containing contiguous seats.</p>

<p>We have a single availability resource that will return best available seating
by default. This resource is described first, following by 
<a href="#optional-parameters">optional parameters</a> that can be passed to request 
<a href="#individual-seats">individual seats</a>, <a href="#example-seats">example seats</a>, 
<a href="#commission">commission</a>, and <a href="#add-discounts">discounts</a>.</p>

<h2 id="availability">Availability</h2>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0I"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">availability</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_availability</span><span class="p">(</span><span class="s">'6IF-A8B'</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>The identifier of the performance that you wish to request availability for.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td><em>Optional</em>. The number of seats the customer would like. If this is specified then availability will only be shown for price bands with at least that many contiguous seats available.</td>
</tr>
</tbody></table>

<p>These parameters can be included to request additional data:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_discounts</code></td>
<td><a href="#discounts">discounts</a></td>
</tr>
<tr>
<td><code class="prettyprint">add_example_seats</code></td>
<td>Include to retrieve <a href="#example-seats">example seats</a>. These can be displayed alongside the ticket options when presenting availability to customers. The inclusion of this parameter does not guarantee that example seats data will be returned - this also depends on (a) whether the event is seated and (b) whether the supplier system returns seats at availability time.</td>
</tr>
<tr>
<td><code class="prettyprint">add_seat_blocks</code></td>
<td>Include to retrieve <a href="#individual-seats">individual seats</a> (if, for example, you wish to offer seat selection to your customer). The inclusion of this parameter does not guarantee that individual seat data will be returned - this also depends on (a) whether the event is seated and (b) whether the supplier system supports seat selection.</td>
</tr>
<tr>
<td><code class="prettyprint">add_user_commission</code></td>
<td>Include to retrieve <a href="#commission">commission</a> data. For most partners this will include user_commission only (the amount you earn per ticket). Some partners will also see gross_commission, which is the total commission available to be shared between Ingresso and our partner. By default you will see user_commission only - if you think you need to see gross_commission as well then please get in touch.</td>
</tr>
</tbody></table>

<p>(TODO should be req_seat_blocks for consistency?)</p>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"availability"</span>: <span class="o">{</span>
    <span class="s2">"ticket_type"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 35,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 35,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 30,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 30,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 25,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 25,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 21,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 21,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 18,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 18,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"STALLS"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 47,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 47,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"BALCONY"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"backend_is_broken"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_is_down"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_throttle_failed"</span>: <span class="nb">false</span>,
  <span class="s2">"can_leave_singles"</span>: <span class="nb">true</span>,
  <span class="s2">"contiguous_seat_selection_only"</span>: <span class="nb">true</span>,
  <span class="s2">"currency"</span>: <span class="o">{</span>
    <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
    <span class="s2">"currency_factor"</span>: 100,
    <span class="s2">"currency_number"</span>: 826,
    <span class="s2">"currency_places"</span>: 2,
    <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
    <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
  <span class="o">}</span>,
  <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
    1,
    2,
    3,
    4,
    5,
    6
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><code class="prettyprint">Availability</code> lists the tickets that are currently available for a performance.
In most cases the availability provided is in real time (although we do
sometimes <a href="#caching">cache</a> availability) and represents the tickets available
at the time the request was made. There is therefore no guarantee that the
tickets will still be available to purchase at some future time. Tickets are
only guaranteed to be held after you have <a href="#reserve">reserved tickets</a>.</p>

<p>Availability is divided into a set of ticket types, and each ticket type is
subdivided into price bands. If you request individual seats for a seated event
each price band includes seat blocks for the contiguous seats. The structure of
the availability data returned is therefore:</p>

<p><img src="https://d1wx4w35ubmdix.cloudfront.net/wl-media/images/availability-hierarchy.png" alt="Availability Hierarchy"></p>

<p>If you wish to retrieve individual seats and offer seat selection to your
customer then you should include <code class="prettyprint">add_seat_blocks</code> in your request. If the event
is seated and the supplier system supports seat selection then we will return
seat blocks containing seats. You can check for the presence of the seat blocks
to determine whether you can offer seat selection to your customer. Note that
implementing seat selection can be quite involved because you need to integrate
a third-party seat renderer or implement your own - we are happy to discuss this
further with you and offer our advice.</p>

<aside class="notice">In the UK market, offers are typically classified as
either &ldquo;discounted face value&rdquo; or &ldquo;no booking fee&rdquo;. Discounted face value offers
have an offer seatprice that is lower than the full price seatprice (and
normally they have an offer surcharge of zero). No booking fee offers have an
offer seatprice equal to the full price seatprice, and an offer surcharge equal
to zero. The standard is to not display a saving percentage for no booking fee
offers (some suppliers do not like their offers to show as percentage
discounts), and instead display &ldquo;No fees&rdquo; or similar.</aside>

<p>This example response is for best available - following this there is an example
response that includes seats.</p>

<p>Availability-level attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">backend_is_broken</code></td>
<td>If we see an unexpected error from the supplier system (for example a 500 error) we mark the system as &ldquo;broken&rdquo; for a period of time afterwards (the time can vary from nothing to 2 minutes). During this period of time this attribute will be <code class="prettyprint">true</code> and we will return empty availability. This is an exceptional circumstance; to check if there is currently a supplier system issue you can check our <a href="https://status.ingresso.co.uk/">status page</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">backend_is_down</code></td>
<td>When <code class="prettyprint">true</code> the supplier system cannot be contacted for some reason, for example they are having technical problems or scheduled maintenance. The response will include empty availability in this case. This is an exceptional circumstance; to check if there is currently a supplier system issue you can check our <a href="https://status.ingresso.co.uk/">status page</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">backend_throttle_failed</code></td>
<td>We allow a certain number of simultaneous requests to hit a supplier system and queue requests when the limit is reached. When this attribute is <code class="prettyprint">true</code> your request has been sitting in our queue for a long time and we have timed out the request. This is an exceptional circumstance.</td>
</tr>
<tr>
<td><code class="prettyprint">can_leave_singles</code></td>
<td>In most cases this is <code class="prettyprint">true</code>. When <code class="prettyprint">false</code> the supplier ticketing system does not allow us to leave single seats (which are difficult to sell). TODO add more detail to this - what should an api user do when this is false?</td>
</tr>
<tr>
<td><code class="prettyprint">contiguous_seat_selection_only</code></td>
<td>If you have requested individual seats a value of <code class="prettyprint">true</code> indicates that you can only select consecutive seats. <code class="prettyprint">false</code> indicates that you can select seats without restriction <em>within a single ticket type and price band</em>. In most cases this will be <code class="prettyprint">false</code>. If you would like to allow your customers to select seats without restriction across price bands and ticket types, you need to add multiple orders to a <a href="#trolley">trolley</a>, one order for each price band. However there are currently some restrictions enforced so if you want to do this you will need to contact us first api@ingresso.co.uk</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>The <a href="#currency-object">currency</a> of the availability.</td>
</tr>
<tr>
<td><code class="prettyprint">quantity_options</code></td>
<td>The valid <a href="#quantity-options-object">quantity options</a>, a rare example is that some tickets can only be purchased in pairs.</td>
</tr>
</tbody></table>

<p>Ticket type attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The unique identifier for the ticket type. For seated events this refers to a part of house / seating area such as Grand Circle.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>The description for the ticket type. This should be displayed to the customer (if you are offering seat selection to your customer then you would typically hard-code the description when drawing a seating plan).</td>
</tr>
</tbody></table>

<p>Price band attributes:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">absolute_saving</code></td>
<td>Defined as (<code class="prettyprint">non_offer_sale_seatprice</code> + <code class="prettyprint">non_offer_sale_surcharge</code>) - (<code class="prettyprint">sale_seatprice</code> + <code class="prettyprint">sale_surcharge</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">discount_code</code></td>
<td>The unique identifier of the default <a href="#discount-object">discount</a>. Each price band has a default discount, but additional discounts can be requested for a price band with <a href="#list-discounts">list discounts</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">discount_desc</code></td>
<td>The description of the default discount. We recommend to present this text to customers when <code class="prettyprint">is_offer</code> is <code class="prettyprint">true</code> to describe the offer.</td>
</tr>
<tr>
<td><code class="prettyprint">is_offer</code></td>
<td><code class="prettyprint">true</code> if the ticket price is discounted below the full price, i.e. if <code class="prettyprint">absolute_saving</code> is greater than zero.</td>
</tr>
<tr>
<td><code class="prettyprint">non_offer_sale_seatprice</code></td>
<td>The per-ticket price for full-priced tickets. This will be the face value price when the market has such a concept (for example the London theatre market has this concept, but some New York theatre shows do not). This is the same as the <code class="prettyprint">sale_seatprice</code> when the price band is not discounted. (TODO can we remove &ldquo;sale&rdquo; from the name?)</td>
</tr>
<tr>
<td><code class="prettyprint">non_offer_sale_surcharge</code></td>
<td>The per-ticket booking fee for full-priced tickets. To determine the total ticket price you must add together the <code class="prettyprint">non_offer_sale_seatprice</code> and the <code class="prettyprint">non_offer_sale_surcharge</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">number_available</code></td>
<td>This is the maximum number of contiguous seats that can be purchased. This applies to best available only - if you are using seat selection and <code class="prettyprint">contiguous_seat_selection_only</code> is <code class="prettyprint">false</code> it is possible to select above this number.</td>
</tr>
<tr>
<td><code class="prettyprint">percentage_saving</code></td>
<td>Defined as <code class="prettyprint">absolute_saving</code> / (<code class="prettyprint">non_offer_sale_seatprice</code> + <code class="prettyprint">non_offer_sale_surcharge</code>) * 100</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The code for a price band, for example &ldquo;C/pool&rdquo;. To uniquely identify a price band you should take the combination of <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code>. The price band code is generally made up of the code from the underlying supplier system, e.g. &ldquo;C&rdquo;, followed by a &ldquo;/&rdquo; separator then &ldquo;pool&rdquo; or &ldquo;alloc&rdquo;, indicating whether the price band is taken from the general pool of tickets or is from a ring-fenced allocation. Integrating partners should just work with the full price_band_code, ignoring the constituent parts.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_description??</code></td>
<td>(TODO what is the actual name of this attribute?)</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice</code></td>
<td>The per-ticket price. This will be the face value price when the market has such a concept (for example the London theatre market has this concept, but some New York theatre shows do not). This is the same as the <code class="prettyprint">non_offer_sale_seatprice</code> when the price band is not discounted.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge</code></td>
<td>The per-ticket booking fee. To determine the total ticket price you must add together the <code class="prettyprint">sale_seatprice</code> and the <code class="prettyprint">sale_surcharge</code>.</td>
</tr>
</tbody></table>

<h2 id="optional-parameters">&mdash; Optional Parameters &mdash;</h2>

<p>There are several additional parameters described below that can be provided to
return additional availability data.</p>

<p>These additional parameters require extra processing to retrieve the requested
data, which will slow down the resource, sometimes substantially. They should
therefore only be used where necessary.</p>

<h2 id="individual-seats">Individual Seats</h2>

<p>The Ingresso API can return a list of all available seats, allowing you to give
your customers the choice rather than forcing them to take the best available
seats. </p>

<aside class="notice">To save development effort, it is possible to link to
Ingresso&rsquo;s booking page and we will automatically redirect back to your checkout
page once the customer has successfully reserved their seats. Alternatively you
can embed our seat selection widget within your site.</aside>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=3CVB-22"</span> <span class="se">\</span>
    -d <span class="s2">"add_seat_blocks"</span> <span class="se">\</span>
    -G
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_seat_blocks</code></td>
<td>Include to retrieve individual seats (if, for example, you wish to offer seat selection to your customer). The inclusion of this parameter does not guarantee that individual seat data will be returned - this also depends on (a) whether the event is seated and (b) whether the supplier system supports seat selection.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"availability"</span>: <span class="o">{</span>
    <span class="s2">"ticket_type"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"free_seat_blocks"</span>: <span class="o">{</span>
              <span class="s2">"seat_block"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"block_length"</span>: 10,
                  <span class="s2">"id_details"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D1"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D2"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"3"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D3"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/3"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"4"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D4"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/4"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"5"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D5"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/5"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"6"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D6"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/6"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D7"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D8"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"9"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D9"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/9"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"10"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"D10"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/10"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>
                  <span class="o">]</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 10,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"D/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 10,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"BAL"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"free_seat_blocks"</span>: <span class="o">{</span>
              <span class="s2">"seat_block"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"block_length"</span>: 10,
                  <span class="s2">"id_details"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B1"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B2"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"3"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B3"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/3"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"4"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B4"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/4"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"5"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B5"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/5"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"6"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B6"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/6"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B7"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B8"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"9"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B9"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/9"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"10"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"B10"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/10"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>
                  <span class="o">]</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 40,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 40,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"DC"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Dress Circle"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"free_seat_blocks"</span>: <span class="o">{</span>
              <span class="s2">"seat_block"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"block_length"</span>: 10,
                  <span class="s2">"id_details"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A1"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A2"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"3"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A3"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/3"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"4"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A4"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/4"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"5"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A5"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/5"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"6"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A6"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/6"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A7"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A8"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"9"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A9"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/9"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"10"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"A10"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/10"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>
                  <span class="o">]</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 60,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 60,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"STA"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"free_seat_blocks"</span>: <span class="o">{</span>
              <span class="s2">"seat_block"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"block_length"</span>: 10,
                  <span class="s2">"id_details"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C1"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C2"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"3"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C3"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/3"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"4"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C4"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/4"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"5"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C5"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/5"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"6"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C6"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/6"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C7"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C8"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"9"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C9"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/9"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"10"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"C10"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                      <span class="s2">"seat_subdata"</span>: <span class="s2">"1/10"</span>,
                      <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                      <span class="s2">"separator"</span>: <span class="s2">""</span>
                    <span class="o">}</span>
                  <span class="o">]</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 20,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 20,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"UPP"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper Circle"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"backend_is_broken"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_is_down"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_throttle_failed"</span>: <span class="nb">false</span>,
  <span class="s2">"can_leave_singles"</span>: <span class="nb">true</span>,
  <span class="s2">"contiguous_seat_selection_only"</span>: <span class="nb">false</span>,
  <span class="s2">"currency"</span>: <span class="o">{</span>
    <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
  <span class="o">}</span>,
  <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
    1,
    2,
    3,
    4,
    5,
    6
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>The response includes the following attributes in the <code class="prettyprint">seat_block</code>:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">block_length</code></td>
<td>The number of seats in the block. Seats are included in the same seat block when they are contiguous.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details</code></td>
<td>An array of individual seats. The array order determines whether seats are contiguous, so when <code class="prettyprint">contiguous_seat_selection_only</code> = <code class="prettyprint">true</code> then you can only reserve seats that are in a continuous order in the array.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.col_id</code></td>
<td>The column identifier, normally a number.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.full_id</code></td>
<td>The unique identifier for the seat.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.is_restricted_view</code></td>
<td><code class="prettyprint">true</code> if the seat is marked as having a restricted view.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.row_id</code></td>
<td>The row identifier, normally a letter.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_subdata</code></td>
<td>(TODO: what is this useful for?)</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_text</code></td>
<td><em>(Optional)</em> A description of the seat that should be displayed to the customer. If the seat has a restricted view this text will normally be present to describe the restriction in more detail, but it should be displayed in all cases.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_text_code</code></td>
<td>(TODO shouldn&rsquo;t this only appear when seat_text appears and not useful externally anyway?)</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.separator</code></td>
<td>(TODO when is this used, what is an example?)</td>
</tr>
</tbody></table>

<h2 id="example-seats">Example Seats</h2>

<p>Example seats can be requested and displayed alongside the list of available 
ticket types and price bands. This is a simpler option to show seats to your 
customer alongside the list of price bands without needing to request 
<a href="#individual-seats">individual seats</a> and do the work to display them on a 
seating plan or similar. If you plan to display individual seats then there is 
no need to also request example seats.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=3CVB-22"</span> <span class="se">\</span>
    -d <span class="s2">"add_example_seats"</span> <span class="se">\</span>
    -G
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_example_seats</code></td>
<td>Include to retrieve <a href="#example-seats">example seats</a>. These can be displayed alongside the ticket options when presenting availability to customers. The inclusion of this parameter does not guarantee that example seats data will be returned - this also depends on (a) whether the event is seated and (b) whether the supplier system returns seats at availability time.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"availability"</span>: <span class="o">{</span>
    <span class="s2">"ticket_type"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"example_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"D1"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"D2"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"D"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"example_seats_are_real"</span>: <span class="nb">true</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 10,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"D/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 10,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"BAL"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"example_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"B1"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"B2"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"B"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"example_seats_are_real"</span>: <span class="nb">true</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 40,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 40,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"DC"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Dress Circle"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"example_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"A1"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"A2"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"A"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"example_seats_are_real"</span>: <span class="nb">true</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 60,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 60,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"STA"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
            <span class="s2">"example_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"1"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C1"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/1"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"2"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C2"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/2"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"example_seats_are_real"</span>: <span class="nb">true</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 20,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 10,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 20,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"UPP"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper Circle"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"backend_is_broken"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_is_down"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_throttle_failed"</span>: <span class="nb">false</span>,
  <span class="s2">"can_leave_singles"</span>: <span class="nb">true</span>,
  <span class="s2">"contiguous_seat_selection_only"</span>: <span class="nb">false</span>,
  <span class="s2">"currency"</span>: <span class="o">{</span>
    <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
  <span class="o">}</span>,
  <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
    1,
    2,
    3,
    4,
    5,
    6
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>If the event supports example seats the response includes several attributes in
<code class="prettyprint">example_seats</code>.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">example_seats_are_real</code></td>
<td>If <code class="prettyprint">true</code> the example seats are taken from a list of available seats, and they are the seats the customer is likely to receive when they reserve tickets. This is the most common scenario. If <code class="prettyprint">false</code> the example seats are taken from previous reservations and are therefore less reliable.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details</code></td>
<td>The description of an individual seat.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.col_id</code></td>
<td>The column identifier, normally a number.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.full_id</code></td>
<td>The unique identifier for the seat.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.is_restricted_view</code></td>
<td><code class="prettyprint">true</code> if the seat is marked as having a restricted view.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.row_id</code></td>
<td>The row identifier, normally a letter.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_subdata</code></td>
<td>(TODO: what is this useful for?)</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_text</code></td>
<td><em>(Optional)</em> A description of the seat that should be displayed to the customer. If the seat has a restricted view this text will normally be present to describe the restriction in more detail, but it should be displayed in all cases.</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.seat_text_code</code></td>
<td>(TODO shouldn&rsquo;t this only appear when seat_text appears and not useful externally anyway?)</td>
</tr>
<tr>
<td><code class="prettyprint">id_details.separator</code></td>
<td>(TODO when is this used, what is an example?)</td>
</tr>
</tbody></table>

<h2 id="commission">Commission</h2>

<p>Some partners wish to view the commission they will earn on each ticket up
front, before the sale is made. This could be to support agents that want to
know what they will earn, or to support custom repricing.</p>

<aside class="notice">Ingresso has a pricing dashboard, so there is no need for you to develop your own repricing functionality.</aside>

<p>Availability will return the per ticket commission you will earn. If you
subtract commission from the total ticket price (<code class="prettyprint">sale_seatprice</code> +
<code class="prettyprint">sale_surcharge</code>) you have the net price of the ticket.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0I"</span> <span class="se">\</span>
    -d <span class="s2">"add_user_commission"</span> <span class="se">\</span>
    -G
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_user_commission</code></td>
<td>Include to retrieve commission data. For most partners this will include user_commission only (the amount you earn per ticket). Some partners will also see gross_commission, which is the total commission available to be shared between Ingresso and our partner. By default you will see user_commission only - if you think you need to see gross_commission as well then please get in touch.</td>
</tr>
</tbody></table>

<p>(TODO does add_user_commission work with reserve?)</p>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"availability"</span>: <span class="o">{</span>
    <span class="s2">"ticket_type"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 4.38,
              <span class="s2">"amount_including_vat"</span>: 5.25,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 35,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 35,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 1.97,
              <span class="s2">"amount_including_vat"</span>: 2.36,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 3.75,
              <span class="s2">"amount_including_vat"</span>: 4.5,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 30,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 30,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 1.69,
              <span class="s2">"amount_including_vat"</span>: 2.03,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 3.13,
              <span class="s2">"amount_including_vat"</span>: 3.75,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 25,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 25,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 1.41,
              <span class="s2">"amount_including_vat"</span>: 1.69,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 2.63,
              <span class="s2">"amount_including_vat"</span>: 3.15,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 21,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 21,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 1.18,
              <span class="s2">"amount_including_vat"</span>: 1.42,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 2.25,
              <span class="s2">"amount_including_vat"</span>: 2.7,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 18,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 18,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 1.01,
              <span class="s2">"amount_including_vat"</span>: 1.22,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"STALLS"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 5.88,
              <span class="s2">"amount_including_vat"</span>: 7.05,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 47,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 47,
            <span class="s2">"sale_surcharge"</span>: 0,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 2.64,
              <span class="s2">"amount_including_vat"</span>: 3.17,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"BALCONY"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"backend_is_broken"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_is_down"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_throttle_failed"</span>: <span class="nb">false</span>,
  <span class="s2">"can_leave_singles"</span>: <span class="nb">true</span>,
  <span class="s2">"contiguous_seat_selection_only"</span>: <span class="nb">true</span>,
  <span class="s2">"currency"</span>: <span class="o">{</span>
    <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
  <span class="o">}</span>,
  <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
    1,
    2,
    3,
    4,
    5,
    6
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>The response includes several attributes within the <code class="prettyprint">user_commission</code> dictionary. Some partners will also see <code class="prettyprint">gross_commission</code> which includes the same attributes.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">amount_excluding_vat</code></td>
<td>The commission you will earn per ticket, excluding sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">amount_including_vat</code></td>
<td>The commission you will earn per ticket, including sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">commission_currency</code></td>
<td>The commission currency (note that this can be different to the currency of the price paid by the customer).</td>
</tr>
</tbody></table>

<h2 id="add-discounts">Add Discounts</h2>

<p>A <code class="prettyprint">discount</code> represents a price type or concession that is available for a set
of available tickets.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/availability.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0I"</span> <span class="se">\</span>
    -d <span class="s2">"add_discounts"</span> <span class="se">\</span>
    -G
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_discounts</code></td>
<td></td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response - including seat listing</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"availability"</span>: <span class="o">{</span>
    <span class="s2">"ticket_type"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 35,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 35,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 35,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 18,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 18,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"STUDENT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Student rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 26,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 26,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"OAP"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Senior citizen rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 28,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 28,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 35,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 30,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 30,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 30,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 15,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 15,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 30,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 25,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 25,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 25,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 13,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 13,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"STUDENT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Student rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 19,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 19,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"OAP"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Senior citizen rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 20,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 20,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 25,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 21,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 21,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 21,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 11,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 11,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"STUDENT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Student rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 16,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 16,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"OAP"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Senior citizen rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 17,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 17,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 21,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>,
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 18,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 3,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 18,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 3,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 18,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 9,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 3,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 9,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"B/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 18,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"STALLS"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Stalls"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"price_band"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"absolute_saving"</span>: 0,
            <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
            <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
            <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
            <span class="s2">"non_offer_sale_seatprice"</span>: 47,
            <span class="s2">"non_offer_sale_surcharge"</span>: 0,
            <span class="s2">"number_available"</span>: 6,
            <span class="s2">"percentage_saving"</span>: 0,
            <span class="s2">"possible_discounts"</span>: <span class="o">{</span>
              <span class="s2">"discount"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 47,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 47,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 24,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 24,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"STUDENT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Student rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 35,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 35,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"absolute_saving"</span>: 0,
                  <span class="s2">"discount_code"</span>: <span class="s2">"OAP"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Senior citizen rate"</span>,
                  <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
                  <span class="s2">"non_offer_sale_seatprice"</span>: 38,
                  <span class="s2">"non_offer_sale_surcharge"</span>: 0,
                  <span class="s2">"number_available"</span>: 6,
                  <span class="s2">"percentage_saving"</span>: 0,
                  <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
                  <span class="s2">"sale_seatprice"</span>: 38,
                  <span class="s2">"sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"sale_seatprice"</span>: 47,
            <span class="s2">"sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"ticket_type_code"</span>: <span class="s2">"BALCONY"</span>,
        <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Balcony"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"backend_is_broken"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_is_down"</span>: <span class="nb">false</span>,
  <span class="s2">"backend_throttle_failed"</span>: <span class="nb">false</span>,
  <span class="s2">"can_leave_singles"</span>: <span class="nb">true</span>,
  <span class="s2">"contiguous_seat_selection_only"</span>: <span class="nb">true</span>,
  <span class="s2">"currency"</span>: <span class="o">{</span>
    <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
  <span class="o">}</span>,
  <span class="s2">"valid_quantities"</span>: <span class="o">[</span>
    1,
    2,
    3,
    4,
    5,
    6
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>The response includes a <code class="prettyprint">possible_discounts</code> dictionary, that contains a list of
discounts (or concessions) that are available on each price band. Each discount
contains the same price band attributes that are returned in
<a href="#availability">availability</a>.</p>

          <h1 id="send-methods">Send Methods</h1>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/send_methods.v1?perf_id={performanceid}
</code></pre>
<p>This section describes the available methods of delivery for a given
performance. Each method in the list has an associated cost which will be added
to the overall charge.</p>

<p>Send methods might change between performances and depending on times when they
are requested. For example there might not be enough time to post a physical
ticket to a customer before the performance starts, so those performances would
not have that option available. As such it&rsquo;s important that send methods are
called as needed to ensure the user isn&rsquo;t seeing options that are out of date.</p>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/send_methods.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0I"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswith</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_send_methods</span><span class="p">(</span><span class="s">'6IF-A8B'</span><span class="p">)</span>
</code></pre>
<h3 id="request">Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>The performance identifier that you want to display send methods for.</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"send_methods"</span>: <span class="o">{</span>
    <span class="s2">"send_method"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"send_code"</span>: <span class="s2">"COBO"</span>,
        <span class="s2">"send_cost"</span>: 1.5,
        <span class="s2">"send_desc"</span>: <span class="s2">"Collect from the venue"</span>,
        <span class="s2">"send_type"</span>: <span class="s2">"collect"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"permitted_countries"</span>: <span class="o">{</span>
          <span class="s2">"country"</span>: <span class="o">[</span>
            <span class="o">{</span>
              <span class="s2">"country_code"</span>: <span class="s2">"ie"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"Ireland"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>
            <span class="o">}</span>
          <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"send_code"</span>: <span class="s2">"POST"</span>,
        <span class="s2">"send_cost"</span>: 3.5,
        <span class="s2">"send_desc"</span>: <span class="s2">"Post (UK &amp; Ireland only)"</span>,
        <span class="s2">"send_type"</span>: <span class="s2">"post"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="p">[</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">SendMethod</span><span class="p">(</span>
        <span class="n">code</span><span class="o">=</span><span class="s">'COBO'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Collect from the venue'</span><span class="p">,</span>
        <span class="n">cost</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
        <span class="n">typ</span><span class="o">=</span><span class="s">'collect'</span>
    <span class="p">),</span>
    <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">SendMethod</span><span class="p">(</span>
        <span class="n">code</span><span class="o">=</span><span class="s">'POST'</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s">'Post (UK &amp; Ireland only)'</span><span class="p">,</span>
        <span class="n">cost</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s">'post'</span><span class="p">,</span>
        <span class="n">permitted_countries</span><span class="o">=</span><span class="p">[</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'ie'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'Ireland'</span><span class="p">),</span>
            <span class="n">pyticketswitch</span><span class="o">.</span><span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre>
<h3 id="response">Response</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">send_code</code></td>
<td>The identifier of this send method.</td>
</tr>
<tr>
<td><code class="prettyprint">send_desc</code></td>
<td>A human readable description of the send method.</td>
</tr>
<tr>
<td><code class="prettyprint">send_cost</code></td>
<td>Any additional cost that the customer will have to pay if they chose this send method.</td>
</tr>
<tr>
<td><code class="prettyprint">send_type</code></td>
<td>Can be <code class="prettyprint">collect</code> which indicates that the ticket will have to be collected in person, either at the venue or from a confirmation email. A type of <code class="prettyprint">post</code> indicates that a physical ticket will be posted to the delivery address given at purchase time.</td>
</tr>
<tr>
<td><code class="prettyprint">permitted_countries</code></td>
<td>If this is returned it indicates that the send method is only available to addresses in the listed countries.</td>
</tr>
<tr>
<td><code class="prettyprint">permitted_countries.country_code</code></td>
<td>2-digit country code (using <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>).</td>
</tr>
<tr>
<td><code class="prettyprint">permitted_countries.country_description</code></td>
<td>Human readable description of the country.</td>
</tr>
</tbody></table>

          <h1 id="discounts">Discounts</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/discounts.v1?perf_id={performanceid}&amp;price_band_code={pricebandcode}&amp;ticket_type_code={tickettypecode}
</code></pre>
<p>A <strong>discount</strong> represents a price type or concession that is available for a 
price band. These are some examples:</p>

<ul>
<li>Adult</li>
<li>Child</li>
<li>Student</li>
<li>Senior citizen</li>
</ul>

<p>When retrieving <a href="#availability">availability</a> for a performance we return the
default discount. This <code class="prettyprint">discounts</code> resource should then be used to get the full 
list of available discounts. When multiple discounts are returned non-default
discounts typically have a lower price (for example Child pricing).</p>

<p>When multiple <code class="prettyprint">discounts</code> are returned, you should present the choice to your
user (we use a drop-down list). When there are multiple special offers available
on a single ticket these are also presented as <code class="prettyprint">discounts</code> so you can present
the choice of special offer to your user (multiple offers are rare though). It
is possible for you to ignore this call and just purchase the default <code class="prettyprint">discount</code>
even when there are multiple <code class="prettyprint">discounts</code>, but that is not recommended.</p>

<blockquote>
<p><strong>Example request - price band</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/discounts.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-B0I"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=A/pool"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=CIRCLE"</span> <span class="se">\</span>
    -G
</code></pre>
<h3 id="request">Request</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>The performance identifier</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The price band code you want to view discounts for</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The ticket type code you want to view discounts for</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"discounts"</span>: <span class="o">{</span>
    <span class="s2">"discount"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"absolute_saving"</span>: 0,
        <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
        <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
        <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
        <span class="s2">"non_offer_sale_seatprice"</span>: 35,
        <span class="s2">"non_offer_sale_surcharge"</span>: 0,
        <span class="s2">"number_available"</span>: 6,
        <span class="s2">"percentage_saving"</span>: 0,
        <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
        <span class="s2">"sale_seatprice"</span>: 35,
        <span class="s2">"sale_surcharge"</span>: 0
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"absolute_saving"</span>: 0,
        <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
        <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
        <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
        <span class="s2">"non_offer_sale_seatprice"</span>: 18,
        <span class="s2">"non_offer_sale_surcharge"</span>: 0,
        <span class="s2">"number_available"</span>: 6,
        <span class="s2">"percentage_saving"</span>: 0,
        <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
        <span class="s2">"sale_seatprice"</span>: 18,
        <span class="s2">"sale_surcharge"</span>: 0
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"absolute_saving"</span>: 0,
        <span class="s2">"discount_code"</span>: <span class="s2">"STUDENT"</span>,
        <span class="s2">"discount_desc"</span>: <span class="s2">"Student rate"</span>,
        <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
        <span class="s2">"non_offer_sale_seatprice"</span>: 26,
        <span class="s2">"non_offer_sale_surcharge"</span>: 0,
        <span class="s2">"number_available"</span>: 6,
        <span class="s2">"percentage_saving"</span>: 0,
        <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
        <span class="s2">"sale_seatprice"</span>: 26,
        <span class="s2">"sale_surcharge"</span>: 0
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"absolute_saving"</span>: 0,
        <span class="s2">"discount_code"</span>: <span class="s2">"OAP"</span>,
        <span class="s2">"discount_desc"</span>: <span class="s2">"Senior citizen rate"</span>,
        <span class="s2">"is_offer"</span>: <span class="nb">false</span>,
        <span class="s2">"non_offer_sale_seatprice"</span>: 28,
        <span class="s2">"non_offer_sale_surcharge"</span>: 0,
        <span class="s2">"number_available"</span>: 6,
        <span class="s2">"percentage_saving"</span>: 0,
        <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
        <span class="s2">"sale_seatprice"</span>: 28,
        <span class="s2">"sale_surcharge"</span>: 0
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>The following attributes are returned within the <code class="prettyprint">discount</code> dictionary. These 
are the same attributes returned in the <a href="#availability">availability</a> price band
dictionary.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">absolute_saving</code></td>
<td>Defined as (<code class="prettyprint">non_offer_sale_seatprice</code> + <code class="prettyprint">non_offer_sale_surcharge</code>) - (<code class="prettyprint">sale_seatprice</code> + <code class="prettyprint">sale_surcharge</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">discount_code</code></td>
<td>The unique identifier of the <code class="prettyprint">discount</code>. This is unique to each supplier system, so you cannot assume that if the &ldquo;ADULT&rdquo; discount_code is available on one event that it will be available on other events.</td>
</tr>
<tr>
<td><code class="prettyprint">discount_desc</code></td>
<td>The description of the default discount to present to users.</td>
</tr>
<tr>
<td><code class="prettyprint">is_offer</code></td>
<td><code class="prettyprint">true</code> if the ticket price is discounted below the full price, i.e. if <code class="prettyprint">absolute_saving</code> is greater than zero.</td>
</tr>
<tr>
<td><code class="prettyprint">non_offer_sale_seatprice</code></td>
<td>The per-ticket price for full-priced tickets. This will be the face value price when the market has such a concept (for example the London theatre market has this concept, but some New York theatre shows do not). This is the same as the <code class="prettyprint">sale_seatprice</code> when the price band is not discounted. (TODO can we remove &ldquo;sale&rdquo; from the name?)</td>
</tr>
<tr>
<td><code class="prettyprint">non_offer_sale_surcharge</code></td>
<td>The per-ticket booking fee for full-priced tickets. To determine the total ticket price you must add together the <code class="prettyprint">non_offer_sale_seatprice</code> and the <code class="prettyprint">non_offer_sale_surcharge</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">number_available</code></td>
<td>This is the maximum number of contiguous seats that can be purchased. This applies to best available only - if you are using seat selection and <code class="prettyprint">contiguous_seat_selection_only</code> is <code class="prettyprint">false</code> it is possible to select above this number.</td>
</tr>
<tr>
<td><code class="prettyprint">percentage_saving</code></td>
<td>Defined as <code class="prettyprint">absolute_saving</code> / (<code class="prettyprint">non_offer_sale_seatprice</code> + <code class="prettyprint">non_offer_sale_surcharge</code>) * 100</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The code for a price band. To uniquely identify a price band you should take the combination of <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_description??</code></td>
<td>(TODO what is the actual name of this attribute?)</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice</code></td>
<td>The per-ticket price. This will be the face value price when the market has such a concept (for example the London theatre market has this concept, but some New York theatre shows do not). This is the same as the <code class="prettyprint">non_offer_sale_seatprice</code> when the price band is not discounted.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge</code></td>
<td>The per-ticket booking fee. To determine the total ticket price you must add together the <code class="prettyprint">sale_seatprice</code> and the <code class="prettyprint">sale_surcharge</code>.</td>
</tr>
</tbody></table>

          <h1 id="trolley">Trolley</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/trolley.v1
</code></pre>
<p>A <code class="prettyprint">trolley</code> allows multiple orders to be purchased in a single transaction.</p>

<p>If you only plan to purchase a single order at a time then there is no need to
use a trolley - you should instead go straight to <a href="#reserve">reserve</a>.</p>

<p>The trolley itself should be considered a wish list. No tickets are reserved
until the <a href="#reserve">reserve</a> call is made. Having a ticket in a trolley is not
a guarantee that the ticket will still be available when you attempt to reserve
the tickets.</p>

<p>Trolleys are identified by a <code class="prettyprint">trolley_token</code>, which is simply a hash of the
orders in the trolley. Every time a change is made to the trolley the hash
changes and so does the <code class="prettyprint">trolley_token</code>. An individual <code class="prettyprint">trolley_token</code> is
therefore an identifier for the current state of your trolley, and can not be
used to identify your trolley as you add or remove orders.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request - adding best available tickets to a new trolley, specifying specific discount codes</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/trolley.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-A7N"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=CIRCLE"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=C/pool"</span> <span class="se">\</span>
    -d <span class="s2">"no_of_seats=3"</span> <span class="se">\</span>
    -d <span class="s2">"disc0=ADULT"</span> <span class="se">\</span>
    -d <span class="s2">"disc1=CHILD"</span> <span class="se">\</span>
    -d <span class="s2">"disc2=CHILD"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">trolley</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_trolley</span><span class="p">(</span>
    <span class="n">performance_id</span><span class="o">=</span><span class="s">'6IF-A8N'</span><span class="p">,</span>
    <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">price_band_code</span><span class="o">=</span><span class="s">'A/pool'</span><span class="p">,</span>
    <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'STALLS'</span>
<span class="p">)</span>
</code></pre>
<blockquote>
<p><strong>Example request - adding specific seats to an existing trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/trolley.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"trolley_token=U3--tgaXeGJ3jY8-7bxaEyEcKhrbmYsrFkLAQh2wn89J9IFevORBYwlCveIJxP51WpqbA0tih8NmBuDvAegm37cFhVZA7yIGKjbEIetqsk2z_MGFMfiY9f11oM3MOpxlcLLE7vehHd5qyL4ozVZNtTOtxrJHhntmDqb-SyNhtAD0xWakXhUPlGVqQvnqQ2feu0moVJ_Wn9ROLz8C6p65Epz6kxGYBaNg0zkAawIttK3IY1LbiRxEHS10-R-7f0FVbg9kq0X6S8oIiWwjCqYJ9OEktXo-bdasYe4wu0yfki9N4WmuDrpTBgOkS7618nMbTvpYzPPacne8hGRCmH6e3GjPRtvZAilpaol5rKX3zgjN30cpLpsXpFo7ZZkJXOr5YMj-rNTXs0xg3trhrePeOdFFjTuN06iHrX2W2ylETgQ4hS2uXZoBVNmg4R8IQqvq4xuMmvRMYz2kXkC5wJF7pAG9J0--Z"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=3CVB-22"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=UPP"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=C/pool"</span> <span class="se">\</span>
    -d <span class="s2">"no_of_seats=2"</span> <span class="se">\</span>
    -d <span class="s2">"seat0=C7"</span> <span class="se">\</span>
    -d <span class="s2">"seat1=C8"</span> <span class="se">\</span>
    -G
</code></pre>
<blockquote>
<p><strong>Example request - view the current state of the trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/trolley.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"trolley_token=M6--Th1yy_GMHYp_pxuZpgPYa43h-4JJKgwOsTKiSmME9f69ngTVVFnFtyBIDwWfhC59oV4RtGbj_t-hw_U75AHoSbNaxMHOWSzGFBZNceuo7AtApIckL-qbs3700lw2N9zTX12LLHVBSqhRpYEFc7twQ_k5BwieJeLLpHTM9LnB48-BbPT-0tBn9Ylq_a3Y3RHFXZChWiYmsdxsYRE-kgktxd_pdFyGTZNN_mazMGwQFxYQ99nUXVmRsRYeV29d9CKVI1fv6mR81iapKdYiEm1U0r8A5fmdCTFlLO8majLLI07ktEjXzgA63oOa5DoRHTOcD-U6gsOLied869nVXJQWkx6lvBr6InrLdEefg5sDK0WLVFNJ9WT9QsG4Y7opYcOdx6K6U0i7L9f88_d0iurc-FkpC2ils1M21OJY-8_eQvuw1SPqqvqcLqCpR6OnRRGA3vS1LIhtgavvtZ95MvQpBH3DgAwXJtiYdjsXmIlor2pqbfiaZfQXwuC1e8yoNUIBe_yBtsOQnweyoJfIyYOayiajXbOIblwwSiJEJCnDHAaE9jo9kQRu4NdDHNd-O5IoumIoxhj7NIjl6vIb_Klu1wzB7AjeNL4TNubgMMlThGO4TyNrXsww72M_fGQO2pXCkLwXGpLckCqTAUIrNKz7v6Rs-4X3TWaNIcaAbz-Zw5lIboJoPLRgBETn02GHx00gcI1-RT8zxI9-Z"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">trolley</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_trolley</span><span class="p">(</span>
    <span class="n">token</span><span class="o">=</span><span class="s">'E2--nPSMAQKI8kggWwF4N5qp4zPaO2VU_3armTREADiU6s4xgp3VjDmF7TXSnD0DN100souzOPZD8COW-jLhPSAsdOY-DhoK15T4meB5-xUrXpZ2cMrLIbVbongnwLqzJdI_-FFa6XqQTrF2ncjGLssB9nC7R79FHSN12AADiZ795WDj3vQ8GJ6DGvXjTf3-bULrCpjitgZLqMf_bAlqay7hSQxfCFaD1PiUtuU7gIhi7vnsr0CJT7vtJJmLd_HXfrwgQYTNey5dia6Tx9o4Ed3QAvwctSGBGVZ6g9qabWwRnTbBg8_TFuvY0vSvqPq31b30Dey_rLBKq4X1Ay2uNx3VJCs221wGGEvmlY5JoxhmKm5-Z'</span><span class="p">,</span>
    <span class="n">performance_id</span><span class="o">=</span><span class="s">'6IF-A8D'</span><span class="p">,</span>
    <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">price_band_code</span><span class="o">=</span><span class="s">'C/pool'</span><span class="p">,</span>
    <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre>
<blockquote>
<p><strong>Example request - removing the first order from the trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/trolley.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"trolley_token=M6--Th1yy_GMHYp_pxuZpgPYa43h-4JJKgwOsTKiSmME9f69ngTVVFnFtyBIDwWfhC59oV4RtGbj_t-hw_U75AHoSbNaxMHOWSzGFBZNceuo7AtApIckL-qbs3700lw2N9zTX12LLHVBSqhRpYEFc7twQ_k5BwieJeLLpHTM9LnB48-BbPT-0tBn9Ylq_a3Y3RHFXZChWiYmsdxsYRE-kgktxd_pdFyGTZNN_mazMGwQFxYQ99nUXVmRsRYeV29d9CKVI1fv6mR81iapKdYiEm1U0r8A5fmdCTFlLO8majLLI07ktEjXzgA63oOa5DoRHTOcD-U6gsOLied869nVXJQWkx6lvBr6InrLdEefg5sDK0WLVFNJ9WT9QsG4Y7opYcOdx6K6U0i7L9f88_d0iurc-FkpC2ils1M21OJY-8_eQvuw1SPqqvqcLqCpR6OnRRGA3vS1LIhtgavvtZ95MvQpBH3DgAwXJtiYdjsXmIlor2pqbfiaZfQXwuC1e8yoNUIBe_yBtsOQnweyoJfIyYOayiajXbOIblwwSiJEJCnDHAaE9jo9kQRu4NdDHNd-O5IoumIoxhj7NIjl6vIb_Klu1wzB7AjeNL4TNubgMMlThGO4TyNrXsww72M_fGQO2pXCkLwXGpLckCqTAUIrNKz7v6Rs-4X3TWaNIcaAbz-Zw5lIboJoPLRgBETn02GHx00gcI1-RT8zxI9-Z"</span> <span class="se">\</span>
    -d <span class="s2">"remove_items_list=1"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">trolley</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_trolley</span><span class="p">(</span>
    <span class="n">token</span><span class="o">=</span><span class="s">'E2--nPSMAQKI8kggWwF4N5qp4zPaO2VU_3armTREADiU6s4xgp3VjDmF7TXSnD0DN100souzOPZD8COW-jLhPSAsdOY-DhoK15T4meB5-xUrXpZ2cMrLIbVbongnwLqzJdI_-FFa6XqQTrF2ncjGLssB9nC7R79FHSN12AADiZ795WDj3vQ8GJ6DGvXjTf3-bULrCpjitgZLqMf_bAlqay7hSQxfCFaD1PiUtuU7gIhi7vnsr0CJT7vtJJmLd_HXfrwgQYTNey5dia6Tx9o4Ed3QAvwctSGBGVZ6g9qabWwRnTbBg8_TFuvY0vSvqPq31b30Dey_rLBKq4X1Ay2uNx3VJCs221wGGEvmlY5JoxhmKm5-Z'</span><span class="p">,</span>
    <span class="n">item_numbers_to_remove</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>   
<span class="p">)</span>
</code></pre>
<p>The single trolley call is used for multiple use cases such as:</p>

<ul>
<li>Add best available tickets to a new or existing trolley</li>
<li>Add specific seats to a new or existing trolley</li>
<li>View the items in the trolley</li>
<li>Remove an order from the trolley</li>
</ul>

<p>Note that adding an order will remove anything in the trolley which would
prevent it being added. Removed orders are listed as <code class="prettyprint">discarded_orders</code>. The
common reasons why two orders cannot sit alongside each other are:</p>

<ul>
<li><p>We currently don&rsquo;t allow a basket to contain multiple orders for the same
performance. This is something we plan to change - if this is a problem for 
you please let us know.</p></li>
<li><p>Incompatible despatch methods for the same supplier. For example if you have
specified &ldquo;International Post&rdquo; for one order, and &ldquo;Collect From Box Office&rdquo; for
the next order, and they are both from the same supplier then these are
incompatible and the first order will be removed from your trolley. This should
be an uncommon occurence.</p></li>
<li><p>Differing currencies - for example the first order added to the trolley uses
the USD currency while the second order added uses the GBP currency. These are
incompatible so the first order will be removed from your trolley.</p></li>
</ul>

<p>Also note that when adding individual seats to a trolley, there are restrictions
on the seats that can be added in a single order:</p>

<ul>
<li><p>If the <a href="#availability">availability</a> response includes 
<code class="prettyprint">contiguous_seat_selection_only</code> = <code class="prettyprint">false</code> then any seats can be selected, 
provided they are within a single <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code>.</p></li>
<li><p>If the <a href="#availability">availability</a> response includes 
<code class="prettyprint">contiguous_seat_selection_only</code> = <code class="prettyprint">true</code> then only contiguous seats within a 
single <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code> can be selected. Seats are 
contiguous based on the order of the id_details seat array.</p></li>
</ul>

<p>If you would like to allow your customers to select seats without restriction
across price bands and ticket types, you need to add multiple orders to a
trolley, one order for each ticket type / price band. However there are
currently some restrictions enforced so if you want to do this you will need to
contact us first api@ingresso.co.uk.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discX</code></td>
<td>Specify a discount code for ticket number X, with zero-based numbering (so to specify the CHILD discount code on the second ticket use <code class="prettyprint">disc1=CHILD</code>). Note that illegal discount codes are replaced with legal ones.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td>The number of tickets you want to add to the trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>The performance identifier for the tickets that you want to add to your trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The price band identifier for the tickets that you want to add to your trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">remove_items_list</code></td>
<td>A comma separated list of order <code class="prettyprint">item_number</code>s that were previously added to the trolley and that you now want to remove.</td>
</tr>
<tr>
<td><code class="prettyprint">req_currency_details</code></td>
<td>Include full detail in the <a href="#currency-object">currency object</a>. Without this only the currency_code field is returned.</td>
</tr>
<tr>
<td><code class="prettyprint">seatX</code></td>
<td>Specify a specific seat for ticket number X, with zero-based numbering (so to specify seat A12 as the first ticket use <code class="prettyprint">seat0=A12</code>). If seat numbers are not specified then when the trolley is later reserved you will receive best available seats.</td>
</tr>
<tr>
<td><code class="prettyprint">X_send_code</code></td>
<td>Specify a send / despatch method for supplier system X. If this is not present it will default to the first send method. For example, to specify the POST send method for the nimax supplier system, use <code class="prettyprint">nimax_send_code=POST</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The ticket type identifier for the tickets that you want to add to your trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_token</code></td>
<td>The identifier for the trolley. This is used to add additional orders to a trolley, or to remove orders in a trolley.</td>
</tr>
</tbody></table>

<p>Additional parameters, primarily for internal use:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_crypto_block</code></td>
<td><code class="prettyprint">cypto_block</code>s are used in the old <a href="http://www.ingresso.co.uk/apidocs/">Ingresso XML API</a>. To make migration away from the XML API easier, if you include <code class="prettyprint">add_crypto_block</code> a <code class="prettyprint">crypto_block</code> will be added to the response. You can then take the crypto_block and trolley_token and pass these in to the XML API call make_reservation to reserve and later purchase tickets (so that the JSON API is used up to the basket stage and the XML API is used to complete the purchase).</td>
</tr>
<tr>
<td><code class="prettyprint">departure_date</code></td>
<td>Specify a departure date for example <code class="prettyprint">departure_date=20170214</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">duration</code></td>
<td>Specify a duration for hotel product, for example <code class="prettyprint">duration=3</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">promo_code</code></td>
<td>Specifying a promo codes can unlock a special offer discount code. If you have a promo code it can be specified like this: <code class="prettyprint">promo_code=FOO</code>. Note that this feature is not commonly used with partners.</td>
</tr>
</tbody></table>

<p>All of the following parameters can also be used to request additional data for the event and performance in each order. These are described in more detail in the Events section <a href="#additional-parameters">here</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-details">availability details</a> - a cached list of unique ticket types and price bands available for the event and performance in each order. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_avail_details_with_perfs</code></td>
<td>This will add the list of available performance dates to each avail detail object. <em>Only valid if used alongside req_avail_details</em>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-range">cost ranges</a> - a from price and offer detail for the event and performance in each order.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
<tr>
<td><code class="prettyprint">req_extra_info</code></td>
<td>Returns the <a href="#extra-info">descriptive info</a> for the event, returned as individual sections (<code class="prettyprint">structured_info</code>) or as a single summary (<code class="prettyprint">event_info</code> / <code class="prettyprint">event_info_html</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_one</code></td>
<td>Triplet one (jpg/png 520x390). <a href="#media">See further detail on media</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_two</code></td>
<td>Triplet two if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_three</code></td>
<td>Triplet three if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_four</code></td>
<td>Triplet four if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_five</code></td>
<td>Triplet five if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_seating_plan</code></td>
<td>Graphical seating plan of the venue if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_square</code></td>
<td>Small square image suitable for search or event avatar (jpg/png 140x140).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_landscape</code></td>
<td>Small landscape banner suitable for search (jpg/png 220x115).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_marquee</code></td>
<td>Large landscape banner suitable for a page heading, if available (jpg/png 700x300).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_supplier</code></td>
<td>Logo of the supplier/producer, if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_reviews</code></td>
<td>Returns <a href="#reviews">event reviews</a> if available.</td>
</tr>
<tr>
<td><code class="prettyprint">req_video_iframe</code></td>
<td>Returns video iframe information if available.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response - adding specific seats to an existing trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"discarded_orders"</span>: <span class="o">[]</span>,
  <span class="s2">"trolley_contents"</span>: <span class="o">{</span>
    <span class="s2">"bundle"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"bundle_total_cost"</span>: 52.5,
        <span class="s2">"bundle_total_seatprice"</span>: 51,
        <span class="s2">"bundle_total_send_cost"</span>: 1.5,
        <span class="s2">"bundle_total_surcharge"</span>: 0,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
              <span class="s2">"class"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"class_desc"</span>: <span class="s2">"Ballet &amp; Dance"</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"critic_review_percent"</span>: 100,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
                <span class="s2">"event_id"</span>: <span class="o">[</span>
                  <span class="s2">"6IE"</span>,
                  <span class="s2">"MH0"</span>
                <span class="o">]</span>
              <span class="o">}</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 51.52961137,
                <span class="s2">"longitude"</span>: -0.10601562
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"max_running_time"</span>: 120,
              <span class="s2">"min_running_time"</span>: 120,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
              <span class="s2">"user_review_percent"</span>: 100,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 1,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Sun, 15th January 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-01-15T19:30:00Z"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A7N"</span>,
              <span class="s2">"running_time"</span>: 120,
              <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"not_requested"</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"no_of_seats"</span>: 1,
                  <span class="s2">"sale_seatprice"</span>: 25,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"total_sale_seatprice"</span>: 25,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 13,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"total_sale_seatprice"</span>: 26,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 3,
            <span class="s2">"total_sale_seatprice"</span>: 51,
            <span class="s2">"total_sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ingresso_one_test"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"Ingresso"</span>,
        <span class="s2">"bundle_total_cost"</span>: 40,
        <span class="s2">"bundle_total_seatprice"</span>: 40,
        <span class="s2">"bundle_total_send_cost"</span>: 0,
        <span class="s2">"bundle_total_surcharge"</span>: 0,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"class"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"class_desc"</span>: <span class="s2">"Theatre"</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Test Event - Type 10 (d)"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"3CVB"</span>,
              <span class="s2">"event_path"</span>: <span class="s2">"/3CVB-test-event-type-10-d/"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 10,
                <span class="s2">"longitude"</span>: 20
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"BT1 2BE"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ingresso_one_test"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"Ingresso"</span>,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Belfast Tours Ltd"</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 2,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Fri, 10th February 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"3CVB"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-02-10T20:00:00Z"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"3CVB-22"</span>,
              <span class="s2">"time_desc"</span>: <span class="s2">"8.00 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"requested_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C7"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C8"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"got_none"</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 20,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"total_sale_seatprice"</span>: 40,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"UPP"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper Circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 2,
            <span class="s2">"total_sale_seatprice"</span>: 40,
            <span class="s2">"total_sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"trolley_bundle_count"</span>: 2,
    <span class="s2">"trolley_order_count"</span>: 2
  <span class="o">}</span>,
  <span class="s2">"trolley_token"</span>: <span class="s2">"M6--Th1yy_GMHYp_pxuZpgPYa43h-4JJKgwOsTKiSmME9f69ngTVVFnFtyBIDwWfhC59oV4RtGbj_t-hw_U75AHoSbNaxMHOWSzGFBZNceuo7AtApIckL-qbs3700lw2N9zTX12LLHVBSqhRpYEFc7twQ_k5BwieJeLLpHTM9LnB48-BbPT-0tBn9Ylq_a3Y3RHFXZChWiYmsdxsYRE-kgktxd_pdFyGTZNN_mazMGwQFxYQ99nUXVmRsRYeV29d9CKVI1fv6mR81iapKdYiEm1U0r8A5fmdCTFlLO8majLLI07ktEjXzgA63oOa5DoRHTOcD-U6gsOLied869nVXJQWkx6lvBr6InrLdEefg5sDK0WLVFNJ9WT9QsG4Y7opYcOdx6K6U0i7L9f88_d0iurc-FkpC2ils1M21OJY-8_eQvuw1SPqqvqcLqCpR6OnRRGA3vS1LIhtgavvtZ95MvQpBH3DgAwXJtiYdjsXmIlor2pqbfiaZfQXwuC1e8yoNUIBe_yBtsOQnweyoJfIyYOayiajXbOIblwwSiJEJCnDHAaE9jo9kQRu4NdDHNd-O5IoumIoxhj7NIjl6vIb_Klu1wzB7AjeNL4TNubgMMlThGO4TyNrXsww72M_fGQO2pXCkLwXGpLckCqTAUIrNKz7v6Rs-4X3TWaNIcaAbz-Zw5lIboJoPLRgBETn02GHx00gcI1-RT8zxI9-Z"</span>
<span class="o">}</span>
</code></pre>
<p>The trolley has three main structures:</p>

<ul>
<li><p>A <strong><code class="prettyprint">bundle</code></strong> represents all orders from  a particular supplier. Orders are
grouped like this so that all items are ordered from the  supplier at once - if
the supplier posts tickets on our behalf then separate orders will be posted
together, and if the supplier processes payment all orders in the bundle will be
paid for with a single payment. Reserving and purchasing orders will also succeed
or fail together.</p></li>
<li><p>An <strong><code class="prettyprint">order</code></strong> represents a number of tickets to a particular <code class="prettyprint">price band</code> and
<code class="prettyprint">ticket type</code>, for a particular <a href="#performances">performance</a> of an
<a href="#events">event</a>.</p></li>
<li><p>An <code class="prettyprint">order</code> will contain multiple <strong><code class="prettyprint">ticket_order</code></strong>s when more than one
<code class="prettyprint">discount code</code> is used (for example ticket 1 and 2 have the ADULT discount
code, and tickets 3 and 4 have the CHILD discount code). In this example there
will be two <code class="prettyprint">ticket_order</code>s: one for ADULT and one for CHILD.</p></li>
</ul>

<p><strong><code class="prettyprint">trolley</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discarded_orders</code></td>
<td>As discussed above, adding an order will remove anything in the trolley which would prevent it being added. See below for detail of the <code class="prettyprint">order</code> object.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_contents</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_token</code></td>
<td>The identifier for the trolley (this is an internal hash representing the items in the trolley, so the identifier will be the same for identical trolleys).</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">trolley_contents</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_bundle_count</code></td>
<td>The number of bundles in the trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_order_count</code></td>
<td>The number of orders in the trolley. There will be at least one order for every bundle.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">bundle</code> attributes</strong> </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle_order_count</code></td>
<td>The number of orders in this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_code</code></td>
<td>The code of the supplier system that this bundle will be purchased from.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_desc</code></td>
<td>The name of the supplier system that this bundle will be purchased from.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_cost</code></td>
<td>The total cost of this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_seatprice</code></td>
<td>The total face value for this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_send_cost</code></td>
<td>The despatch cost for this bundle (similar to a transaction fee). Orders within the same bundle will be sent together.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_surcharge</code></td>
<td>The total booking fee for this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>The <a href="#currency-object">currency</a> of the bundle, which by default just contains the currency_code. To include full currency detail add the parameter <code class="prettyprint">req_currency_details</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">order</code></td>
<td>See below for object detail.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">event</code></td>
<td>The <a href="#event-object">event</a> for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">item_number</code></td>
<td>A unique sequential number for the <code class="prettyprint">order</code>. The second order added to the trolley will have <code class="prettyprint">item_number</code> 2. The <code class="prettyprint">item_number</code> remains constant as orders are added or removed, so if <code class="prettyprint">item_number</code> 1 is removed, the first order will be <code class="prettyprint">item_number</code> 2.</td>
</tr>
<tr>
<td><code class="prettyprint">performance</code></td>
<td>The <a href="#performance-object">performance</a> for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The code for a price band, for example &ldquo;C/pool&rdquo;. The price band code is generally made up of the code from the underlying supplier system, e.g. &ldquo;C&rdquo;, followed by a &ldquo;/&rdquo; separator then &ldquo;pool&rdquo; or &ldquo;alloc&rdquo;, indicating whether the price band is taken from the general pool of tickets or is from a ring-fenced allocation.</td>
</tr>
<tr>
<td><code class="prettyprint">seat_request_status</code></td>
<td>The status of your tickets after they have been reserved. Possible values are <code class="prettyprint">not_requested</code> (specific seats not requested), <code class="prettyprint">got_none</code> (you requested A13 and A14 but we gave you A15 and A16), <code class="prettyprint">got_partial</code> (you requested A13 and A14 but we gave you A14 and A15), <code class="prettyprint">got_all</code> (you requested A13 and A14 and you got A13 and A14 - by far the most common response when requesting specific seats).</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_orders</code></td>
<td>A number of ticket_order objects, details below.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The unique identifier for the ticket type. For seated events this refers to a part of house / seating area such as Grand Circle.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>The description for the ticket type. This should be displayed to the customer</td>
</tr>
<tr>
<td><code class="prettyprint">total_no_of_seats</code></td>
<td>The number of seats for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee for this order.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">ticket_order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discount_code</code></td>
<td>The discount code that applies to this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">discount_desc</code></td>
<td>The description for the discount code.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td>The number of tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice</code></td>
<td>The face value per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge</code></td>
<td>The booking fee per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value of all tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee of all tickets in this ticket_order.</td>
</tr>
</tbody></table>

          <h1 id="reserve">Reserve</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://demo.ticketswitch.com/f13/reserve.v1
</code></pre>
<p>Before purchasing tickets, you must first <code class="prettyprint">reserve</code> them. Reserving tickets will
put them on hold for a period of time, ensuring they cannot be purchased by
anyone else until you explicitly <a href="#release">release</a> them or until the hold time
expires when the tickets are automatically released. Reserve is typically called
immediately before displaying a checkout page to customers to collect contact 
details. These details are then used as parameters when
<a href="#purchase">purchasing the reservation</a>.</p>

<p>There are two main use cases for calling <code class="prettyprint">reserve</code>:</p>

<ol>
<li><p><strong>You only want to purchase a single order at a time</strong>: call <code class="prettyprint">reserve</code> with a
<code class="prettyprint">perf_id</code>, <code class="prettyprint">ticket_type_code</code>, <code class="prettyprint">price_band_code</code>, <code class="prettyprint">no_of_seats</code>, and other
optional parameters if necessary.</p></li>
<li><p><strong>You want to purchase multiple orders in a single transaction</strong>: first add 
orders to your <a href="#trolley">trolley</a>, then <code class="prettyprint">reserve</code> the trolley by
specifying a <code class="prettyprint">trolley_token</code>.</p></li>
</ol>

<p>As with <a href="#trolley">trolley</a> there are restrictions on reserving individual seats: </p>

<ul>
<li><p>If the <a href="#availability">availability</a> response includes 
<code class="prettyprint">contiguous_seat_selection_only</code> = <code class="prettyprint">false</code> then any seats can be selected, 
provided they are within a single <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code>.</p></li>
<li><p>If the <a href="#availability">availability</a> response includes 
<code class="prettyprint">contiguous_seat_selection_only</code> = <code class="prettyprint">true</code> then only contiguous seats within a 
single <code class="prettyprint">ticket_type_code</code> and <code class="prettyprint">price_band_code</code> can be selected. Seats are 
contiguous based on the order of the id_details seat array.</p></li>
</ul>

<p>If you would like to allow your customers to select seats without restriction
across price bands and ticket types, you need to add multiple orders to a
<a href="#trolley">trolley</a>, one order for each ticket type / price band. However there
are currently some restrictions enforced so if you want to do this you will need
to contact us first api@ingresso.co.uk.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request - reserving best available tickets, specifying specific discount codes</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/reserve.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=6IF-A7N"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=CIRCLE"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=C/pool"</span> <span class="se">\</span>
    -d <span class="s2">"no_of_seats=3"</span> <span class="se">\</span>
    -d <span class="s2">"disc0=ADULT"</span> <span class="se">\</span>
    -d <span class="s2">"disc1=CHILD"</span> <span class="se">\</span>
    -d <span class="s2">"disc2=CHILD"</span> <span class="se">\</span>
    -X POST
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">reservation</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">make_reservation</span><span class="p">(</span>
    <span class="n">performance_id</span><span class="o">=</span><span class="s">'6IF-A7N'</span><span class="p">,</span>
    <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
    <span class="n">price_band_code</span><span class="o">=</span><span class="s">'C/pool'</span><span class="p">,</span>
    <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">discounts</span><span class="o">=</span><span class="p">[</span><span class="s">'ADULT'</span><span class="p">,</span> <span class="s">'CHILD'</span><span class="p">,</span> <span class="s">'CHILD'</span><span class="p">]</span>
<span class="p">)</span>
</code></pre>
<blockquote>
<p><strong>Example request - reserving specific seats</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/reserve.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"perf_id=3CVB-22"</span> <span class="se">\</span>
    -d <span class="s2">"ticket_type_code=UPP"</span> <span class="se">\</span>
    -d <span class="s2">"price_band_code=C/pool"</span> <span class="se">\</span>
    -d <span class="s2">"no_of_seats=2"</span> <span class="se">\</span>
    -d <span class="s2">"seat0=C7"</span> <span class="se">\</span>
    -d <span class="s2">"seat1=C8"</span> <span class="se">\</span>
    -X POST
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">reservation</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">make_reservation</span><span class="p">(</span>
    <span class="n">performance_id</span><span class="o">=</span><span class="s">'3CVB-22'</span><span class="p">,</span>
    <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'UPP'</span><span class="p">,</span>
    <span class="n">price_band_code</span><span class="o">=</span><span class="s">'C/pool'</span><span class="p">,</span>
    <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">seats</span><span class="o">=</span><span class="p">[</span><span class="s">'C7'</span><span class="p">,</span> <span class="s">'C8'</span><span class="p">]</span>
<span class="p">)</span>
</code></pre>
<blockquote>
<p><strong>Example request - reserving orders previously added to a trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/reserve.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"trolley_token=M6--Th1yy_GMHYp_pxuZpgPYa43h-4JJKgwOsTKiSmME9f69ngTVVFnFtyBIDwWfhC59oV4RtGbj_t-hw_U75AHoSbNaxMHOWSzGFBZNceuo7AtApIckL-qbs3700lw2N9zTX12LLHVBSqhRpYEFc7twQ_k5BwieJeLLpHTM9LnB48-BbPT-0tBn9Ylq_a3Y3RHFXZChWiYmsdxsYRE-kgktxd_pdFyGTZNN_mazMGwQFxYQ99nUXVmRsRYeV29d9CKVI1fv6mR81iapKdYiEm1U0r8A5fmdCTFlLO8majLLI07ktEjXzgA63oOa5DoRHTOcD-U6gsOLied869nVXJQWkx6lvBr6InrLdEefg5sDK0WLVFNJ9WT9QsG4Y7opYcOdx6K6U0i7L9f88_d0iurc-FkpC2ils1M21OJY-8_eQvuw1SPqqvqcLqCpR6OnRRGA3vS1LIhtgavvtZ95MvQpBH3DgAwXJtiYdjsXmIlor2pqbfiaZfQXwuC1e8yoNUIBe_yBtsOQnweyoJfIyYOayiajXbOIblwwSiJEJCnDHAaE9jo9kQRu4NdDHNd-O5IoumIoxhj7NIjl6vIb_Klu1wzB7AjeNL4TNubgMMlThGO4TyNrXsww72M_fGQO2pXCkLwXGpLckCqTAUIrNKz7v6Rs-4X3TWaNIcaAbz-Zw5lIboJoPLRgBETn02GHx00gcI1-RT8zxI9-Z"</span> <span class="se">\</span>
    -X POST
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">reservation</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">make_reservation</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="s">'M6--Th1yy_GMHYp_pxuZpgPYa43h-4JJKgwOsTKiSmME9f69ngTVVFnFtyBIDwWfhC59oV4RtGbj_t-hw_U75AHoSbNaxMHOWSzGFBZNceuo7AtApIckL-qbs3700lw2N9zTX12LLHVBSqhRpYEFc7twQ_k5BwieJeLLpHTM9LnB48-BbPT-0tBn9Ylq_a3Y3RHFXZChWiYmsdxsYRE-kgktxd_pdFyGTZNN_mazMGwQFxYQ99nUXVmRsRYeV29d9CKVI1fv6mR81iapKdYiEm1U0r8A5fmdCTFlLO8majLLI07ktEjXzgA63oOa5DoRHTOcD-U6gsOLied869nVXJQWkx6lvBr6InrLdEefg5sDK0WLVFNJ9WT9QsG4Y7opYcOdx6K6U0i7L9f88_d0iurc-FkpC2ils1M21OJY-8_eQvuw1SPqqvqcLqCpR6OnRRGA3vS1LIhtgavvtZ95MvQpBH3DgAwXJtiYdjsXmIlor2pqbfiaZfQXwuC1e8yoNUIBe_yBtsOQnweyoJfIyYOayiajXbOIblwwSiJEJCnDHAaE9jo9kQRu4NdDHNd-O5IoumIoxhj7NIjl6vIb_Klu1wzB7AjeNL4TNubgMMlThGO4TyNrXsww72M_fGQO2pXCkLwXGpLckCqTAUIrNKz7v6Rs-4X3TWaNIcaAbz-Zw5lIboJoPLRgBETn02GHx00gcI1-RT8zxI9-Z'</span><span class="p">)</span>
</code></pre>
<p>Note that the request parameters and response attributes are similar to
<a href="#trolley">trolley</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discX</code></td>
<td>Specify a discount code for ticket number X, with zero-based numbering (so to specify the CHILD discount code on the second ticket use <code class="prettyprint">disc1=CHILD</code>). Note that illegal discount codes are replaced with legal ones.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td>The number of tickets you want to reserve.</td>
</tr>
<tr>
<td><code class="prettyprint">perf_id</code></td>
<td>The performance identifier for the tickets that you want to reserve.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The price band identifier for the tickets that you want to reserve.</td>
</tr>
<tr>
<td><code class="prettyprint">remove_items_list</code></td>
<td>A comma separated list of order <code class="prettyprint">item_number</code>s that you want to remove from the trolley before reserving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_currency_details</code></td>
<td>Include full detail in the <a href="#currency-object">currency object</a>. Without this only the currency_code field is returned.</td>
</tr>
<tr>
<td><code class="prettyprint">seatX</code></td>
<td>Specify a specific seat for ticket number X, with zero-based numbering (so to specify seat A12 as the first ticket use <code class="prettyprint">seat0=A12</code>). If seat numbers are not specified then you will receive best available seats.</td>
</tr>
<tr>
<td><code class="prettyprint">X_send_code</code></td>
<td>Specify a send / despatch method for supplier system X. If this is not present it will default to the first send method. For example, to specify the POST send method for the nimax supplier system, use <code class="prettyprint">nimax_send_code=POST</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The ticket type identifier for the tickets that you want to add to your trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_token</code></td>
<td>The identifier for a trolley. This is used to reserve multiple items at once.</td>
</tr>
</tbody></table>

<p>Additional parameters, primarily for internal use:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">departure_date</code></td>
<td>Specify a departure date for example <code class="prettyprint">departure_date=20170214</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">duration</code></td>
<td>Specify a duration for hotel product, for example <code class="prettyprint">duration=3</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">promo_code</code></td>
<td>Specifying a promo codes can unlock a special offer discount code. If you have a promo code it can be specified like this: <code class="prettyprint">promo_code=FOO</code>. Note that this feature is not commonly used with partners.</td>
</tr>
</tbody></table>

<p>All of the following parameters can also be used to request additional data for the event and performance in each order. These are described in more detail in the Events section <a href="#additional-parameters">here</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">req_avail_details</code></td>
<td>Returns <a href="#availability-details">availability details</a> - a cached list of unique ticket types and price bands available for the event and performance in each order. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_avail_details_with_perfs</code></td>
<td>This will add the list of available performance dates to each avail detail object. <em>Only valid if used alongside req_avail_details</em>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range</code></td>
<td>Returns <a href="#cost-range">cost ranges</a> - a from price and offer detail for the event and performance in each order.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_best_value_offer</code></td>
<td>Returns the offer with the highest percentage saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_details</code></td>
<td>Returns a list of unique ticket types and price bands and their cost ranges across all performances. <strong>This parameter is not commonly used.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_max_saving_offer</code></td>
<td>Returns the offer with the highest absolute saving.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_min_cost_offer</code></td>
<td>Returns the offer with the lowest cost.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_top_price_offer</code></td>
<td>Returns the offer with the highest cost. This is the least used offer cost range.</td>
</tr>
<tr>
<td><code class="prettyprint">req_cost_range_no_singles_data</code></td>
<td>This returns another cost range object that excludes availability with only 1 consecutive seat available. The prices in this cost range will therefore be the same or higher than the outer cost range. It has the same structure as the main cost range (so if you want to see the &ldquo;best value offer&rdquo; in the no singles data, you need to add <code class="prettyprint">req_cost_range_best_value_offer</code> and you will see this data in both cost ranges).</td>
</tr>
<tr>
<td><code class="prettyprint">req_extra_info</code></td>
<td>Returns the <a href="#extra-info">descriptive info</a> for the event, returned as individual sections (<code class="prettyprint">structured_info</code>) or as a single summary (<code class="prettyprint">event_info</code> / <code class="prettyprint">event_info_html</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_one</code></td>
<td>Triplet one (jpg/png 520x390). <a href="#media">See further detail on media</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_two</code></td>
<td>Triplet two if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_three</code></td>
<td>Triplet three if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_four</code></td>
<td>Triplet four if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_triplet_five</code></td>
<td>Triplet five if available (jpg/png 520x390).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_seating_plan</code></td>
<td>Graphical seating plan of the venue if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_square</code></td>
<td>Small square image suitable for search or event avatar (jpg/png 140x140).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_landscape</code></td>
<td>Small landscape banner suitable for search (jpg/png 220x115).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_marquee</code></td>
<td>Large landscape banner suitable for a page heading, if available (jpg/png 700x300).</td>
</tr>
<tr>
<td><code class="prettyprint">req_media_supplier</code></td>
<td>Logo of the supplier/producer, if available (jpg/png varying size).</td>
</tr>
<tr>
<td><code class="prettyprint">req_reviews</code></td>
<td>Returns <a href="#reviews">event reviews</a> if available.</td>
</tr>
<tr>
<td><code class="prettyprint">req_video_iframe</code></td>
<td>Returns video iframe information if available.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response - reserving orders previously added to a trolley</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"allowed_countries"</span>: <span class="o">{</span>
    <span class="s2">"ad"</span>: <span class="s2">"Andorra"</span>,
    <span class="s2">"ae"</span>: <span class="s2">"United Arab Emirates"</span>,
    <span class="s2">"af"</span>: <span class="s2">"Afghanistan"</span>,
    <span class="s2">"ag"</span>: <span class="s2">"Antigua and Barbuda"</span>,
    <span class="s2">"uk"</span>: <span class="s2">"United Kingdom"</span>,
    <span class="s2">"um"</span>: <span class="s2">"The United States Minor Outlying Islands"</span>,
    <span class="s2">"us"</span>: <span class="s2">"United States of America"</span>,
    <span class="s2">"uy"</span>: <span class="s2">"Uruguay"</span>
  <span class="o">}</span>,
  <span class="s2">"can_edit_address"</span>: <span class="nb">true</span>,
  <span class="s2">"needs_agent_reference"</span>: <span class="nb">false</span>,
  <span class="s2">"needs_email_address"</span>: <span class="nb">false</span>,
  <span class="s2">"needs_payment_card"</span>: <span class="nb">false</span>,
  <span class="s2">"prefilled_address"</span>: <span class="o">{</span>
    <span class="s2">"address_line_one"</span>: <span class="s2">""</span>,
    <span class="s2">"address_line_two"</span>: <span class="s2">""</span>,
    <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
    <span class="s2">"county"</span>: <span class="s2">""</span>,
    <span class="s2">"email_address"</span>: <span class="s2">""</span>,
    <span class="s2">"home_phone"</span>: <span class="s2">""</span>,
    <span class="s2">"postcode"</span>: <span class="s2">""</span>,
    <span class="s2">"town"</span>: <span class="s2">""</span>,
    <span class="s2">"work_phone"</span>: <span class="s2">""</span>
  <span class="o">}</span>,
  <span class="s2">"reserved_trolley"</span>: <span class="o">{</span>
    <span class="s2">"bundle"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"bundle_total_cost"</span>: 52.5,
        <span class="s2">"bundle_total_seatprice"</span>: 51,
        <span class="s2">"bundle_total_send_cost"</span>: 1.5,
        <span class="s2">"bundle_total_surcharge"</span>: 0,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
              <span class="s2">"class"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"class_desc"</span>: <span class="s2">"Ballet &amp; Dance"</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"critic_review_percent"</span>: 100,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
                <span class="s2">"event_id"</span>: <span class="o">[</span>
                  <span class="s2">"6IE"</span>,
                  <span class="s2">"MH0"</span>
                <span class="o">]</span>
              <span class="o">}</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 51.52961137,
                <span class="s2">"longitude"</span>: -0.10601562
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"max_running_time"</span>: 120,
              <span class="s2">"min_running_time"</span>: 120,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
              <span class="s2">"user_review_percent"</span>: 100,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 1,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Sun, 15th January 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-01-15T19:30:00Z"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"6IF-A7N"</span>,
              <span class="s2">"running_time"</span>: 120,
              <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"not_requested"</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"no_of_seats"</span>: 1,
                  <span class="s2">"sale_seatprice"</span>: 25,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"seats"</span>: <span class="o">{</span>
                    <span class="s2">"id_details"</span>: <span class="o">[</span>
                      <span class="o">{</span>
                        <span class="s2">"col_id"</span>: <span class="s2">"361"</span>,
                        <span class="s2">"full_id"</span>: <span class="s2">"GQ361"</span>,
                        <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                        <span class="s2">"row_id"</span>: <span class="s2">"GQ"</span>,
                        <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                        <span class="s2">"separator"</span>: <span class="s2">""</span>
                      <span class="o">}</span>
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 25,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child rate"</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 13,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"seats"</span>: <span class="o">{</span>
                    <span class="s2">"id_details"</span>: <span class="o">[</span>
                      <span class="o">{</span>
                        <span class="s2">"col_id"</span>: <span class="s2">"358"</span>,
                        <span class="s2">"full_id"</span>: <span class="s2">"GQ358"</span>,
                        <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                        <span class="s2">"row_id"</span>: <span class="s2">"GQ"</span>,
                        <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                        <span class="s2">"separator"</span>: <span class="s2">""</span>
                      <span class="o">}</span>,
                      <span class="o">{</span>
                        <span class="s2">"col_id"</span>: <span class="s2">"355"</span>,
                        <span class="s2">"full_id"</span>: <span class="s2">"GQ355"</span>,
                        <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                        <span class="s2">"row_id"</span>: <span class="s2">"GQ"</span>,
                        <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                        <span class="s2">"separator"</span>: <span class="s2">""</span>
                      <span class="o">}</span>
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 26,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 3,
            <span class="s2">"total_sale_seatprice"</span>: 51,
            <span class="s2">"total_sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ingresso_one_test"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"Ingresso"</span>,
        <span class="s2">"bundle_total_cost"</span>: 40,
        <span class="s2">"bundle_total_seatprice"</span>: 40,
        <span class="s2">"bundle_total_send_cost"</span>: 0,
        <span class="s2">"bundle_total_surcharge"</span>: 0,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"class"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"class_desc"</span>: <span class="s2">"Theatre"</span>
                <span class="o">}</span>
              <span class="o">]</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Test Event - Type 10 (d)"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"3CVB"</span>,
              <span class="s2">"event_path"</span>: <span class="s2">"/3CVB-test-event-type-10-d/"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 10,
                <span class="s2">"longitude"</span>: 20
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"BT1 2BE"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ingresso_one_test"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"Ingresso"</span>,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Belfast Tours Ltd"</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 2,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Fri, 10th February 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"3CVB"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-02-10T20:00:00Z"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"3CVB-22"</span>,
              <span class="s2">"time_desc"</span>: <span class="s2">"8.00 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"requested_seats"</span>: <span class="o">{</span>
              <span class="s2">"id_details"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C7"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                  <span class="s2">"full_id"</span>: <span class="s2">"C8"</span>,
                  <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                  <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                  <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                  <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"separator"</span>: <span class="s2">""</span>
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"got_all"</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"RED/RED/1"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"FULL PRICE"</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 20,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"seats"</span>: <span class="o">{</span>
                    <span class="s2">"id_details"</span>: <span class="o">[</span>
                      <span class="o">{</span>
                        <span class="s2">"col_id"</span>: <span class="s2">"7"</span>,
                        <span class="s2">"full_id"</span>: <span class="s2">"C7"</span>,
                        <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                        <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                        <span class="s2">"seat_subdata"</span>: <span class="s2">"1/7"</span>,
                        <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                        <span class="s2">"separator"</span>: <span class="s2">""</span>
                      <span class="o">}</span>,
                      <span class="o">{</span>
                        <span class="s2">"col_id"</span>: <span class="s2">"8"</span>,
                        <span class="s2">"full_id"</span>: <span class="s2">"C8"</span>,
                        <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                        <span class="s2">"row_id"</span>: <span class="s2">"C"</span>,
                        <span class="s2">"seat_subdata"</span>: <span class="s2">"1/8"</span>,
                        <span class="s2">"seat_text_code"</span>: <span class="s2">""</span>,
                        <span class="s2">"separator"</span>: <span class="s2">""</span>
                      <span class="o">}</span>
                    <span class="o">]</span>
                  <span class="o">}</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 40,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"UPP"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper Circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 2,
            <span class="s2">"total_sale_seatprice"</span>: 40,
            <span class="s2">"total_sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"minutes_left_on_reserve"</span>: 15,
    <span class="s2">"transaction_uuid"</span>: <span class="s2">"0a50248e-cd0c-11e6-ae47-0025903268a2"</span>,
    <span class="s2">"trolley_bundle_count"</span>: 2,
    <span class="s2">"trolley_order_count"</span>: 2
  <span class="o">}</span>,
  <span class="s2">"unreserved_orders"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch.reservation</span> <span class="kn">import</span> <span class="n">Reservation</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.country</span> <span class="kn">import</span> <span class="n">Country</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.address</span> <span class="kn">import</span> <span class="n">Address</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.trolley</span> <span class="kn">import</span> <span class="n">Trolley</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.bundle</span> <span class="kn">import</span> <span class="n">Bundle</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.currency</span> <span class="kn">import</span> <span class="n">Currency</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.order</span> <span class="kn">import</span> <span class="n">TicketOrder</span><span class="p">,</span> <span class="n">Order</span>
<span class="kn">from</span> <span class="nn">pyticketswitch.event</span> <span class="kn">import</span> <span class="n">Event</span>

<span class="n">Reservation</span><span class="p">(</span>
    <span class="n">needs_payment_card</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">needs_email_address</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">needs_agent_reference</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">allowed_countries</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'ad'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'Andorra'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'ae'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'United Arab Emirates'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'af'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'Afghanistan'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'ag'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'Antigua and Barbuda'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'um'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'The United States Minor Outlying Islands'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'us'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'United States of America'</span><span class="p">),</span>
        <span class="n">Country</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'uy'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">'Uruguay'</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="n">prefilled_address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span>
        <span class="n">lines</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
        <span class="n">county</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
        <span class="n">email_address</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
        <span class="n">postcode</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
        <span class="n">town</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
        <span class="n">home_phone</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
        <span class="n">work_phone</span><span class="o">=</span><span class="s">''</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">trolley</span><span class="o">=</span><span class="n">Trolley</span><span class="p">(</span>
        <span class="n">minutes_left</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="n">transaction_uuid</span><span class="o">=</span><span class="s">'0a50248e-cd0c-11e6-ae47-0025903268a2'</span><span class="p">,</span>
        <span class="n">bundles</span><span class="o">=</span><span class="p">[</span>
            <span class="n">Bundle</span><span class="p">(</span>
                <span class="n">source_code</span><span class="o">=</span><span class="s">'ext_test0'</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
                <span class="n">total</span><span class="o">=</span><span class="mf">52.5</span><span class="p">,</span>
                <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">51.0</span><span class="p">,</span>
                <span class="n">total_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">total_send_cost</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">Currency</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">),</span>
                <span class="n">orders</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">Order</span><span class="p">(</span>
                        <span class="n">item</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                        <span class="n">price_band_code</span><span class="o">=</span><span class="s">'C/pool'</span><span class="p">,</span>
                        <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                        <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper Circle'</span><span class="p">,</span>
                        <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                        <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">51.0</span><span class="p">,</span>
                        <span class="n">total_surcharge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                        <span class="n">seat_request_status</span><span class="o">=</span><span class="s">'not_requested'</span><span class="p">,</span>
                        <span class="n">event</span><span class="o">=</span><span class="n">Event</span><span class="p">(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
                            <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
                            <span class="n">description</span><span class="o">=</span><span class="s">'Matthew Bourne</span><span class="se">\'</span><span class="s">s Nutcracker TEST'</span><span class="p">,</span>
                            <span class="n">source</span><span class="o">=</span><span class="s">'External Test Backend 0'</span><span class="p">,</span>
                            <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
                            <span class="n">venue</span><span class="o">=</span><span class="s">'Sadler</span><span class="se">\'</span><span class="s">s Wells'</span><span class="p">,</span>

                            <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Arts &amp; Culture'</span><span class="p">],</span>
                            <span class="n">filters</span><span class="o">=</span><span class="p">[],</span>

                            <span class="n">postcode</span><span class="o">=</span><span class="s">'EC1R 4TN'</span><span class="p">,</span>
                            <span class="n">city</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span>
                            <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
                            <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
                            <span class="n">latitude</span><span class="o">=</span><span class="mf">51.52961137</span><span class="p">,</span>
                            <span class="n">longditude</span><span class="o">=-</span><span class="mf">0.10601562</span><span class="p">,</span>

                            <span class="n">max_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
                            <span class="n">min_running_time</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>

                            <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>

                            <span class="n">upsell_list</span><span class="o">=</span><span class="p">[</span><span class="s">'6IE'</span><span class="p">,</span> <span class="s">'MH0'</span><span class="p">],</span>
                        <span class="p">),</span>
                        <span class="n">performance</span><span class="o">=</span><span class="n">Performance</span><span class="p">(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s">'6IF-A7N'</span><span class="p">,</span>
                            <span class="n">event_id</span><span class="o">=</span><span class="s">'6IF'</span><span class="p">,</span>
                            <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                            <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">ticket_orders</span><span class="o">=</span><span class="p">[</span>
                            <span class="n">TicketOrder</span><span class="p">(</span>
                                <span class="n">code</span><span class="o">=</span><span class="s">'ADULT'</span><span class="p">,</span>
                                <span class="n">description</span><span class="o">=</span><span class="s">'Adult standard'</span><span class="p">,</span>
                                <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                                <span class="n">total_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                <span class="n">disallowed_mask</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">seats</span><span class="o">=</span><span class="p">[</span>
                                    <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'GQ361'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'361'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'GQ'</span><span class="p">),</span>
                                <span class="p">]</span>
                            <span class="p">),</span>
                            <span class="n">TicketOrder</span><span class="p">(</span>
                                <span class="n">code</span><span class="o">=</span><span class="s">'CHILD'</span><span class="p">,</span>
                                <span class="n">description</span><span class="o">=</span><span class="s">'Child rate'</span><span class="p">,</span>
                                <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">26.0</span><span class="p">,</span>
                                <span class="n">total_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                <span class="n">disallowed_mask</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">seats</span><span class="o">=</span><span class="p">[</span>
                                    <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'GQ358'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'358'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'GQ'</span><span class="p">),</span>
                                    <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'GQ355'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'355'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'GQ'</span><span class="p">),</span>
                                <span class="p">]</span>
                            <span class="p">)</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">),</span>
            <span class="n">Bundle</span><span class="p">(</span>
                <span class="n">source_code</span><span class="o">=</span><span class="s">'ingresso_one_test'</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="s">'Ingresso'</span><span class="p">,</span>
                <span class="n">total</span><span class="o">=</span><span class="mf">40.0</span><span class="p">,</span>
                <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">total_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">total_send_cost</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                <span class="n">currency</span><span class="o">=</span><span class="n">Currency</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="s">'gbp'</span><span class="p">),</span>
                <span class="n">orders</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">Order</span><span class="p">(</span>
                        <span class="n">item</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">price_band_code</span><span class="o">=</span><span class="s">'C/pool'</span><span class="p">,</span>
                        <span class="n">ticket_type_code</span><span class="o">=</span><span class="s">'CIRCLE'</span><span class="p">,</span>
                        <span class="n">ticket_type_description</span><span class="o">=</span><span class="s">'Upper Circle'</span><span class="p">,</span>
                        <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                        <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">51.0</span><span class="p">,</span>
                        <span class="n">total_surcharge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                        <span class="n">seat_request_status</span><span class="o">=</span><span class="s">'got_all'</span><span class="p">,</span>
                        <span class="n">event</span><span class="o">=</span><span class="n">Event</span><span class="p">(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s">'3CVB'</span><span class="p">,</span>
                            <span class="n">status</span><span class="o">=</span><span class="s">'live'</span><span class="p">,</span>
                            <span class="n">description</span><span class="o">=</span><span class="s">'Test Event - Type 10 (d)'</span><span class="p">,</span>
                            <span class="n">source</span><span class="o">=</span><span class="s">'ingresso_one_test'</span><span class="p">,</span>
                            <span class="n">event_type</span><span class="o">=</span><span class="s">'simple_ticket'</span><span class="p">,</span>
                            <span class="n">venue</span><span class="o">=</span><span class="s">'Belfast Tours Ltd'</span><span class="p">,</span>
                            <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s">'Theater'</span><span class="p">],</span>
                            <span class="n">postcode</span><span class="o">=</span><span class="s">'BT1 2BE'</span><span class="p">,</span>
                            <span class="n">country</span><span class="o">=</span><span class="s">'United Kingdom'</span><span class="p">,</span>
                            <span class="n">country_code</span><span class="o">=</span><span class="s">'uk'</span><span class="p">,</span>
                            <span class="n">latitude</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                            <span class="n">longditude</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                            <span class="n">show_performance_time</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">has_performances</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">is_seated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">needs_departure_date</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">needs_duration</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                            <span class="n">needs_performance</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">performance</span><span class="o">=</span><span class="n">Performance</span><span class="p">(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s">'3CVB-22'</span><span class="p">,</span>
                            <span class="n">event_id</span><span class="o">=</span><span class="s">'3CVB'</span><span class="p">,</span>
                            <span class="n">date_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                            <span class="n">has_pool_seats</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                            <span class="n">is_limited</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">requested_seats</span><span class="o">=</span><span class="p">[</span>
                            <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'C7'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'7'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'C'</span><span class="p">),</span>
                            <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'C8'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'8'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'C'</span><span class="p">),</span>
                        <span class="p">],</span>
                        <span class="n">ticket_orders</span><span class="o">=</span><span class="p">[</span>
                            <span class="n">TicketOrder</span><span class="p">(</span>
                                <span class="n">code</span><span class="o">=</span><span class="s">'RED/RED/1'</span><span class="p">,</span>
                                <span class="n">description</span><span class="o">=</span><span class="s">'FULL PRICE'</span><span class="p">,</span>
                                <span class="n">number_of_seats</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                <span class="n">total_seatprice</span><span class="o">=</span><span class="mf">40.0</span><span class="p">,</span>
                                <span class="n">total_surcharge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                                <span class="n">disallowed_mask</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                <span class="n">seats</span><span class="o">=</span><span class="p">[</span>
                                    <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'C7'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'7'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'C'</span><span class="p">),</span>
                                    <span class="n">Seat</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s">'C8'</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s">'8'</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s">'C'</span><span class="p">),</span>
                                <span class="p">],</span>
                            <span class="p">),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>

</code></pre>
<p>The response will include an identifier for the reserve, detail of the reserved
items, detail of items that weren&rsquo;t able to be reserved, and a set of flags 
that confirm the information you need to collect from your customer when 
purchasing tickets.</p>

<aside class="notice">
If you are allowing customers to select their own seats it is important to check
`seat_request_status` - if this is not `got_all` then we weren&rsquo;t able to reserve
the requested seats. If you don&rsquo;t want to offer these seats to your customer 
then you must release them. Note also that it is possible for reserving specific 
seats to consistently fail - it is therefore advisable to warn your customer of 
this to avoid them receiving errors consistently.
</aside>

<p>Ingresso&rsquo;s partners split into the following categories based on how they take
payment:</p>

<ul>
<li><p><strong>On-credit</strong>: those who purchase on-credit, and are regularly invoiced by 
Ingresso.</p></li>
<li><p><strong>Stripe</strong>: those who exclusively use Stripe to take payment, either
into their own bank account (and are invoiced by Ingresso) or directly into
Ingresso&rsquo;s bank account.</p></li>
<li><p><strong>Venue or other payment provider</strong>: those who send payment direct to the
venue or to the payment provider specified by Ingresso.</p></li>
</ul>

<p>Most partners are on-credit, some are Stripe-only, and very few are venue or
other payment provider - this option is not typically offered to partners.</p>

<p>Partners who wish to take payment via Stripe should note the following:</p>

<ul>
<li><p>The simplest option is to use Ingresso&rsquo;s Stripe account, however it is
possible to use your own. Once this has been agreed you can contact Stripe, and
provide Ingresso with your Stripe keys.</p></li>
<li><p>We recommend that you use Stripe.js to collect card details on your own
checkout page and pass them directly to Stripe in a secure, PCI-compliant
manner. You should follow the <a href="https://stripe.com/docs/custom-form">Stripe.js docs</a> 
to implement this. When passing card details to Stripe you will need to
include a publishable key - this will be returned by Ingresso via
bundle.debitor.debitor_integration_data.publishable_key.</p></li>
<li><p>If there are no errors with the card details then Stripe will return a 
single-use Stripe token. You should then pass that token to Ingresso and we 
will ask Stripe to authorise payment. We will then purchase tickets from the 
supplier, and if that is successful we will ask Stripe to capture the payment, 
otherwise we refund the authorisation. This is taken care of by the Ingresso 
API. 
(TODO: Nic to help with more detail on what is passed where.)</p></li>
<li><p>You will likely wish to give customers the option of entering a separate 
billing address if they are having tickets posted. </p></li>
</ul>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">accepted_payment_cards</code></td>
<td>For the vast majority of partners this will not be present and can be ignored (it won&rsquo;t be present for partners who purchase on-credit or who use Stripe). For partners who send payment direct to the venue, this field presents a list of payment card types.</td>
</tr>
<tr>
<td><code class="prettyprint">allowed_countries</code></td>
<td>A list of country codes and human-readable descriptions. The country codes are <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 codes</a>. This list is relevant when selecting a despatch method that is restricted to certain countries, for example a local post despatch method may only be available in the supplier&rsquo;s country. These are typically presented to customers in a dropdown list on a checkout page. The customer&rsquo;s country code is a required parameter when <a href="#purchase">purchasing</a> tickets.</td>
</tr>
<tr>
<td><code class="prettyprint">can_edit_address</code></td>
<td>Indicates whether it is possible to change the non-blank <code class="prettyprint">prefilled_address</code> data. This is primarily for internal use and can be ignored for normal use cases (it only applies to partners who have asked to have a prefilled address held in the Ingresso system). In most cases this will be <code class="prettyprint">true</code>. If it is <code class="prettyprint">false</code> the non-blank <code class="prettyprint">prefilled_address</code> fields will be used when tickets are purchased and we will ignore the values in these fields if they are passed to us.</td>
</tr>
<tr>
<td><code class="prettyprint">needs_agent_reference</code></td>
<td>For the vast majority of partners this will be <code class="prettyprint">false</code> and can be ignored. However some partners ask to require that they specify their own reference when purchasing tickets - if this is <code class="prettyprint">true</code> then the reference must be passed in.</td>
</tr>
<tr>
<td><code class="prettyprint">needs_email_address</code></td>
<td>If <code class="prettyprint">true</code> you must pass in an email address when purchasing tickets. We recommend that you always send us the customer&rsquo;s email address. We guarantee to only use this if our customer service team need to contact your customer in an emergency or if our supplier needs to directly email confirmation to your customer (this is not used for any events as at Jan 2017, but is possible in future). If you cannot send the customer&rsquo;s email address then we recommend that you don&rsquo;t send an email address if <code class="prettyprint">needs_email_address</code> is <code class="prettyprint">false</code>; if it is <code class="prettyprint">true</code> then send an internal email address (for example your customer service email address) and it will be your responsibility to contact the customer or pass on booking confirmation.</td>
</tr>
<tr>
<td><code class="prettyprint">needs_payment_card</code></td>
<td>This will be <code class="prettyprint">false</code> for almost all partners (it doesn&rsquo;t apply to partners who purchase on-credit or use Stripe). If this is <code class="prettyprint">true</code> you need to collect card details from the customer and include them when purchasing.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address</code></td>
<td>Some partners will have an address already held in the Ingresso system which should be prefilled for the user (by default this will not be enabled for partners - you will need to explicitly request it). The non-blank fields below should be prefilled. <code class="prettyprint">can_edit_address</code> indicates whether the user can edit any of the prefilled fields.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.address_line_one</code></td>
<td>The first line of the address - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.address_line_two</code></td>
<td>The second line of the address - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.country_code</code></td>
<td>The country code of the address - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.email_address</code></td>
<td>The email address - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.home_phone</code></td>
<td>The home phone - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.postcode</code></td>
<td>The postcode / zip code - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.town</code></td>
<td>The town - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">prefilled_address.work_phone</code></td>
<td>The work phone - if this is non-blank it should be prefilled.</td>
</tr>
<tr>
<td><code class="prettyprint">reserved_trolley</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">supports_billing_address</code></td>
<td>For the vast majority of partners this can be ignored (it isn&rsquo;t relevant to partners who purchase on-credit or who use Stripe). When it is <code class="prettyprint">true</code> a separate address may be provided when purchasing tickets, and this will be used to validate the payment card address for venue systems that perform address verification checks.</td>
</tr>
<tr>
<td><code class="prettyprint">unreserved_orders</code></td>
<td>A list of orders that could not be reserved.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">reserved_trolley</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">minutes_left_on_reserve</code></td>
<td>A numeric representation of the number of minutes that your reserve will be held open for. For example, 12.5 is 12 minutes and 30 seconds. (TODO: confirm this is correct)</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_uuid</code></td>
<td>The unique reference for this reservation. This is needed for any further interactions with the</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_bundle_count</code></td>
<td>The number of bundles in the trolley.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_order_count</code></td>
<td>The number of orders in the trolley. There will be at least one order for every bundle.</td>
</tr>
</tbody></table>

<p>As explained in more detail in <a href="#trolley">trolley</a>, a trolley contains three 
nested objects:</p>

<ul>
<li><p>A <strong><code class="prettyprint">bundle</code></strong> represents all orders from a particular supplier. </p></li>
<li><p>An <strong><code class="prettyprint">order</code></strong> represents a number of tickets to a particular <code class="prettyprint">price band</code> and
<code class="prettyprint">ticket type</code>, for a particular <a href="#performances">performance</a> of an
<a href="#events">event</a>.</p></li>
<li><p>An <code class="prettyprint">order</code> will contain multiple <strong><code class="prettyprint">ticket_order</code></strong>s when more than one
<code class="prettyprint">discount code</code> is used (for example ticket 1 and 2 have the ADULT discount
code, and tickets 3 and 4 have the CHILD discount code). In this example there
will be two <code class="prettyprint">ticket_order</code>s: one for ADULT and one for CHILD.</p></li>
</ul>

<p>If you only plan to <code class="prettyprint">reserve</code> a single item at a time then a successful reserve
will contain a single <code class="prettyprint">order</code> within a single <code class="prettyprint">bundle</code>.</p>

<p><strong><code class="prettyprint">bundle</code> attributes</strong> </p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle_order_count</code></td>
<td>The number of orders in this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_code</code></td>
<td>The code of the supplier system that this bundle will be purchased from.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_desc</code></td>
<td>The name of the supplier system that this bundle will be purchased from.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_cost</code></td>
<td>The total cost of this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_cost_in_desired</code></td>
<td>The total cost of this bundle, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_seatprice</code></td>
<td>The total face value for this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_seatprice_in_desired</code></td>
<td>The total face value for this bundle, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_send_cost</code></td>
<td>The despatch cost for this bundle (similar to a transaction fee). Orders within the same bundle will be sent together.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_send_cost_in_desired</code></td>
<td>The despatch cost for this bundle, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_surcharge</code></td>
<td>The total booking fee for this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_surcharge_in_desired</code></td>
<td>The total booking fee for this bundle, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>The <a href="#currency-object">currency</a> of the bundle, which by default just contains the currency_code. To include full currency detail add the parameter <code class="prettyprint">req_currency_details</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">desired_currency</code></td>
<td>Most partners will not see a <code class="prettyprint">desired_currency</code>, but it is possible for a partner to request to always view prices in a specific currency. For example if a product is supplied in GBP, but your <code class="prettyprint">desired_currency</code> is set to USD, we will return prices in GBP along with <code class="prettyprint">_desired</code> prices in USD. If you are taking payment using Ingresso&rsquo;s Stripe connection, then payment will be taken in the default currency (GBP, in the example), and if you are being invoiced by Ingresso we will invoice you in the default currency (GBP, in the example). So the <code class="prettyprint">_desired</code> prices are typically used to just display an indicative amount to the customer (in USD, in the example). Currency conversion rates are taken from a daily European Central Bank feed. To include the full currency object detail add the parameter <code class="prettyprint">req_currency_details</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">order</code></td>
<td>See below for object detail.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">event</code></td>
<td>The <a href="#event-object">event</a> for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">item_number</code></td>
<td>A unique sequential number for the <code class="prettyprint">order</code>. The second order added to the trolley will have <code class="prettyprint">item_number</code> 2. The <code class="prettyprint">item_number</code> remains constant as orders are added or removed, so if <code class="prettyprint">item_number</code> 1 is removed, the first order will be <code class="prettyprint">item_number</code> 2.</td>
</tr>
<tr>
<td><code class="prettyprint">performance</code></td>
<td>The <a href="#performance-object">performance</a> for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The code for a price band, for example &ldquo;C/pool&rdquo;. The price band code is generally made up of the code from the underlying supplier system, e.g. &ldquo;C&rdquo;, followed by a &ldquo;/&rdquo; separator then &ldquo;pool&rdquo; or &ldquo;alloc&rdquo;, indicating whether the price band is taken from the general pool of tickets or is from a ring-fenced allocation.</td>
</tr>
<tr>
<td><code class="prettyprint">seat_request_status</code></td>
<td>The status of your tickets after they have been reserved. Possible values are <code class="prettyprint">not_requested</code> (specific seats not requested), <code class="prettyprint">got_none</code> (you requested A13 and A14 but we gave you A15 and A16), <code class="prettyprint">got_partial</code> (you requested A13 and A14 but we gave you A14 and A15), <code class="prettyprint">got_all</code> (you requested A13 and A14 and you got A13 and A14 - by far the most common response when requesting specific seats).</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_orders</code></td>
<td>An array of ticket_order objects, one for each discount code. See below for detail.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The unique identifier for the ticket type. For seated events this refers to a part of house / seating area such as Grand Circle.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>The description for the ticket type. This should be displayed to the customer</td>
</tr>
<tr>
<td><code class="prettyprint">total_no_of_seats</code></td>
<td>The number of seats for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice_in_desired</code></td>
<td>The total face value for this order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge_in_desired</code></td>
<td>The total booking fee for this order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">ticket_order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discount_code</code></td>
<td>The discount code that applies to this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">discount_desc</code></td>
<td>The description for the discount code.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td>The number of tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice</code></td>
<td>The face value per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice_in_desired</code></td>
<td>The face value per ticket in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge</code></td>
<td>The booking fee per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge_in_desired</code></td>
<td>The booking fee per ticket in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">seats</code></td>
<td>For seated events, an array of reserved seats. See below for detail.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value of all tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice_in_desired</code></td>
<td>The total face value of all tickets in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee of all tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge_in_desired</code></td>
<td>The total booking fee of all tickets in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">seats</code> attributes:</strong></p>

<p><code class="prettyprint">col_id</code> | The column identifier of the seat.
<code class="prettyprint">full_id</code> | The ID of the seat - comprised of the <code class="prettyprint">col_id</code> and the <code class="prettyprint">row_id</code>, sometimes with a separator between them.
<code class="prettyprint">is_restricted_view</code> | <code class="prettyprint">true</code> if the seat is classified as having a restricted view.
<code class="prettyprint">row_id</code> | The row identifier of the seat.
<code class="prettyprint">seat_text</code> | A message about the seat that must be displayed to customers.
<code class="prettyprint">seat_text_code</code> | An identifier for the seat text (only unique within the current <code class="prettyprint">bundle_source_code</code>). Not useful for most partners.</p>

          <h1 id="release">Release</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://demo.ticketswitch.com/f13/release.v1?transaction_uuid={trans_uuid}
</code></pre>
<p>This resource allows you to release previously-reserved tickets. It is important
that your integration releases tickets as soon as it is clear that they will not
be purchased, either because your customer explicitly removes them from a basket
or similar, or because they implicitly imply that they want to continue
browsing, for example by pressing back on your checkout page (when a user
presses back on sites developed by Ingresso we release their reservation then
request availability to ensure the user is also able to select the just-released
seats). This is necessary to ensure that all end users have the best possible
access to tickets (including your other customers).</p>

<aside class="notice">We reserve the right to disable the API account of any 
partner that is not releasing tickets when they should be.</aside>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/release.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"transaction_uuid=f2158be3-d29e-11e6-8aab-0025903268dc"</span> <span class="se">\</span>
    -X POST
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">released</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">release_reservation</span><span class="p">(</span><span class="s">'f2158be3-d29e-11e6-8aab-0025903268dc'</span><span class="p">)</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">transaction_uuid</code></td>
<td>The unique identifier for a previous <a href="#reserve">reserve</a>.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"released_ok"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="bp">True</span>
</code></pre>
<p>This resource will return the same response when called multiple times.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">released_ok</code></td>
<td><code class="prettyprint">true</code> if the release succeeded.</td>
</tr>
</tbody></table>

          <h1 id="purchase">Purchase</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://demo.ticketswitch.com/f13/purchase.v1
</code></pre>
<p>To purchase tickets you must first <a href="#reserve">reserve</a> them. You can then
attempt to purchase the reserved tickets at any time within the reserve window.
A successful result means that the order has been confirmed in the supplier
ticketing system. If you have attempted to purchase multiple events from a
single trolley it is possible for a purchase to partially succeed, with some
events unable to be purchased from the corresponding supplier ticketing system.</p>

<p>The <a href="#payment-options">payment option</a> you are using will determine how you use
purchase. </p>

<ol>
<li><p>If you purchase on credit then you just need to provide customer data.</p></li>
<li><p>If payment is taken using Stripe then you need to provide customer data and a
redirect URL. </p></li>
<li><p>If the venue takes payment or you use other payment providers then you need 
to support both passing card details directly and redirecting the customer to
third-party payment pages. We do not typically offer this option to partners so
this has not been documented below. If you wish to use this option then contact
use at api@ingresso.co.uk.</p></li>
</ol>

<p>The first two options are outlined below.</p>

<p><em>Notes on sending customer data</em></p>

<ul>
<li><p>You must pass in the customer name, phone number and address for the purchase
to succeed, and in some cases the email address is also required. Some partners
do not wish to share customer data. At a minimum you should send us the customer
name (first and last name) and phone number.</p></li>
<li><p>The customer name is used by the venue, in particular as a security measure 
when admitting customers, so this is essential.</p></li>
<li><p>The phone number can be used by Ingresso or the venue in emergency
circumstances to contact the customer (for example if an evening performance is
cancelled in the morning - this is not uncommon for theatre shows). It will not
be used for any other reason. We therefore highly recommend that you provide the
customer&rsquo;s phone number to avoid a bad customer experience should they need to
be contacted.</p></li>
<li><p>The email address is only required if <code class="prettyprint">needs_email_address</code> = <code class="prettyprint">true</code> in the
response from <a href="#reserve">reserve</a>. We recommend that you always send us the
customer&rsquo;s email address. We guarantee to only use this if our customer service
team need to contact your customer or if our supplier needs to directly email
confirmation to your customer (this is not used for any events as at March 2017,
but is possible in future). If you cannot send the customer&rsquo;s email address then
we recommend that you don&rsquo;t send any email address if <code class="prettyprint">needs_email_address</code> is
<code class="prettyprint">false</code>; if it is <code class="prettyprint">true</code> then send an internal email address (for example your
customer service email address) and it will be your responsibility to contact
the customer or pass on booking confirmation.</p></li>
<li><p>The address fields (for example <code class="prettyprint">address_line_one</code>) need to be passed to us.
The only use for these is for tickets that will be posted by Ingresso or the
supplier, so it is possible to only pass the customer&rsquo;s address when the
customer has selected a despatch method with <code class="prettyprint">send_type</code> = <code class="prettyprint">post</code>. In all other
cases you can pass a default address such as your company headquarters (in case
it turns out that tickets need to be unexpectedly posted).</p></li>
</ul>

<p>If a purchase fails due to incomplete or incorrect customer data then you can
reattempt the purchase call with corrected data. If a purchase fails due to the
reservation having timed out, then it is necessary to <a href="#reserve">reserve</a>
tickets again. The output data is structured such that permanent failures are
not reported as errors, but are reported as an actual result from a successful
operation.</p>

<p>For purchases where a despatch method with a type of <code class="prettyprint">selfprint</code> was selected,
the URL returned should be presented to the customer.</p>

<h2 id="purchasing-on-credit">Purchasing on credit</h2>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request - purchasing on-credit</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/purchase.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"transaction_uuid=a75a03c3-efc2-11e6-a96d-d0bf9c45f5c0"</span> <span class="se">\</span>
    -d <span class="s2">"first_name=Test"</span> <span class="se">\</span>
    -d <span class="s2">"last_name=Tester"</span> <span class="se">\</span>
    -d <span class="s2">"address_line_one=Metro Building"</span> <span class="se">\</span>
    -d <span class="s2">"address_line_two=1 Butterwick"</span> <span class="se">\</span>
    -d <span class="s2">"town=London"</span> <span class="se">\</span>
    -d <span class="s2">"county=London"</span> <span class="se">\</span>
    -d <span class="s2">"postcode=W6 8DL"</span> <span class="se">\</span>
    -d <span class="s2">"country_code=uk"</span> <span class="se">\</span>
    -d <span class="s2">"phone=0203 137 7420"</span> <span class="se">\</span>
    -d <span class="s2">"email_address=tester@gmail.com"</span> <span class="se">\</span>
    -X POST
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>

<span class="p">(</span><span class="n">TODO</span><span class="p">:</span> <span class="n">finish</span><span class="p">)</span>
</code></pre>
<p>Most partners will manage payment themselves - this is how to purchase if you 
use this option.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">address_line_one</code></td>
<td>The first line of the customer&rsquo;s address - required. Either pass your customer&rsquo;s address or your head office address (see customer data note above).</td>
</tr>
<tr>
<td><code class="prettyprint">address_line_two</code></td>
<td>The second line of the customer&rsquo;s address. <strong>Optional if <code class="prettyprint">address_line_one</code> is provided.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">agent_ref</code></td>
<td>Partners can pass their own transaction reference to be stored in the Ingresso platform. <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>The <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a> country code of the customer&rsquo;s address - required. The country code must have been present in the <code class="prettyprint">allowed_countries</code> list from <a href="#reserve">reserve</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">county</code></td>
<td>The county of region of the customer&rsquo;s address. <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">dp_supplier</code></td>
<td>(TODO: incorrect param name) Data protection question - set to <code class="prettyprint">true</code> if the customer has opted in to receiving marketing emails from the ticket supplier. <strong>Optional - it will default to false.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">dp_user</code></td>
<td>(TODO: incorrect param name) Data protection question - set to <code class="prettyprint">true</code> if the customer has opted in to receiving marketing emails from you. Most partners manage marketing opt-ins themselves so do not provide this. <strong>Optional - it will default to false.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">dp_world</code></td>
<td>(TODO: incorrect param name) Data protection question - set to <code class="prettyprint">true</code> if the customer has opted in to receiving marketing emails communication from you and third-parties. <strong>Optional - it will default to false.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">email_address</code></td>
<td>The customer&rsquo;s email address. Required when <code class="prettyprint">needs_email_address</code> was <code class="prettyprint">true</code> from the <a href="#reserve">reserve</a> response. We recommend this is provided - see customer data note above.</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td>The customer&rsquo;s first name - required. Used by venues as a security measure when admitting customers.</td>
</tr>
<tr>
<td><code class="prettyprint">home_phone</code></td>
<td>The customer&rsquo;s home phone number. <strong>Optional if <code class="prettyprint">phone</code> is provided.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">initials</code></td>
<td>The customer&rsquo;s initials for their name. <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td>The customer&rsquo;s last name - required. Used by venues as a security measure when admitting customers.</td>
</tr>
<tr>
<td><code class="prettyprint">phone</code></td>
<td>The customer&rsquo;s phone number - required. Used by venues and Ingresso as a means to contact customers (see customer data note above). It is optional if you specify the <code class="prettyprint">work_phone</code> and <code class="prettyprint">home_phone</code> separately instead.</td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code></td>
<td>The ZIP or postal code of the customer&rsquo;s address. <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">suffix</code></td>
<td>The suffix of the customer&rsquo;s name, for example &ldquo;Jr.&rdquo; or &ldquo;CPA&rdquo; <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td>The title of the customer&rsquo;s name, for example &ldquo;Mr.&rdquo; or &ldquo;Dr.&rdquo; <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">town</code></td>
<td>The city or town of the customer&rsquo;s address. <strong>Optional.</strong></td>
</tr>
<tr>
<td><code class="prettyprint">transaction_uuid</code></td>
<td>The unique reference for the reserved tickets, taken from the <a href="#reserve">reserve</a> response.</td>
</tr>
<tr>
<td><code class="prettyprint">work_phone</code></td>
<td>The customer&rsquo;s work phone number. <strong>Optional if <code class="prettyprint">phone</code> is provided.</strong></td>
</tr>
</tbody></table>

<p>All of the parameters used to request <a href="#additional-parameters">additional data for events</a> can also be added.</p>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response - purchasing on-credit</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"customer"</span>: <span class="o">{</span>
    <span class="s2">"addr_line_one"</span>: <span class="s2">"Metro Building"</span>,
    <span class="s2">"addr_line_one_latin"</span>: <span class="s2">"Metro Building"</span>,
    <span class="s2">"addr_line_two"</span>: <span class="s2">"1 Butterwick"</span>,
    <span class="s2">"addr_line_two_latin"</span>: <span class="s2">"1 Butterwick"</span>,
    <span class="s2">"agent_ref"</span>: <span class="s2">""</span>,
    <span class="s2">"country"</span>: <span class="s2">"United Kingdom"</span>,
    <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
    <span class="s2">"country_latin"</span>: <span class="s2">"United Kingdom"</span>,
    <span class="s2">"county"</span>: <span class="s2">"London"</span>,
    <span class="s2">"county_latin"</span>: <span class="s2">"London"</span>,
    <span class="s2">"dp_supplier"</span>: <span class="nb">false</span>,
    <span class="s2">"dp_user"</span>: <span class="nb">false</span>,
    <span class="s2">"dp_world"</span>: <span class="nb">false</span>,
    <span class="s2">"email_addr"</span>: <span class="s2">"tester@gmail.com"</span>,
    <span class="s2">"first_name"</span>: <span class="s2">"Test"</span>,
    <span class="s2">"first_name_latin"</span>: <span class="s2">"Test"</span>,
    <span class="s2">"home_phone"</span>: <span class="s2">"0203 137 7420"</span>,
    <span class="s2">"initials"</span>: <span class="s2">""</span>,
    <span class="s2">"initials_latin"</span>: <span class="s2">""</span>,
    <span class="s2">"last_name"</span>: <span class="s2">"Tester"</span>,
    <span class="s2">"last_name_latin"</span>: <span class="s2">"Tester"</span>,
    <span class="s2">"postcode"</span>: <span class="s2">"W6 8DL"</span>,
    <span class="s2">"postcode_latin"</span>: <span class="s2">"W6 8DL"</span>,
    <span class="s2">"suffix"</span>: <span class="s2">""</span>,
    <span class="s2">"suffix_latin"</span>: <span class="s2">""</span>,
    <span class="s2">"title"</span>: <span class="s2">""</span>,
    <span class="s2">"title_latin"</span>: <span class="s2">""</span>,
    <span class="s2">"town"</span>: <span class="s2">"London"</span>,
    <span class="s2">"town_latin"</span>: <span class="s2">"London"</span>,
    <span class="s2">"work_phone"</span>: <span class="s2">"0203 137 7420"</span>
  <span class="o">}</span>,
  <span class="s2">"language_list"</span>: <span class="s2">"en-gb,en,en-us,nl"</span>,
  <span class="s2">"purchase_iso8601_date_and_time"</span>: <span class="s2">"2017-02-10T15:40:36Z"</span>,
  <span class="s2">"reserve_iso8601_date_and_time"</span>: <span class="s2">"2017-02-10T15:40:12Z"</span>,
  <span class="s2">"transaction_status"</span>: <span class="s2">"purchased"</span>,
  <span class="s2">"trolley_contents"</span>: <span class="o">{</span>
    <span class="s2">"bundle"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"Test SystemZero for on-credit backend group"</span>,
        <span class="s2">"bundle_total_cost"</span>: 62.5,
        <span class="s2">"bundle_total_cost_in_desired"</span>: 73.45,
        <span class="s2">"bundle_total_seatprice"</span>: 51,
        <span class="s2">"bundle_total_seatprice_in_desired"</span>: 59.94,
        <span class="s2">"bundle_total_send_cost"</span>: 1.5,
        <span class="s2">"bundle_total_send_cost_in_desired"</span>: 1.76,
        <span class="s2">"bundle_total_surcharge"</span>: 10,
        <span class="s2">"bundle_total_surcharge_in_desired"</span>: 11.75,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
          <span class="s2">"currency_factor"</span>: 100,
          <span class="s2">"currency_number"</span>: 826,
          <span class="s2">"currency_places"</span>: 2,
          <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
          <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
        <span class="o">}</span>,
        <span class="s2">"desired_currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"eur"</span>,
          <span class="s2">"currency_factor"</span>: 100,
          <span class="s2">"currency_number"</span>: 978,
          <span class="s2">"currency_places"</span>: 2,
          <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
          <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"€"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"backend_purchase_reference"</span>: <span class="s2">"PURCHASE-D65E-1"</span>,
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
              <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
              <span class="s2">"classes"</span>: <span class="o">{</span>
                <span class="s2">"theatre"</span>: <span class="s2">"Theatre"</span>
              <span class="o">}</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"critic_review_percent"</span>: 100,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker!"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
                <span class="s2">"event_id"</span>: <span class="o">[</span>
                  <span class="s2">"6IE"</span>,
                  <span class="s2">"6IF"</span>,
                  <span class="s2">"6KU"</span>
                <span class="o">]</span>
              <span class="o">}</span>,
              <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker%21"</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 51.5,
                <span class="s2">"longitude"</span>: -0.15
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"max_running_time"</span>: 120,
              <span class="s2">"min_running_time"</span>: 120,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"Test SystemZero for on-credit backend group"</span>,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
              <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
            <span class="o">}</span>,
            <span class="s2">"gross_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 7.81,
              <span class="s2">"amount_including_vat"</span>: 9.38,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                <span class="s2">"currency_factor"</span>: 100,
                <span class="s2">"currency_number"</span>: 826,
                <span class="s2">"currency_places"</span>: 2,
                <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
              <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 1,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Mon, 5th June 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-06-05T19:30:00+01:00"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"6IF-C0J"</span>,
              <span class="s2">"running_time"</span>: 120,
              <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"C/pool"</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"not_requested"</span>,
            <span class="s2">"send_method"</span>: <span class="o">{</span>
              <span class="s2">"send_code"</span>: <span class="s2">"COBO"</span>,
              <span class="s2">"send_cost"</span>: 1.5,
              <span class="s2">"send_cost_in_desired"</span>: 1.76,
              <span class="s2">"send_desc"</span>: <span class="s2">"Collect from venue"</span>,
              <span class="s2">"send_final_comment"</span>: <span class="s2">"Instructions for collecting tickets at the venue box office:</span><span class="se">\n</span><span class="s2">- Tickets must be collected by the cardholder with valid photo identification and the payment card.</span><span class="se">\n</span><span class="s2">- The cardholder’s signature will be required on receipt of these tickets.</span><span class="se">\n</span><span class="s2">- Tickets are only available for collection on the day of the performance.</span><span class="se">\n</span><span class="s2">- Guests are advised to arrive at least 30 minutes before the performance time.</span><span class="se">\n</span><span class="s2">- If the cardholder is unable to collect these tickets please contact Guest Services on 0800 640 8101.</span><span class="se">\n\n</span><span class="s2">Can we help?</span><span class="se">\n</span><span class="s2">If you require further information please contact our Guest Services team:</span><span class="se">\n</span><span class="s2">Live chat or call 0800 640 8101 (Monday – Sunday, 9am – 9pm GMT/BST)"</span>,
              <span class="s2">"send_final_type"</span>: <span class="s2">"collect"</span>,
              <span class="s2">"send_type"</span>: <span class="s2">"collect"</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"ADULT"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Adult standard"</span>,
                  <span class="s2">"no_of_seats"</span>: 1,
                  <span class="s2">"sale_seatprice"</span>: 25,
                  <span class="s2">"sale_seatprice_in_desired"</span>: 29.38,
                  <span class="s2">"sale_surcharge"</span>: 4,
                  <span class="s2">"sale_surcharge_in_desired"</span>: 4.7,
                  <span class="s2">"seats"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"472"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"PM472"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"PM"</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 25,
                  <span class="s2">"total_sale_seatprice_in_desired"</span>: 29.38,
                  <span class="s2">"total_sale_surcharge"</span>: 4,
                  <span class="s2">"total_sale_surcharge_in_desired"</span>: 4.7
                <span class="o">}</span>,
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">"CHILD"</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">"Child ticket"</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 13,
                  <span class="s2">"sale_seatprice_in_desired"</span>: 15.28,
                  <span class="s2">"sale_surcharge"</span>: 3,
                  <span class="s2">"sale_surcharge_in_desired"</span>: 3.53,
                  <span class="s2">"seats"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"469"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"PM469"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"PM"</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"466"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"PM466"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"PM"</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 26,
                  <span class="s2">"total_sale_seatprice_in_desired"</span>: 30.56,
                  <span class="s2">"total_sale_surcharge"</span>: 6,
                  <span class="s2">"total_sale_surcharge_in_desired"</span>: 7.05
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 3,
            <span class="s2">"total_sale_seatprice"</span>: 51,
            <span class="s2">"total_sale_seatprice_in_desired"</span>: 59.94,
            <span class="s2">"total_sale_surcharge"</span>: 10,
            <span class="s2">"total_sale_surcharge_in_desired"</span>: 11.75,
            <span class="s2">"user_commission"</span>: <span class="o">{</span>
              <span class="s2">"amount_excluding_vat"</span>: 6.56,
              <span class="s2">"amount_including_vat"</span>: 7.88,
              <span class="s2">"commission_currency"</span>: <span class="o">{</span>
                <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>,
                <span class="s2">"currency_factor"</span>: 100,
                <span class="s2">"currency_number"</span>: 826,
                <span class="s2">"currency_places"</span>: 2,
                <span class="s2">"currency_post_symbol"</span>: <span class="s2">""</span>,
                <span class="s2">"currency_pre_symbol"</span>: <span class="s2">"£"</span>
              <span class="o">}</span>
            <span class="o">}</span>
          <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"purchase_result"</span>: <span class="o">{</span>
          <span class="s2">"is_semi_credit"</span>: <span class="nb">false</span>,
          <span class="s2">"success"</span>: <span class="nb">true</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"purchase_result"</span>: <span class="o">{</span>
      <span class="s2">"is_partial"</span>: <span class="nb">false</span>,
      <span class="s2">"success"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"Z000-0000-37QH-Z217"</span>,
    <span class="s2">"transaction_uuid"</span>: <span class="s2">"363b641f-efa7-11e6-a96d-d0bf9c45f5c0"</span>,
    <span class="s2">"trolley_bundle_count"</span>: 1,
    <span class="s2">"trolley_order_count"</span>: 1
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight python"><code><span class="n">TODO</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">customer</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">language_list</code></td>
<td>(TODO)</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_iso8601_date_and_time</code></td>
<td>The purchase time in ISO 8601 format.</td>
</tr>
<tr>
<td><code class="prettyprint">reserve_iso8601_date_and_time</code></td>
<td>The reserve time in ISO 8601 format.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_status</code></td>
<td><code class="prettyprint">purchased</code>, <code class="prettyprint">failed</code> or <code class="prettyprint">attempting</code> (will only be seen if the customer is being redirected to a payment page - most partners will not see this).</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_contents</code></td>
<td>See below for object detail.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">customer</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">addr_line_one</code></td>
<td>The first line of the customer&rsquo;s address.</td>
</tr>
<tr>
<td><code class="prettyprint">addr_line_one_latin</code></td>
<td>The first line of the customer&rsquo;s address, (TODO finish).</td>
</tr>
<tr>
<td><code class="prettyprint">addr_line_two</code></td>
<td>The second line of the customer&rsquo;s address, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">addr_line_two_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">agent_ref</code></td>
<td>A partner transaction reference, if this was passed in as a parameter.</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>The country from the customer&rsquo;s address.</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>The <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a> country code of the customer&rsquo;s address.</td>
</tr>
<tr>
<td><code class="prettyprint">country_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">county</code></td>
<td>The county from the customer&rsquo;s address, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">county_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">dp_supplier</code></td>
<td>Has the customer opted in to receiving marketing emails from the ticket supplier.</td>
</tr>
<tr>
<td><code class="prettyprint">dp_user</code></td>
<td>Has the customer opted in to receiving marketing emails from you.</td>
</tr>
<tr>
<td><code class="prettyprint">dp_world</code></td>
<td>Has the customer opted in to receiving marketing emails communication from you and third-parties.</td>
</tr>
<tr>
<td><code class="prettyprint">email_addr</code></td>
<td>The customer&rsquo;s email address, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">first_name</code></td>
<td>The customer&rsquo;s first name.</td>
</tr>
<tr>
<td><code class="prettyprint">first_name_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">home_phone</code></td>
<td>The customer&rsquo;s home phone number.</td>
</tr>
<tr>
<td><code class="prettyprint">initials</code></td>
<td>The initials of the customer&rsquo;s name, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">initials_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">last_name</code></td>
<td>The customer&rsquo;s surname.</td>
</tr>
<tr>
<td><code class="prettyprint">last_name_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">postcode</code></td>
<td>The customer&rsquo;s postcode, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">postcode_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">suffix</code></td>
<td>The suffix of the customer&rsquo;s name, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">suffix_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td>The title of the customer&rsquo;s name, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">title_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">town</code></td>
<td>The customer&rsquo;s town or city, if provided.</td>
</tr>
<tr>
<td><code class="prettyprint">town_latin</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">work_phone</code></td>
<td>The customer&rsquo;s work phone number.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">trolley_contents</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle</code></td>
<td>An array of bundles. A bundle  is a group of orders purchased from a single supplier ticketing system. See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_result.is_partial</code></td>
<td><code class="prettyprint">true</code> if you attempted to purchase items from more than one supplier ticketing system (therefore you attempted to purchase multiple bundles), but only some of the purchases were successful.</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_result.success</code></td>
<td><code class="prettyprint">true</code> if the purchase succeeded if at least one of the bundles succeeded.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_id</code></td>
<td>The primary Ingresso transaction reference.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_uuid</code></td>
<td>The secondary Ingresso transaction reference.</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_bundle_count</code></td>
<td>The number of bundles in the trolley (a bundle is a group of orders purchased from a single supplier ticketing system).</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_order_count</code></td>
<td>The number of orders in the trolley (an order is tickets for a single event).</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">bundle</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bundle_order_count</code></td>
<td>The number of orders (i.e. events) in this bundle.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_code</code></td>
<td>The code Ingresso use to identify the supplier ticketing system.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_source_desc</code></td>
<td>The description of the supplier ticketing system.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_cost</code></td>
<td><code class="prettyprint">bundle_total_seatprice</code> + <code class="prettyprint">bundle_total_surcharge</code> + <code class="prettyprint">bundle_total_send_cost</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_cost_in_desired</code></td>
<td><code class="prettyprint">bundle_total_seatprice_in_desired</code> + <code class="prettyprint">bundle_total_surcharge_in_desired</code> + <code class="prettyprint">bundle_total_send_cost_in_desired</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_seatprice</code></td>
<td>The total face value.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_seatprice_in_desired</code></td>
<td>The total face value in your desired currency. This field won&rsquo;t be present unless you have requested a desired currency.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_send_cost</code></td>
<td>The total cost for despatching tickets.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_send_cost_in_desired</code></td>
<td>The total despatch cost in your desired currency.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_surcharge</code></td>
<td>The total booking fee.</td>
</tr>
<tr>
<td><code class="prettyprint">bundle_total_surcharge_in_desired</code></td>
<td>The total booking fee in your desired currency.</td>
</tr>
<tr>
<td><code class="prettyprint">currency</code></td>
<td>The currency of the costs.</td>
</tr>
<tr>
<td><code class="prettyprint">desired_currency</code></td>
<td>Your desired currency, if this has been requested.</td>
</tr>
<tr>
<td><code class="prettyprint">order</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_result.is_semi_credit</code></td>
<td><strong>Legacy - can be ignored.</strong> (TODO: Pete to remove)</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_result.success</code></td>
<td><code class="prettyprint">true</code> if the purchase succeeded for this bundle.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">backend_purchase_reference</code></td>
<td>The purchase reference from the supplier ticketing system. <em>This reference should be included on customer confirmation emails and self-print vouchers</em> as this is the only reference that the venue will recognise.</td>
</tr>
<tr>
<td><code class="prettyprint">event</code></td>
<td>The event object, with the same format as for the <a href="#events-by-id">events endpoint</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">gross_commission</code></td>
<td>The total commission available to both Ingresso and the partner. This will only be visible for partners on margin share agreements or where Ingresso take a fixed fee. If you believe you should have gross_commission visible please contact us api@ingresso.co.uk.</td>
</tr>
<tr>
<td><code class="prettyprint">gross_commission.amount_excluding_vat</code></td>
<td>The total commission amount excluding sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">gross_commission.amount_including_vat</code></td>
<td>The total commission amount including sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">gross_commission.commission_currency</code></td>
<td>The commission currency (note that this can be different to the currency seen by the customer).</td>
</tr>
<tr>
<td><code class="prettyprint">item_number</code></td>
<td>Each order item within a transaction has an item_number, starting at 1.</td>
</tr>
<tr>
<td><code class="prettyprint">performance</code></td>
<td>The performance object, with the same format as for the <a href="#performances-by-id">performances endpoint</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">price_band_code</code></td>
<td>The code for a price band, for example &ldquo;C/pool&rdquo;. The price band code is generally made up of the code from the underlying supplier system, e.g. &ldquo;C&rdquo;, followed by a &ldquo;/&rdquo; separator then &ldquo;pool&rdquo; or &ldquo;alloc&rdquo;, indicating whether the price band is taken from the general pool of tickets or is from a ring-fenced allocation.</td>
</tr>
<tr>
<td><code class="prettyprint">seat_request_status</code></td>
<td>The status of your tickets after they have been reserved. Possible values are <code class="prettyprint">not_requested</code> (specific seats not requested), <code class="prettyprint">got_none</code> (you requested A13 and A14 but we gave you A15 and A16), <code class="prettyprint">got_partial</code> (you requested A13 and A14 but we gave you A14 and A15), <code class="prettyprint">got_all</code> (you requested A13 and A14 and you got A13 and A14 - by far the most common response when requesting specific seats).</td>
</tr>
<tr>
<td><code class="prettyprint">send_method</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">ticket_orders</code></td>
<td>An array of ticket_order objects, one for each discount code. See below for detail.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_code</code></td>
<td>The unique identifier for the ticket type. For seated events this refers to a part of house / seating area such as Grand Circle.</td>
</tr>
<tr>
<td><code class="prettyprint">ticket_type_desc</code></td>
<td>The description for the ticket type. This should be displayed to the customer</td>
</tr>
<tr>
<td><code class="prettyprint">total_no_of_seats</code></td>
<td>The number of seats for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice_in_desired</code></td>
<td>The total face value for this order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee for this order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge_in_desired</code></td>
<td>The total booking fee for this order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">user_commission</code></td>
<td>The commission you earn from this transaction.</td>
</tr>
<tr>
<td><code class="prettyprint">user_commission.amount_excluding_vat</code></td>
<td>Your commission excluding sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">user_commission.amount_excluding_vat</code></td>
<td>Your commission excluding sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">user_commission.amount_including_vat</code></td>
<td>Your commission including sales tax.</td>
</tr>
<tr>
<td><code class="prettyprint">user_commission.commission_currency</code></td>
<td>The commission currency (note that this can be different to the currency seen by the customer).</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">ticket_order</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">discount_code</code></td>
<td>The discount code that applies to this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">discount_desc</code></td>
<td>The description for the discount code.</td>
</tr>
<tr>
<td><code class="prettyprint">no_of_seats</code></td>
<td>The number of tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice</code></td>
<td>The face value per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_seatprice_in_desired</code></td>
<td>The face value per ticket in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge</code></td>
<td>The booking fee per ticket in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">sale_surcharge_in_desired</code></td>
<td>The booking fee per ticket in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">seats</code></td>
<td>For seated events, an array of reserved seats. See below for detail.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice</code></td>
<td>The total face value of all tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_seatprice_in_desired</code></td>
<td>The total face value of all tickets in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge</code></td>
<td>The total booking fee of all tickets in this ticket_order.</td>
</tr>
<tr>
<td><code class="prettyprint">total_sale_surcharge_in_desired</code></td>
<td>The total booking fee of all tickets in this ticket_order, converted to your <code class="prettyprint">desired_currency</code>. This field will not be present for most partners.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">seats</code> attributes:</strong></p>

<p><code class="prettyprint">col_id</code> | The column identifier of the seat.
<code class="prettyprint">full_id</code> | The ID of the seat - comprised of the <code class="prettyprint">col_id</code> and the <code class="prettyprint">row_id</code>, sometimes with a separator between them.
<code class="prettyprint">is_restricted_view</code> | <code class="prettyprint">true</code> if the seat is classified as having a restricted view.
<code class="prettyprint">row_id</code> | The row identifier of the seat.
<code class="prettyprint">seat_text</code> | A message about the seat that must be displayed to customers.
<code class="prettyprint">seat_text_code</code> | An identifier for the seat text (only unique within the current <code class="prettyprint">bundle_source_code</code>). Not useful for most partners.</p>

<h2 id="purchasing-with-redirect">Purchasing with redirect</h2>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request - purchasing with a redirecting debitor such as Stripe</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/purchase.v1 <span class="se">\</span>
    -u <span class="s2">"demo-redirect:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"transaction_uuid=a75a03c3-efc2-11e6-a96d-d0bf9c45f5c0"</span> <span class="se">\</span>
    -d <span class="s2">"first_name=Test"</span> <span class="se">\</span>
    -d <span class="s2">"last_name=Tester"</span> <span class="se">\</span>
    -d <span class="s2">"address_line_one=Metro Building"</span> <span class="se">\</span>
    -d <span class="s2">"address_line_two=1 Butterwick"</span> <span class="se">\</span>
    -d <span class="s2">"town=London"</span> <span class="se">\</span>
    -d <span class="s2">"county=London"</span> <span class="se">\</span>
    -d <span class="s2">"postcode=W6 8DL"</span> <span class="se">\</span>
    -d <span class="s2">"country_code=uk"</span> <span class="se">\</span>
    -d <span class="s2">"phone=0203 137 7420"</span> <span class="se">\</span>
    -d <span class="s2">"email_address=tester@gmail.com"</span> <span class="se">\</span>
    -d <span class="s2">"return_token=ffa02aad-e936-11e6-8ea7-001d9263ab24"</span> <span class="se">\</span>
    -d <span class="s2">"return_url=https://www.yourticketingsite.com/token.ffa02aad-e936-11e6-8ea7-001d9263ab24/return.php"</span> <span class="se">\</span>
    -d <span class="s2">"client_http_user_agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"</span> <span class="se">\</span>
    -d <span class="s2">"client_http_accept=text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"</span> <span class="se">\</span>
    -X POST
</code></pre>
<p>If you do not purchase on credit and want Ingresso&rsquo;s help to manage payment, then it is necessary to support redirects. </p>

<p>Redirects are necessary when:</p>

<ul>
<li>Payment is taken with Stripe (we have internally set Stripe up as a redirecting payment provider, even though it doesn&rsquo;t necessarily need to redirect)</li>
<li>Payment is taken on a third party payment page such as PayPal (customers are redirected to that page)</li>
<li>3D Secure is used (Verified by Visa or MasterCard SecureCode)</li>
</ul>

<p>To support redirects you should use the following sequence:</p>

<ol>
<li>You call purchase, passing in the parameters below</li>
<li>The Ingresso platform will determine whether you need to redirect your customer. If so the response will assess </li>
</ol>

<p>All of the parameters mentioned above in the <a href="#purchasing-on-credit">purchasing on credit</a> section are used.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">return_token</code></td>
<td>This token must be alphanumeric with &rsquo;-&rsquo;, &rsquo;_&rsquo; and &rsquo;.&rsquo; also allowed. We recommend that partners generate a UUID for this token.</td>
</tr>
<tr>
<td><code class="prettyprint">return_url</code></td>
<td>The <code class="prettyprint">return_token</code> also has to be present in the path for the return_url and no query string parameters are allowed in the return_url.</td>
</tr>
<tr>
<td><code class="prettyprint">client_http_user_agent</code></td>
<td>The user agent, taken from the headers of your customer&rsquo;s web browser. This and <code class="prettyprint">client_http_accept</code> are required because the payment provider that generates the callout may need to know detail of the browser, for example to serve a mobile-optimised page.</td>
</tr>
<tr>
<td><code class="prettyprint">client_http_accept</code></td>
<td>The accept content types, from the headers of your customer&rsquo;s web browser.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response - purchasing on-credit</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"callout"</span>: <span class="o">{</span>
    <span class="s2">"debitor_integration_data"</span>: <span class="o">{</span>
      <span class="s2">"debit_amount"</span>: 76.5,
      <span class="s2">"debit_base_amount"</span>: 7650,
      <span class="s2">"debit_currency"</span>: <span class="s2">"gbp"</span>,
      <span class="s2">"debitor_specific_data"</span>: <span class="o">{</span>
        <span class="s2">"is_dummy_3d_secure"</span>: <span class="nb">false</span>
      <span class="o">}</span>,
      <span class="s2">"debitor_type"</span>: <span class="s2">"dummy"</span>
    <span class="o">}</span>,
    <span class="s2">"redirect_html_page_data"</span>: <span class="s2">"&lt;html&gt;&lt;head&gt;</span><span class="se">\n</span><span class="s2">&lt;script type=</span><span class="se">\"</span><span class="s2">text/javascript</span><span class="se">\"</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">window.location=</span><span class="se">\"</span><span class="s2">https:</span><span class="se">\\</span><span class="s2">/</span><span class="se">\\</span><span class="s2">/api.ticketswitch.com</span><span class="se">\\</span><span class="s2">/cgi-bin</span><span class="se">\\</span><span class="s2">/dummy_redirect.buy</span><span class="se">\\</span><span class="s2">/tswitch?return_url=https%3A%2F%2Fdemo.ticketswitch.com%2Ftoken.ffa02aad-e936-11e6-8ea7-001d9263ab24%2Freturn.php</span><span class="se">\\</span><span class="s2">u0026title=Dummy%20external%20card%20details%20page%20for%20debit%20on%20system%20%27ext_test0%27</span><span class="se">\"</span><span class="s2">;</span><span class="se">\n</span><span class="s2">&lt;/script&gt;&lt;/head&gt;</span><span class="se">\n</span><span class="s2">&lt;body&gt;&lt;/body&gt;&lt;/html&gt;"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">customer</code></td>
<td>See below for object detail.</td>
</tr>
<tr>
<td><code class="prettyprint">language_list</code></td>
<td>(TODO)</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_iso8601_date_and_time</code></td>
<td>The purchase time in ISO 8601 format.</td>
</tr>
<tr>
<td><code class="prettyprint">reserve_iso8601_date_and_time</code></td>
<td>The reserve time in ISO 8601 format.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_status</code></td>
<td><code class="prettyprint">purchased</code>, <code class="prettyprint">failed</code> or <code class="prettyprint">attempting</code> (will only be seen if the customer is being redirected to a payment page - most partners will not see this).</td>
</tr>
<tr>
<td><code class="prettyprint">trolley_contents</code></td>
<td>See below for object detail.</td>
</tr>
</tbody></table>

<p><strong><code class="prettyprint">customer</code> attributes:</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">addr_line_one</code></td>
<td>The first line of the customer&rsquo;s address.</td>
</tr>
<tr>
<td><code class="prettyprint">addr_line_one_latin</code></td>
<td>The first line of the customer&rsquo;s address, (TODO finish).</td>
</tr>
</tbody></table>

          <h1 id="status">Status</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/status.v1?transaction_uuid={trans_uuid}
</code></pre>
<p>This resource allows you to view the details and status of a transaction. A
transaction is created when tickets are <a href="#reserve">reserved</a>, and it changes
status if it is <a href="#purchase">purchased</a> or <a href="#release">released</a>. Status can be
called on transactions in any state. An example use is to retrieve information
to display on a confirmation page.</p>

<h3 id="request">Request</h3>

<blockquote>
<p><strong>Example request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl https://demo.ticketswitch.com/f13/status.v1 <span class="se">\</span>
    -u <span class="s2">"demo:demopass"</span> <span class="se">\</span>
    -d <span class="s2">"transaction_uuid=284d9c3a-d698-11e6-be8c-002590326962"</span> <span class="se">\</span>
    -G
</code></pre><pre class="highlight python"><code><span class="kn">from</span> <span class="nn">pyticketswitch</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'demo'</span><span class="p">,</span> <span class="s">'demopass'</span><span class="p">)</span>
<span class="n">TODO</span><span class="p">:</span> <span class="n">FINISH</span> <span class="n">ME</span> <span class="n">NIC</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add_customer</code></td>
<td>Retrieve customer data (only applies to purchased transactions)</td>
</tr>
<tr>
<td><code class="prettyprint">add_external_sale_page</code></td>
<td>Retrieve the HTML for the confirmation page, if you requested Ingresso to save this when <a href="#purchase">purchasing</a> (only applies to purchased transactions). <em>Primarily for internal use</em>.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_uuid</code></td>
<td>The unique identifier returned by a previous <a href="#reserve">reserve</a>.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p><strong>Example response</strong></p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"language_list"</span>: <span class="s2">"en-gb,en,en-us,nl"</span>,
  <span class="s2">"minutes_left_on_reserve"</span>: 14.3,
  <span class="s2">"moneyflow_channel_code"</span>: <span class="s2">"demo"</span>,
  <span class="s2">"remote_site"</span>: <span class="s2">""</span>,
  <span class="s2">"reserve_iso8601_date_and_time"</span>: <span class="s2">"2017-01-09T18:19:27Z"</span>,
  <span class="s2">"reserve_user"</span>: <span class="o">{</span>
    <span class="s2">"backend_group"</span>: <span class="s2">"demo_internal_credit_group"</span>,
    <span class="s2">"content_group"</span>: <span class="s2">""</span>,
    <span class="s2">"default_country_code"</span>: <span class="s2">"uk"</span>,
    <span class="s2">"is_b2b"</span>: <span class="nb">true</span>,
    <span class="s2">"real_name"</span>: <span class="s2">"Demonstration User"</span>,
    <span class="s2">"statement_descriptor"</span>: <span class="s2">""</span>,
    <span class="s2">"style"</span>: <span class="s2">"fixed-tabs"</span>,
    <span class="s2">"sub_style"</span>: <span class="s2">"styled-aff-default"</span>,
    <span class="s2">"sub_sub_style"</span>: <span class="s2">"ingresso-generic"</span>,
    <span class="s2">"sub_user"</span>: <span class="s2">""</span>,
    <span class="s2">"user_id"</span>: <span class="s2">"demo"</span>
  <span class="o">}</span>,
  <span class="s2">"transaction_status"</span>: <span class="s2">"reserved"</span>,
  <span class="s2">"trolley"</span>: <span class="o">{</span>
    <span class="s2">"bundle"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"bundle_order_count"</span>: 1,
        <span class="s2">"bundle_source_code"</span>: <span class="s2">"ext_test0"</span>,
        <span class="s2">"bundle_source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
        <span class="s2">"bundle_total_cost"</span>: 71.5,
        <span class="s2">"bundle_total_seatprice"</span>: 70,
        <span class="s2">"bundle_total_send_cost"</span>: 1.5,
        <span class="s2">"bundle_total_surcharge"</span>: 0,
        <span class="s2">"currency"</span>: <span class="o">{</span>
          <span class="s2">"currency_code"</span>: <span class="s2">"gbp"</span>
        <span class="o">}</span>,
        <span class="s2">"order"</span>: <span class="o">[</span>
          <span class="o">{</span>
            <span class="s2">"event"</span>: <span class="o">{</span>
              <span class="s2">"city_code"</span>: <span class="s2">"london-uk"</span>,
              <span class="s2">"city_desc"</span>: <span class="s2">"London"</span>,
              <span class="s2">"classes"</span>: <span class="o">{</span>
                <span class="s2">"dance"</span>: <span class="s2">"Ballet &amp; Dance"</span>
              <span class="o">}</span>,
              <span class="s2">"country_code"</span>: <span class="s2">"uk"</span>,
              <span class="s2">"country_desc"</span>: <span class="s2">"United Kingdom"</span>,
              <span class="s2">"critic_review_percent"</span>: 100,
              <span class="s2">"custom_filter"</span>: <span class="o">[]</span>,
              <span class="s2">"event_desc"</span>: <span class="s2">"Matthew Bourne's Nutcracker TEST"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"event_path"</span>: <span class="s2">"/6IF-matthew-bourne-s-nutcracker-test/"</span>,
              <span class="s2">"event_status"</span>: <span class="s2">"live"</span>,
              <span class="s2">"event_type"</span>: <span class="s2">"simple_ticket"</span>,
              <span class="s2">"event_upsell_list"</span>: <span class="o">{</span>
                <span class="s2">"event_id"</span>: <span class="o">[</span>
                  <span class="s2">"6IE"</span>,
                  <span class="s2">"MH0"</span>
                <span class="o">]</span>
              <span class="o">}</span>,
              <span class="s2">"event_uri_desc"</span>: <span class="s2">"Matthew-Bourne%27s-Nutcracker-TEST"</span>,
              <span class="s2">"geo_data"</span>: <span class="o">{</span>
                <span class="s2">"latitude"</span>: 51.52961137,
                <span class="s2">"longitude"</span>: -0.10601562
              <span class="o">}</span>,
              <span class="s2">"has_no_perfs"</span>: <span class="nb">false</span>,
              <span class="s2">"is_seated"</span>: <span class="nb">true</span>,
              <span class="s2">"max_running_time"</span>: 120,
              <span class="s2">"min_running_time"</span>: 120,
              <span class="s2">"need_departure_date"</span>: <span class="nb">false</span>,
              <span class="s2">"need_duration"</span>: <span class="nb">false</span>,
              <span class="s2">"need_performance"</span>: <span class="nb">true</span>,
              <span class="s2">"postcode"</span>: <span class="s2">"EC1R 4TN"</span>,
              <span class="s2">"show_perf_time"</span>: <span class="nb">true</span>,
              <span class="s2">"source_code"</span>: <span class="s2">"ext_test0"</span>,
              <span class="s2">"source_desc"</span>: <span class="s2">"External Test Backend 0"</span>,
              <span class="s2">"user_review_percent"</span>: 100,
              <span class="s2">"venue_desc"</span>: <span class="s2">"Sadler's Wells"</span>,
              <span class="s2">"venue_uri_desc"</span>: <span class="s2">"Sadler%27s-Wells"</span>
            <span class="o">}</span>,
            <span class="s2">"item_number"</span>: 1,
            <span class="s2">"performance"</span>: <span class="o">{</span>
              <span class="s2">"date_desc"</span>: <span class="s2">"Tue, 9th May 2017"</span>,
              <span class="s2">"event_id"</span>: <span class="s2">"6IF"</span>,
              <span class="s2">"has_pool_seats"</span>: <span class="nb">true</span>,
              <span class="s2">"is_ghost"</span>: <span class="nb">false</span>,
              <span class="s2">"is_limited"</span>: <span class="nb">false</span>,
              <span class="s2">"iso8601_date_and_time"</span>: <span class="s2">"2017-05-09T19:30:00+01:00"</span>,
              <span class="s2">"perf_id"</span>: <span class="s2">"6IF-B0T"</span>,
              <span class="s2">"perf_name"</span>: <span class="s2">"Including back stage pass"</span>,
              <span class="s2">"time_desc"</span>: <span class="s2">"7.30 PM"</span>
            <span class="o">}</span>,
            <span class="s2">"price_band_code"</span>: <span class="s2">"A/pool"</span>,
            <span class="s2">"seat_request_status"</span>: <span class="s2">"not_requested"</span>,
            <span class="s2">"ticket_orders"</span>: <span class="o">{</span>
              <span class="s2">"ticket_order"</span>: <span class="o">[</span>
                <span class="o">{</span>
                  <span class="s2">"discount_code"</span>: <span class="s2">""</span>,
                  <span class="s2">"discount_desc"</span>: <span class="s2">""</span>,
                  <span class="s2">"no_of_seats"</span>: 2,
                  <span class="s2">"sale_seatprice"</span>: 35,
                  <span class="s2">"sale_surcharge"</span>: 0,
                  <span class="s2">"seats"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"144"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"FN144"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"FN"</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                      <span class="s2">"col_id"</span>: <span class="s2">"143"</span>,
                      <span class="s2">"full_id"</span>: <span class="s2">"FN143"</span>,
                      <span class="s2">"is_restricted_view"</span>: <span class="nb">false</span>,
                      <span class="s2">"row_id"</span>: <span class="s2">"FN"</span>
                    <span class="o">}</span>
                  <span class="o">]</span>,
                  <span class="s2">"total_sale_seatprice"</span>: 70,
                  <span class="s2">"total_sale_surcharge"</span>: 0
                <span class="o">}</span>
              <span class="o">]</span>
            <span class="o">}</span>,
            <span class="s2">"ticket_type_code"</span>: <span class="s2">"CIRCLE"</span>,
            <span class="s2">"ticket_type_desc"</span>: <span class="s2">"Upper circle"</span>,
            <span class="s2">"total_no_of_seats"</span>: 2,
            <span class="s2">"total_sale_seatprice"</span>: 70,
            <span class="s2">"total_sale_surcharge"</span>: 0
          <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"minutes_left_on_reserve"</span>: 14.3,
    <span class="s2">"transaction_uuid"</span>: <span class="s2">"284d9c3a-d698-11e6-be8c-002590326962"</span>,
    <span class="s2">"trolley_bundle_count"</span>: 1,
    <span class="s2">"trolley_order_count"</span>: 1
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>The returned attributes are dependent on the status of the transaction. For
example a purchased transaction will appear differently to a released
transaction.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">customer</code></td>
<td>Detail of the purchasing customer (TODO: can we refer to the purchase response for these fields?). Only included when the <code class="prettyprint">add_customer</code> parameter is present and the <code class="prettyprint">transaction_status</code> is <code class="prettyprint">purchased</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">external_sale_page</code></td>
<td>The detail of the confirmation page that was displayed to customers. Only included when the <code class="prettyprint">add_external_sale_page</code> parameter is present and the <code class="prettyprint">transaction_status</code> is <code class="prettyprint">purchased</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">purchase_iso8601_date_and_time</code></td>
<td>The time the tickets were successfully purchased.</td>
</tr>
<tr>
<td><code class="prettyprint">reserve_iso8601_date_and_time</code></td>
<td>The time the tickets were successfully reserved.</td>
</tr>
<tr>
<td><code class="prettyprint">transaction_status</code></td>
<td>One of <code class="prettyprint">reserved</code>, <code class="prettyprint">released</code>, <code class="prettyprint">purchased</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">attempting</code> (will only be seen if the customer is being redirected to a payment page - most partners will not see this).</td>
</tr>
<tr>
<td><code class="prettyprint">trolley</code></td>
<td>The <code class="prettyprint">trolley</code> object. If the <code class="prettyprint">transaction_status</code> is <code class="prettyprint">reserved</code> or <code class="prettyprint">released</code>, the trolley attributes are as described in the <a href="#reserve">reserve</a> response. If the <code class="prettyprint">transaction_status</code> is <code class="prettyprint">purchased</code> the trolley attributes are as described in the <a href="#purchase">purchase</a> response. Note that if the <code class="prettyprint">transaction_status</code> is <code class="prettyprint">released</code> you should ignore the value of <code class="prettyprint">minutes_left_on_reserve</code>.</td>
</tr>
</tbody></table>

          <h1 id="cities">Cities</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/cities.v1
</code></pre>
          <h1 id="classes">Classes</h1>

<blockquote>
<p><strong>Definition</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://demo.ticketswitch.com/f13/classes.v1
</code></pre>
          <h1 id="bitmask-fields">Bitmask Fields</h1>

<p>This section describes the bitmasks fields returned in response to some API
calls and explains how to decode their data. </p>

<p>The bitmask is an positive integer whose binary representation can be considered
as a sequence of boolean values. Bitmasks are little-endian; As such the start
of the sequence is the last (or right-most) bit of the byte.</p>

<h2 id="encoding">Encoding</h2>
<pre class="highlight plaintext"><code> Sun | Mon | Tue | Wed | Thu | Fri | Sat
-----|-----|-----|-----|-----|-----|-----
  X  |  X  |     |  X  |  X  |     |  X
</code></pre>
<p>Consider the situation where we have a show with a performance on every day of
the week with the exception of Tuesday and Friday. </p>
<pre class="highlight plaintext"><code> Sun | Mon | Tue | Wed | Thu | Fri | Sat
-----|-----|-----|-----|-----|-----|-----
  1  |  1  |  0  |  1  |  1  |  0  |  1
</code></pre>
<p>If we put a <code class="prettyprint">1</code> in the column for every day of the week when the performance is
available, and <code class="prettyprint">0</code> for every day when it&rsquo;s not available then we get something
that looks a lot like binary! Indeed as we have 7 bits (one for each day of the
week) we could represent this as the 8bit number 218.</p>
<pre class="highlight plaintext"><code>  X  | Sat | Fri | Thu | Wed | Tue | Mon | Sun
-----|-----|-----|-----|-----|-----|-----|-----
  0  |  1  |  0  |  1  |  1  |  0  |  1  |  1    ==  91
</code></pre>
<p>If we pad the table with an additional day of the week (day <code class="prettyprint">X</code> in this example)
where the value is always 0, reorder the days of the week from right to left
starting at Sunday we can now read this as the 8 bit integer <code class="prettyprint">91</code></p>

<p>This reordering is important as it&rsquo;s probably the direction that your language
converts binary data into integers.</p>

<h2 id="decoding">Decoding</h2>
<pre class="highlight plaintext"><code>using bitwise OR:

  X  | Sat | Fri | Thu | Wed | Tue | Mon | Sun
-----|-----|-----|-----|-----|-----|-----|-----
  0  |  1  |  0  |  1  |  1  |  0  |  1  |  1    ==             91
  0  |  0  |  0  |  0  |  1  |  0  |  0  |  0    ==              8
  0  |  1  |  0  |  1  |  1  |  0  |  1  |  1    == (91 | 8) == 91

  X  | Sat | Fri | Thu | Wed | Tue | Mon | Sun
-----|-----|-----|-----|-----|-----|-----|-----
  0  |  1  |  0  |  1  |  1  |  0  |  1  |  1    ==             91
  0  |  0  |  0  |  0  |  0  |  1  |  0  |  0    ==              4
  0  |  1  |  0  |  1  |  1  |  0  |  1  |  1    == (91 | 4) == 95

</code></pre>
<p>Assume that you have received <code class="prettyprint">91</code> as the week day mask in a response from the
API and you want to see if the event has a performance on a Wednesday. You can
quickly check this with an <code class="prettyprint">OR</code> of the mask against the correct day of the week in binary. For
example the number you get when you put a <code class="prettyprint">1</code> in only the Wednesday column is
<code class="prettyprint">8</code> or <code class="prettyprint">00001000</code>. When you use <code class="prettyprint">OR</code> it will give you a <code class="prettyprint">1</code> if there is a <code class="prettyprint">1</code> in
that column in the mask or in your day of the week. <code class="prettyprint">00001000 | 01011011 ==
01011011</code> or <code class="prettyprint">91</code>. Because the output is the same as the mask you now know that
there is a <code class="prettyprint">1</code> in the 4th bit of the mask.  If you wanted to check Tuesday you
could use <code class="prettyprint">4</code> or <code class="prettyprint">00000100</code> against the mask, this would return <code class="prettyprint">01011111</code> or
<code class="prettyprint">95</code>; the output is different from your mask, therefore we don&rsquo;t have anything
on a Tuesday.</p>

          <h1 id="caching">Caching</h1>

<p>Ingresso cache data at these levels:</p>

<ol>
<li>Events</li>
<li>Performances</li>
<li>Availability</li>
</ol>

<h2 id="caching-for-events-and-performances">Caching for events and performances</h2>

<p>Ingresso cache two data sets for events and performances:</p>

<p>a) Approximately every hour Ingresso request events and performances from the
individual supplier ticketing systems - any new events or performances are
automatically added to the Ingresso database. New events are supplemented with
images, descriptive content etc by our setup team and then go live, but
performances automatically go live. When you request <a href="#events">events</a> or
<a href="#performances">performances</a> this request is answered directly from the
Ingresso database; we do not pass the request on to the supplier ticketing
system.</p>

<p>b) Every time an <a href="#availability">availability request</a> is made, Ingresso
recalculate cost ranges. Cost ranges include a minimum and maximum price and
details of any offers. Since they are built from availability requests, they are
not necessarily accurate (for example if a new cheaper performance is added but
availability hasn&rsquo;t yet been requested for that performance, then the cost range
for the event will not be accurate. We have processes to keep these up to date
in some cases, but they are not guaranteed to be present. Cost ranges are
described in more detail for example in the <a href="#cost-range">event cost range</a>
section.</p>

<h2 id="caching-for-availability">Caching for availability</h2>

<p>Availability is cached for a short period of time (usually 90 seconds). If for
example your end customer selected the 1st March 7.30pm performance, then
selected 2nd March 7.30pm, then selected 1st March 7.30pm again at this point
the availability cache would be hit (assuming it was within 90 seconds of the
first request). This is to avoid overloading the supplier ticketing systems
during periods of high demand, for example an on-sale. The availability cache is
cleared when tickets are reserved, so the cached availability is unlikely to be
inaccurate.</p>

<h2 id="other-caching-requirements">Other caching requirements</h2>

<p>If the above caching does not solve your problem, or if you have other caching
requirements, please get in touch! api@ingresso.co.uk</p>

<p>Do not go away and implement your own caching system that continuously makes
availability requests to Ingresso, without discussing this with us in advance.
This puts more load than necessary on the supplier ticketing systems, and can
therefore reduce the throughput that we can offer. It is more complex than
partners often first anticipate, for example it normally takes a lot longer to
scan all performances for all events than partners imagine, and there are a
number of edge cases that are easy to miss, e.g. avoiding retrying when a
supplier system is under load or returning errors. We will consider closing the
API accounts of anyone doing this without prior approval.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
  </body>
</html>
